basePath: https://client.deepspacesync.com/api/v1/
info:
  description: Deep Space API
  title: Deep Space API
  version: 2.0.0
paths:
  /v2/actions/associations:
    get:
      operationId: v2_getAssociations
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get associations for a user
      tags:
      - Actions
      x-min-permissions: isRevitUser
  /v2/addins:
    get:
      description: Get Deep Space Addins (Revit + IFC, Navis)
      operationId: getAddins
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT: []
      summary: Get Addins
      tags:
      - Addins
  /v2/business-entities:
    get:
      description: Returns MySQL link ids and Firestore metadata blocks for the requested
        workspace. FE merges and renders.
      operationId: v2_listBusinessEntitiesGet
      parameters:
      - in: query
        name: workspaceId
        required: true
        type: string
      - default: false
        in: query
        name: skipSql
        required: false
        type: boolean
      responses:
        200:
          description: Combined MySQL + Firestore blocks
          schema:
            properties:
              data:
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: List Business Entities (self, parent, children)
      tags:
      - Business Entities
    post:
      description: Returns MySQL link ids and Firestore metadata blocks for the requested
        workspace. FE merges and renders.
      operationId: v2_listBusinessEntities
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            skipSql:
              default: false
              description: Skip MySQL queries for testing
              type: boolean
            workspaceId:
              description: Workspace identifier (ds_workspace_name)
              type: string
          required:
          - workspaceId
          type: object
      responses:
        200:
          description: Combined MySQL + Firestore blocks
          schema:
            properties:
              data:
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: List Business Entities (self, parent, children)
      tags:
      - Business Entities
  /v2/business-entities/{parentWorkspaceId}/links:
    post:
      description: Creates a pending_review link. Hard-blocks self-link and existing
        approved parent; may return hasOtherPending=true.
      operationId: v2_createBusinessEntityLink
      parameters:
      - in: path
        name: parentWorkspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            childWorkspaceId:
              type: string
          required:
          - childWorkspaceId
          type: object
      responses:
        201:
          description: Draft link created
          schema:
            properties:
              data:
                properties:
                  hasOtherPending:
                    type: boolean
                  linkId:
                    type: integer
                  status:
                    type: string
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Create draft parent-child link (MySQL)
      tags:
      - Business Entities
  /v2/business-entities/{workspaceId}:
    get:
      operationId: v2_getBusinessEntity
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Firestore metadata document
          schema:
            properties:
              data:
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get Business Entity metadata (Firestore)
      tags:
      - Business Entities
    put:
      operationId: v2_updateBusinessEntity
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            acn:
              type: string
            bank:
              properties:
                accountName:
                  type: string
                accountNumber:
                  type: string
                bsb:
                  type: string
              type: object
            contacts:
              properties:
                apEmail:
                  type: string
              type: object
            displayName:
              type: string
            logoUrl:
              type: string
            notes:
              type: string
          type: object
      responses:
        200:
          description: Saved metadata
          schema:
            type: object
      security:
      - JWT_v2: []
      summary: Update Business Entity metadata (Firestore)
      tags:
      - Business Entities
  /v2/channels/{channelAlias}/badges/{badgeTypeId}:
    get:
      description: Retrieves badges for users in a specified global company.
      operationId: v2_getBadges
      parameters:
      - description: The DS Site channel alias to retrieve badges from
        in: path
        name: channelAlias
        required: true
        type: string
      - description: The ID of the badge type to retrieve
        in: path
        name: badgeTypeId
        required: true
        type: integer
      - description: The ID of the global company to retrieve users from
        in: query
        name: globalCompanyId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  awards:
                    description: List of badge awards
                    items:
                      properties:
                        awardedBy:
                          description: User who awarded the badge
                        awardedOn:
                          description: Date and time when the badge was awarded
                        awardedTo:
                          description: User who received the badge
                      type: object
                    type: array
                  type:
                    properties:
                      id:
                        description: Badge type ID
                      image:
                        description: Image information for the badge type
                      masterVersionId:
                        description: Master version ID of the badge type
                      name:
                        description: Name of the badge type
                    type: object
                type: object
              total:
                description: Total number of badges retrieved
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get badges for users in a global company
      tags:
      - Badges
  /v2/data-sync/system-table/{reportName}:
    get:
      operationId: v2_syncSystemTableToGithub
      parameters:
      - in: path
        name: reportName
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Sync data from GCS to GitHub
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/files:
    get:
      operationId: v2_v2_getGlobalFiles
      parameters:
      - description: Filter by file category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by file type
        in: query
        name: file_type
        required: false
        type: string
      - description: Filter by related document ID
        in: query
        name: related_document_id
        required: false
        type: string
      - description: Include all versions for each file in response
        in: query
        name: include_versions
        required: false
        type: boolean
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get global files list
      tags:
      - Get Data
    post:
      operationId: v2_v2_postGlobalFiles
      parameters:
      - description: Action type (signed-urls, process)
        in: query
        name: action
        required: false
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              description: Array of file objects
              items:
                properties:
                  category:
                    type: string
                  file_size_bytes:
                    type: integer
                  filename:
                    type: string
                  filetype:
                    type: string
                  related_document_id:
                    type: string
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successfully returns signed URLs or creates file metadata
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create global file metadata or get signed URLs
      tags:
      - Upload Data
  /v2/files/{fileId}:
    delete:
      operationId: v2_v2_deleteGlobalFile
      parameters:
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully deleted file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete global file
      tags:
      - Upload Data
    get:
      operationId: v2_v2_getGlobalFile
      parameters:
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully returns file details
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get global file details
      tags:
      - Get Data
    patch:
      operationId: v2_v2_patchGlobalFile
      parameters:
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            description:
              type: string
            display_name:
              type: string
            related_document_id:
              type: string
          type: object
      responses:
        200:
          description: Successfully updated file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update global file metadata
      tags:
      - Upload Data
  /v2/files/{fileId}/new-version:
    post:
      operationId: v2_v2_postGlobalFileNewVersion
      parameters:
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            change_description:
              description: Description of changes made
              type: string
            file_size_bytes:
              description: Size of the file in bytes
              type: integer
            file_url:
              description: URL of the uploaded file
              type: string
            new_filename:
              description: Filename for the new version
              type: string
          type: object
      responses:
        200:
          description: Successfully uploaded new version
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload new version of existing file
      tags:
      - Upload Data
  /v2/files/{fileId}/versions:
    get:
      operationId: v2_v2_getGlobalFileVersions
      parameters:
      - in: path
        name: fileId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns file versions
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get file version history
      tags:
      - Get Data
  /v2/global-companies:
    get:
      operationId: v2_getGlobalCompanies
      parameters:
      - in: query
        name: limit
        required: false
        type: number
      - in: query
        name: offset
        required: false
        type: number
      - description: Search query (case insensitive) by company name
        in: query
        name: search
        required: false
        type: string
      - description: Global Company ID
        in: query
        name: globalCompanyId
        required: false
        type: number
      - description: Include shared companies, only works if globalCompanyId is also
          provided
        in: query
        name: includeSharedCompanies
        required: false
        type: boolean
      - description: Include metadata for the global company
        in: query
        name: includeMetadata
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              limit:
                type: number
              message:
                type: string
              offset:
                type: number
              total:
                type: number
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Global Companies
      tags:
      - Global Company Directory
    post:
      operationId: v2_createGlobalCompany
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            abn:
              type: number
            company_type:
              type: string
            industry:
              type: string
            name:
              type: string
            nzbn:
              type: number
            primary_contact_email:
              type: string
            primary_contact_phone:
              type: string
          type: object
      responses:
        200:
          description: Successful response
        400:
          description: Bad Request
        401:
          description: Unauthorized
      security:
      - JWT_v2: []
      summary: Create Global Company
      tags:
      - Global Company Directory
  /v2/global-companies/alldocuments:
    get:
      operationId: v2_getAllDocuments
      parameters:
      - description: Global Company ID (base company to resolve sharing relationships)
        in: query
        name: globalCompanyId
        required: true
        type: number
      - description: Maximum number of documents to return (default 1000)
        in: query
        name: limit
        required: false
        type: number
      - description: Number of documents to skip (default 0)
        in: query
        name: offset
        required: false
        type: number
      - description: Metadata key to search for (default 'expiry_date')
        in: query
        name: metadataKey
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    cde_id:
                      type: number
                    company_id:
                      type: number
                    created_at:
                      format: date-time
                      type: string
                    metadata_key:
                      type: string
                    metadata_value:
                      type: string
                    tenant:
                      type: string
                  type: object
                type: array
              limit:
                type: number
              message:
                type: string
              metadata_key_searched:
                type: string
              offset:
                type: number
              schemas_queried:
                type: number
              total:
                type: number
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get All Documents Across Sharing Companies
      tags:
      - Global Company Directory
  /v2/global-companies/allworkers:
    get:
      operationId: v2_getAllWorkers
      parameters:
      - description: Global Company ID (base company to resolve sharing relationships)
        in: query
        name: globalCompanyId
        required: true
        type: number
      - in: query
        name: limit
        required: false
        type: number
      - in: query
        name: offset
        required: false
        type: number
      - description: Include worker metadata using definitions from the provided global
          company
        in: query
        name: includeMetadata
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              limit:
                type: number
              message:
                type: string
              offset:
                type: number
              total:
                type: number
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get All Workers Across Sharing Companies
      tags:
      - Global Company Directory
  /v2/global-companies/trade-categories:
    get:
      operationId: v2_getAllTradeCategories
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    created_at:
                      description: Timestamp when the trade category was created
                      format: date-time
                      type: string
                    created_by:
                      description: User who created the trade category
                      type: string
                    doc_type:
                      description: Document type identifier
                      type: string
                    id:
                      description: Unique identifier for the trade category
                      type: string
                    is_deleted:
                      description: Soft delete flag
                      type: boolean
                    trade_name:
                      description: Name of the trade category
                      type: string
                    updated_at:
                      description: Timestamp when the trade category was last updated
                      format: date-time
                      type: string
                  type: object
                type: array
              message:
                description: Response message
                type: string
              total:
                description: Total number of trade categories returned
                type: number
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get All Trade Categories
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/cde/{cdeId}/metadata:
    put:
      operationId: v2_updateCdeMetadataViaGlobalCompany
      parameters:
      - description: Global Company ID (must have sharing permissions to target workspace)
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: CDE document ID to update metadata for
        in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            metadata_key:
              description: The key of the metadata to update
              type: string
            metadata_value:
              description: The value of the metadata to set
              type: string
            project_id:
              description: Optional project ID (if CDE is project-scoped)
              type: integer
            workspace_id:
              description: Target workspace ID where the CDE document exists
              type: string
          required:
          - workspace_id
          - metadata_key
          - metadata_value
          type: object
      responses:
        200:
          description: Successfully updated CDE metadata
          schema:
            properties:
              data:
                properties:
                  cde_id:
                    type: integer
                  metadata_key:
                    type: string
                  metadata_value:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        403:
          description: Forbidden - No sharing permissions or invalid CDE
        404:
          description: Not Found - CDE or workspace not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update CDE metadata via global company sharing permissions
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/detailed-users:
    post:
      operationId: v2_bulkDetailedUserInvite
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Only applies for Admin use - doesn't send invite email to users
        in: query
        name: skipEmail
        required: false
        type: boolean
      - in: body
        name: body
        required: true
        schema:
          properties:
            users:
              items:
                properties:
                  email:
                    description: User's email address (required)
                    format: email
                    type: string
                  extra_details:
                    description: Worker extra details for Firestore (optional)
                    properties:
                      delegation_tier:
                        description: Worker delegation tier
                        type: string
                      employment_type:
                        description: Type of employment
                        type: string
                      job_title:
                        description: Worker's job title
                        type: string
                      labour_rate_id:
                        description: Labour rate identifier (can be empty string)
                        type: string
                      status:
                        description: Worker status (active/inactive)
                        type: boolean
                      tags:
                        description: Array of tags associated with the worker
                        items:
                          type: string
                        type: array
                      trade:
                        description: Worker's trade/profession
                        type: string
                    type: object
                  first_name:
                    description: User's first name (optional)
                    type: string
                  last_name:
                    description: User's last name (optional)
                    type: string
                required:
                - email
                type: object
              maxItems: 50
              type: array
          required:
          - users
          type: object
      responses:
        200:
          description: Successful response with detailed results
          schema:
            properties:
              belong_to_diff_company_users:
                properties:
                  message:
                    type: string
                  users:
                    items:
                      type: object
                    type: array
                type: object
              extra_details_results:
                properties:
                  failed:
                    properties:
                      message:
                        type: string
                      users:
                        items:
                          properties:
                            email:
                              type: string
                            error:
                              type: string
                            kinde_id:
                              type: string
                            message:
                              type: string
                          type: object
                        type: array
                    type: object
                  skipped:
                    properties:
                      message:
                        type: string
                      users:
                        items:
                          properties:
                            email:
                              type: string
                            kinde_id:
                              type: string
                            message:
                              type: string
                          type: object
                        type: array
                    type: object
                  successful:
                    properties:
                      message:
                        type: string
                      users:
                        items:
                          properties:
                            email:
                              type: string
                            kinde_id:
                              type: string
                            message:
                              type: string
                          type: object
                        type: array
                    type: object
                type: object
              invalid_data:
                properties:
                  message:
                    type: string
                  users:
                    items:
                      properties:
                        email:
                          type: string
                        message:
                          type: string
                        status_code:
                          type: integer
                      type: object
                    type: array
                type: object
              successful_users:
                properties:
                  message:
                    type: string
                  users:
                    items:
                      properties:
                        email:
                          type: string
                        first_name:
                          type: string
                        kinde_id:
                          type: string
                        last_name:
                          type: string
                        user_id:
                          type: string
                        username:
                          type: string
                        verified_by_company:
                          type: boolean
                        verified_by_user:
                          type: boolean
                      type: object
                    type: array
                type: object
            type: object
        400:
          description: Bad Request - Validation errors
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Global company not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Bulk Detailed User Invite (with Worker Extra Details)
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/metadata:
    put:
      operationId: v2_saveGlobalCompanyMetadataValues
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            metadata_values:
              items:
                properties:
                  metadata_from_global_company_id:
                    description: ID of the company this metadata is from
                    type: number
                  metadata_key:
                    description: Key of the metadata definition
                    type: string
                  metadata_value:
                    description: Value to save for this metadata
                    type: string
                required:
                - metadata_key
                - metadata_value
                - metadata_from_global_company_id
                type: object
              type: array
          required:
          - metadata_values
          type: object
      responses:
        200:
          description: Metadata values saved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    global_metadata_id:
                      type: number
                    metadata_from_id_global_company_directory:
                      type: number
                    metadata_key:
                      type: string
                    metadata_name:
                      type: string
                    metadata_type:
                      type: string
                    metadata_value:
                      type: string
                    shared_metadata_id:
                      type: number
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        404:
          description: Not Found - No metadata definitions found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Save or replace metadata values for a global company
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/metadata/definitions:
    delete:
      operationId: v2_deleteGlobalCompanyMetadataDefinition
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            metadata_key:
              description: Key of the metadata definition to delete
              type: string
          required:
          - metadata_key
          type: object
      responses:
        200:
          description: Metadata definition deleted successfully
          schema:
            properties:
              data:
                properties:
                  editable_by:
                    type: string
                  global_metadata_id:
                    type: number
                  max_allowed_values:
                    type: number
                  metadata_enum_json:
                    type: string
                  metadata_key:
                    type: string
                  metadata_name:
                    type: string
                  metadata_type:
                    type: string
                  min_allowed_values:
                    type: number
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        404:
          description: Not Found - Metadata definition not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete a metadata definition for a global company
      tags:
      - Global Company Directory
    get:
      operationId: v2_getGlobalCompanyMetadataDefinitions
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    editable_by:
                      type: string
                    global_metadata_id:
                      type: number
                    max_allowed_values:
                      type: number
                    metadata_enum_json:
                      type: string
                    metadata_key:
                      type: string
                    metadata_name:
                      type: string
                    metadata_type:
                      enum:
                      - STRING
                      - NUMBER
                      - ENUM
                      type: string
                    min_allowed_values:
                      type: number
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Not Found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get metadata definitions for a global company
      tags:
      - Global Company Directory
    patch:
      operationId: v2_updateGlobalCompanyMetadataDefinition
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            editable_by:
              description: Who can edit this metadata
              type: string
            max_allowed_values:
              description: Maximum number of values allowed
              type: number
            metadata_enum_json:
              description: JSON string of enum values (required when metadata_type
                is ENUM)
              type: string
            metadata_key:
              description: Key of the metadata definition to update
              type: string
            metadata_name:
              description: Display name for the metadata definition
              type: string
            metadata_type:
              description: Type of metadata value
              enum:
              - STRING
              - NUMBER
              - ENUM
              type: string
            min_allowed_values:
              description: Minimum number of values allowed
              type: number
          required:
          - metadata_key
          type: object
      responses:
        200:
          description: Metadata definition updated successfully
          schema:
            properties:
              data:
                properties:
                  editable_by:
                    type: string
                  global_metadata_id:
                    type: number
                  max_allowed_values:
                    type: number
                  metadata_enum_json:
                    type: string
                  metadata_key:
                    type: string
                  metadata_name:
                    type: string
                  metadata_type:
                    type: string
                  min_allowed_values:
                    type: number
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        404:
          description: Not Found - Metadata definition not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update a metadata definition for a global company
      tags:
      - Global Company Directory
    post:
      operationId: v2_createGlobalCompanyMetadataDefinition
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            editable_by:
              default: company_admin
              description: Who can edit this metadata
              type: string
            max_allowed_values:
              description: Maximum number of values allowed
              type: number
            metadata_enum_json:
              description: JSON string of enum values (required when metadata_type
                is ENUM)
              type: string
            metadata_key:
              description: Unique key for the metadata definition
              type: string
            metadata_name:
              description: Display name for the metadata definition
              type: string
            metadata_type:
              description: Type of metadata value
              enum:
              - STRING
              - NUMBER
              - ENUM
              type: string
            min_allowed_values:
              description: Minimum number of values allowed
              type: number
          required:
          - metadata_key
          - metadata_name
          - metadata_type
          type: object
      responses:
        201:
          description: Metadata definition created successfully
          schema:
            properties:
              data:
                properties:
                  editable_by:
                    type: string
                  global_metadata_id:
                    type: number
                  max_allowed_values:
                    type: number
                  metadata_enum_json:
                    type: string
                  metadata_key:
                    type: string
                  metadata_name:
                    type: string
                  metadata_type:
                    type: string
                  min_allowed_values:
                    type: number
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        409:
          description: Conflict - Metadata key already exists
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create new metadata definition for a global company
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/metadata/hz:
    get:
      operationId: v2_getGlobalCompanyMetadataHz
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      responses:
        200:
          description: Successfully retrieved hz metadata
          schema:
            properties:
              data:
                properties:
                  capabilities:
                    items:
                      properties:
                        capability:
                          type: string
                        capability_id:
                          type: string
                      type: object
                    type: array
                  created_at:
                    type: string
                  engagement:
                    items:
                      properties:
                        date:
                          type: string
                        description:
                          type: string
                        engagement_id:
                          type: string
                        logged_by:
                          type: string
                        notes:
                          type: string
                        type:
                          enum:
                          - phone_call
                          - meeting
                          - email
                          - note
                          type: string
                      type: object
                    type: array
                  global_company_id:
                    type: number
                  global_company_metadata_id:
                    type: string
                  lesson:
                    items:
                      properties:
                        description:
                          type: string
                        improvement_opportunity:
                          type: string
                        lesson_id:
                          type: string
                        project_id:
                          type: number
                        risk_category:
                          enum:
                          - commercial
                          - quality
                          - safety
                          - schedule
                          - technical
                          type: string
                        title:
                          type: string
                        trade:
                          enum:
                          - electrical
                          - mechanical_services
                          - structural_steel
                          - concrete
                          - plumbing
                          type: string
                        type:
                          enum:
                          - positive
                          - negative
                          type: string
                      type: object
                    type: array
                  service_region:
                    items:
                      properties:
                        region:
                          type: string
                        region_id:
                          type: string
                      type: object
                    type: array
                  tags:
                    items:
                      properties:
                        tag:
                          type: string
                        tag_id:
                          type: string
                      type: object
                    type: array
                  tax_id:
                    type: string
                  updated_at:
                    type: string
                  website_url:
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Global company not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get global company hz metadata
      tags:
      - Global Company Directory
    patch:
      operationId: v2_patchGlobalCompanyMetadataHz
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            capabilities:
              items:
                properties:
                  capability:
                    type: string
                  capability_id:
                    type: string
                type: object
              type: array
            engagement:
              items:
                properties:
                  date:
                    type: string
                  description:
                    type: string
                  engagement_id:
                    type: string
                  logged_by:
                    type: string
                  notes:
                    type: string
                  type:
                    enum:
                    - phone_call
                    - meeting
                    - email
                    - note
                    type: string
                type: object
              type: array
            lesson:
              items:
                properties:
                  description:
                    type: string
                  improvement_opportunity:
                    type: string
                  lesson_id:
                    type: string
                  project_id:
                    type: number
                  risk_category:
                    enum:
                    - commercial
                    - quality
                    - safety
                    - schedule
                    - technical
                    type: string
                  title:
                    type: string
                  trade:
                    enum:
                    - electrical
                    - mechanical_services
                    - structural_steel
                    - concrete
                    - plumbing
                    type: string
                  type:
                    enum:
                    - positive
                    - negative
                    type: string
                type: object
              type: array
            service_region:
              items:
                properties:
                  region:
                    type: string
                  region_id:
                    type: string
                type: object
              type: array
            tags:
              items:
                properties:
                  tag:
                    type: string
                  tag_id:
                    type: string
                type: object
              type: array
            website_url:
              description: Company website URL
              type: string
          type: object
      responses:
        200:
          description: Successfully updated hz metadata
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Global company hz metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update global company hz metadata
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/metadata/hz/{arrayType}:
    get:
      operationId: v2_getGlobalCompanyMetadataHzArrayItems
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Type of array to retrieve
        enum:
        - tags
        - capabilities
        - service_region
        - engagement
        - lesson
        in: path
        name: arrayType
        required: true
        type: string
      responses:
        200:
          description: Successfully retrieved array items
          schema:
            properties:
              count:
                type: number
              items:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid array type
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Global company hz metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get array items from global company hz metadata
      tags:
      - Global Company Directory
    post:
      operationId: v2_createGlobalCompanyMetadataHzArrayItem
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Type of array to add item to
        enum:
        - tags
        - capabilities
        - service_region
        - engagement
        - lesson
        in: path
        name: arrayType
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: Item data to add (varies by array type)
          type: object
      responses:
        201:
          description: Successfully added array item
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data or array type
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Global company hz metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add new item to global company hz metadata array
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/metadata/hz/{arrayType}/{itemId}:
    delete:
      operationId: v2_deleteGlobalCompanyMetadataHzArrayItem
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Type of array containing the item
        enum:
        - tags
        - capabilities
        - service_region
        - engagement
        - lesson
        in: path
        name: arrayType
        required: true
        type: string
      - description: ID of the specific item to delete
        in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: Successfully deleted array item
          schema:
            properties:
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid array type
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Item or metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete specific item from global company hz metadata array
      tags:
      - Global Company Directory
    get:
      operationId: v2_getGlobalCompanyMetadataHzArrayItem
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Type of array containing the item
        enum:
        - tags
        - capabilities
        - service_region
        - engagement
        - lesson
        in: path
        name: arrayType
        required: true
        type: string
      - description: ID of the specific item to retrieve
        in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: Successfully retrieved array item
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid array type
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Item or metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get specific item from global company hz metadata array
      tags:
      - Global Company Directory
    patch:
      operationId: v2_updateGlobalCompanyMetadataHzArrayItem
      parameters:
      - description: Global Company ID
        in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Type of array containing the item
        enum:
        - tags
        - capabilities
        - service_region
        - engagement
        - lesson
        in: path
        name: arrayType
        required: true
        type: string
      - description: ID of the specific item to update
        in: path
        name: itemId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: Partial item data to update (varies by array type)
          type: object
      responses:
        200:
          description: Successfully updated array item
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Invalid input data or array type
        401:
          description: Unauthorized
        403:
          description: Forbidden - User does not have IsPrimaryCompanyAdmin permission
        404:
          description: Not Found - Item or metadata not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update specific item in global company hz metadata array
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/users:
    get:
      operationId: v2_getGlobalCompanyUsers
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: query
        name: limit
        required: false
        type: number
      - in: query
        name: offset
        required: false
        type: number
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              limit:
                type: number
              message:
                type: string
              offset:
                type: number
              total:
                type: number
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Users in a Global Company
      tags:
      - Global Company Directory
    post:
      operationId: v2_bulkUserInvite
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Only applies for Admin use - doesn't send invite email to users
        in: query
        name: skipEmail
        required: false
        type: boolean
      - in: body
        name: body
        required: true
        schema:
          properties:
            users:
              items:
                properties:
                  email:
                    type: string
                  first_name:
                    type: string
                  last_name:
                    type: string
                required:
                - email
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successful response
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Bulk User Invite
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/users/{kindeId}:
    get:
      operationId: v2_getGlobalCompanyUserByKindeId
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - description: Kinde ID of the user to retrieve
        in: path
        name: kindeId
        required: true
        type: string
      - description: Include metadata for the user
        in: query
        name: includeMetadata
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  email:
                    type: string
                  first_name:
                    type: string
                  kinde_id:
                    type: string
                  last_name:
                    type: string
                  metadata:
                    items:
                      properties:
                        metadata_key:
                          type: string
                        metadata_value:
                          type: string
                      type: object
                    type: array
                  username:
                    type: string
                  verified_by_company:
                    type: boolean
                  verified_by_user:
                    type: boolean
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: User not found in the specified global company
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get User by Kinde ID in a Global Company
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/vendors/approve:
    post:
      operationId: v2_approveVendorSharing
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_status:
              enum:
              - APPROVED
              - REJECTED
              type: string
            global_company_id:
              type: number
          required:
          - global_company_id
          - approval_status
          type: object
      responses:
        200:
          description: Successful response
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Approve vendor sharing
      tags:
      - Global Company Directory
  /v2/global-companies/{globalCompanyId}/vendors/request:
    delete:
      operationId: v2_removeVendorSharingRequest
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            global_company_id:
              type: number
          required:
          - global_company_id
          type: object
      responses:
        200:
          description: Successful response
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove vendor sharing request
      tags:
      - Global Company Directory
    post:
      operationId: v2_requestVendorSharing
      parameters:
      - in: path
        name: globalCompanyId
        required: true
        type: number
      - in: body
        name: body
        required: true
        schema:
          properties:
            global_company_id:
              type: number
            sharing_level:
              enum:
              - FULL
              type: string
          required:
          - global_company_id
          type: object
      responses:
        200:
          description: Successful response
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Request vendor sharing
      tags:
      - Global Company Directory
  /v2/hz-notification-categories:
    get:
      operationId: v2_getHzNotificationCategories
      responses:
        200:
          description: Successfully retrieved notification categories
          schema:
            properties:
              data:
                items:
                  properties:
                    id:
                      type: string
                    types:
                      items:
                        properties:
                          description:
                            type: string
                          id:
                            type: string
                          name:
                            type: string
                        type: object
                      type: array
                  type: object
                type: array
              message:
                type: string
            type: object
      security:
      - JWT_v2: []
      summary: List all notification categories with types
      tags:
      - HzNotifications
  /v2/hz-notification-template-variables:
    get:
      operationId: v2_getHzNotificationTemplateVariables
      responses:
        200:
          description: Successfully retrieved template variables
          schema:
            properties:
              data:
                items:
                  properties:
                    id:
                      type: string
                    name:
                      type: string
                    variables:
                      items:
                        properties:
                          field_description:
                            type: string
                          field_name:
                            type: string
                          id:
                            type: string
                        type: object
                      type: array
                  type: object
                type: array
              message:
                type: string
            type: object
      security:
      - JWT_v2: []
      summary: List template variable groups with variables
      tags:
      - HzNotifications
  /v2/hz-notifications/email/queue/process-single:
    post:
      description: 'Internal endpoint called by Cloud Tasks to process individual
        email queue items.

        No authentication required as this is called by trusted Cloud Tasks service.

        Workspace ID is extracted from the queue item itself.

        '
      operationId: v2_processHzEmailQueueSingleCloudTasks
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            queue_id:
              description: ID of the email queue item to process
              type: string
          required:
          - queue_id
          type: object
      responses:
        200:
          description: Email sent successfully
          schema:
            properties:
              data:
                properties:
                  queue_id:
                    type: string
                  sent_at:
                    type: string
                  status:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Invalid request
          schema:
            properties:
              error:
                type: string
              message:
                type: string
            type: object
        404:
          description: Queue item not found
          schema:
            properties:
              error:
                type: string
              message:
                type: string
            type: object
        500:
          description: Processing failed, Cloud Tasks will retry
          schema:
            properties:
              error:
                type: string
              message:
                type: string
            type: object
      summary: Process single email queue item (Cloud Tasks only)
      tags:
      - HzNotificationSender
  /v2/jobs/{job_guid}/status:
    get:
      operationId: v2_getJobStatusGlobal
      parameters:
      - in: path
        name: job_guid
        required: true
        type: integer
      responses:
        202:
          description: Returns job status
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get job status
      tags:
      - Jobs
  /v2/jobs/{job_id}:
    post:
      operationId: v2_startJobGlobal
      parameters:
      - in: path
        name: job_id
        required: true
        type: integer
      responses:
        202:
          description: Job started, returns job guid
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Start a new job at global-level
      tags:
      - Jobs
  /v2/link-ds-site-channel/{channelType}:
    post:
      operationId: v2_linkDsSiteChannel
      parameters:
      - in: path
        name: channelType
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            channelAlias:
              description: Alias of the channel to link
              type: string
            channelApiKey:
              description: API key for the channel to link
              type: string
            channelId:
              description: ID of the channel to link
              type: string
            webhookBearerToken:
              description: Bearer token for the webhook to link
              type: string
            workspaceId:
              description: ID of existing DS Platform workspace
              type: string
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Link DS Site Channel
      tags:
      - User Profiles
  /v2/migrations/{migrationId}:
    post:
      operationId: v2_runMigration
      parameters:
      - in: path
        name: migrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            functiondata:
              description: The data to pass to the migration function (see migration
                documentation)
              type: object
            region:
              description: The region of the workspace
              type: string
            workspace:
              description: The workspace to run the migration on
              type: string
          required:
          - region
          - workspace
          - functiondata
          type: object
      responses:
        207:
          description: Migration ran, see response for details
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Run a schema migration
      tags:
      - Migrations
      x-min-permissions: admin
  /v2/notifications:
    get:
      operationId: v2_getNotifications
      parameters:
      - description: User ID to get notifications for (admin only)
        in: query
        name: user_id
        required: false
        type: string
      - default: 50
        description: Number of notifications to return
        in: query
        name: limit
        required: false
        type: integer
      - default: 0
        description: Number of notifications to skip
        in: query
        name: offset
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    attachments:
                      items:
                        type: string
                      type: array
                    ds_project_id:
                      type: string
                    ds_workspace_name:
                      type: string
                    email:
                      type: boolean
                    global_notification_queue_id:
                      type: integer
                    importance:
                      enum:
                      - notification
                      - warning
                      - alert
                      type: string
                    in_app:
                      type: boolean
                    in_app_read:
                      type: boolean
                    json_fields:
                      type: string
                    notification_template_id:
                      type: string
                    queued_date:
                      format: date-time
                      type: string
                    recipients:
                      properties:
                        bcc:
                          items:
                            type: string
                          type: array
                        cc:
                          items:
                            type: string
                          type: array
                        to:
                          items:
                            type: string
                          type: array
                      type: object
                    scheduled_to_send_date:
                      format: date-time
                      type: string
                    sent_date:
                      format: date-time
                      type: string
                    sent_status:
                      type: string
                    template_description:
                      type: string
                    template_name:
                      type: string
                  type: object
                type: array
              limit:
                type: integer
              message:
                type: string
              offset:
                type: integer
              total:
                type: integer
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get notifications for the authenticated user
      tags:
      - Notifications
    patch:
      operationId: v2_acknowledgeNotifications
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            notification_ids:
              description: Array of notification IDs to mark as read
              items:
                type: integer
              type: array
          required:
          - notification_ids
          type: object
      responses:
        200:
          description: Notifications acknowledged successfully
          schema:
            properties:
              data:
                properties:
                  notification_ids:
                    items:
                      type: integer
                    type: array
                  notifications_acknowledged:
                    type: integer
                  user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Acknowledge/read notifications for the authenticated user
      tags:
      - Notifications
    post:
      operationId: v2_createNotification
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: Array of CDE IDs to attach
              items:
                type: string
              type: array
            email:
              default: true
              description: Whether to send via email
              type: boolean
            importance:
              default: notification
              description: Importance level of the notification
              enum:
              - notification
              - warning
              - alert
              type: string
            inApp:
              default: true
              description: Whether to send in-app notification
              type: boolean
            jsonFields:
              description: JSON fields to populate the template
              type: object
            notificationTemplateId:
              description: ID of the notification template to use
              type: string
            recipients:
              properties:
                bcc:
                  description: Blind carbon copy recipients
                  items:
                    type: string
                  type: array
                cc:
                  description: Carbon copy recipients
                  items:
                    type: string
                  type: array
                to:
                  description: Primary recipients
                  items:
                    type: string
                  type: array
              required:
              - to
              type: object
            scheduledToSendDate:
              description: When to send the notification (optional)
              format: date-time
              type: string
          required:
          - notificationTemplateId
          - recipients
          type: object
      responses:
        201:
          description: Notification created successfully
          schema:
            properties:
              data:
                properties:
                  attachments:
                    type: array
                  ds_project_id:
                    type: string
                  ds_workspace_name:
                    type: string
                  email:
                    type: boolean
                  global_notification_queue_id:
                    type: integer
                  importance:
                    type: string
                  in_app:
                    type: boolean
                  json_fields:
                    type: string
                  notification_template_id:
                    type: string
                  recipients:
                    type: object
                  scheduled_to_send_date:
                    format: date-time
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        403:
          description: Forbidden (admin access required)
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a new notification (admin only)
      tags:
      - Notifications
  /v2/notifications/process:
    post:
      operationId: v2_processNotification
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            global_notification_queue_id:
              description: ID of the notification to process
              type: string
          required:
          - global_notification_queue_id
          type: object
      responses:
        202:
          description: Notification processing started
          schema:
            properties:
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        403:
          description: Forbidden (admin access required)
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Process a queued notification (admin only)
      tags:
      - Notifications
  /v2/notified-users/{kinde_id}/email-accounts:
    get:
      operationId: v2_listEmailAccounts
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      responses:
        200:
          description: Provider connection statuses retrieved successfully
          schema:
            properties:
              google:
                properties:
                  connected_at:
                    example: '2025-01-15T10:30:00Z'
                    format: date-time
                    type: string
                  email:
                    example: user@gmail.com
                    type: string
                  is_connected:
                    example: true
                    type: boolean
                  is_primary:
                    description: Whether this provider is set as primary for sending
                      emails
                    example: false
                    type: boolean
                type: object
              microsoft:
                properties:
                  is_connected:
                    example: false
                    type: boolean
                  is_primary:
                    example: false
                    type: boolean
                type: object
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: List all email provider connection statuses for user
      tags:
      - HzEmailIntegration
  /v2/notified-users/{kinde_id}/email-accounts/auth-url:
    get:
      operationId: v2_getEmailAccountsAuthUrl
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      - description: Email provider name
        enum:
        - google
        - microsoft
        in: query
        name: provider
        required: true
        type: string
      - description: Frontend callback URL where OAuth code will be sent
        in: query
        name: redirect_uri
        required: true
        type: string
      responses:
        200:
          description: Authorization URL generated successfully
          schema:
            properties:
              auth_url:
                example: https://accounts.google.com/o/oauth2/v2/auth?...
                type: string
              provider:
                example: google
                type: string
              state:
                description: CSRF protection state parameter
                example: 978f7077-ad79-4ec2-bc00-5ed2cb6dce5e
                type: string
            type: object
        400:
          description: Bad request - missing or invalid parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get OAuth authorization URL for email provider
      tags:
      - HzEmailIntegration
  /v2/notified-users/{kinde_id}/email-accounts/callback:
    post:
      operationId: v2_emailAccountsCallback
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            code:
              description: Authorization code from OAuth provider
              example: 4/0AfJoh...
              type: string
            provider:
              enum:
              - google
              - microsoft
              example: google
              type: string
            redirect_uri:
              description: Same redirect URI used in auth URL generation
              example: http://localhost:3000/settings/email-callback
              type: string
            state:
              description: CSRF state parameter (optional, for frontend validation)
              type: string
          required:
          - provider
          - code
          - redirect_uri
          type: object
      responses:
        200:
          description: Email account connected successfully
          schema:
            properties:
              email:
                example: user@gmail.com
                type: string
              is_connected:
                example: true
                type: boolean
              provider:
                example: google
                type: string
              scopes:
                example:
                - gmail.send
                - userinfo.email
                items:
                  type: string
                type: array
            type: object
        400:
          description: Bad request - missing or invalid parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: OAuth callback handler for email provider connection
      tags:
      - HzEmailIntegration
  /v2/notified-users/{kinde_id}/email-accounts/{provider}:
    delete:
      operationId: v2_disconnectEmailAccountProvider
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      - description: Email provider name to disconnect
        enum:
        - google
        - microsoft
        in: path
        name: provider
        required: true
        type: string
      responses:
        200:
          description: Provider disconnected successfully
          schema:
            properties:
              is_connected:
                example: false
                type: boolean
              message:
                example: google account disconnected successfully
                type: string
              provider:
                example: google
                type: string
            type: object
        400:
          description: Bad request - unsupported provider
        401:
          description: Unauthorized
        404:
          description: Provider not found or already disconnected
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Disconnect email provider
      tags:
      - HzEmailIntegration
    get:
      operationId: v2_getEmailAccountProvider
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      - description: Email provider name
        enum:
        - google
        - microsoft
        in: path
        name: provider
        required: true
        type: string
      responses:
        200:
          description: Provider connection status retrieved successfully
          schema:
            properties:
              connected_at:
                example: '2025-01-15T10:30:00Z'
                format: date-time
                type: string
              email:
                example: user@gmail.com
                type: string
              is_connected:
                example: true
                type: boolean
              is_primary:
                description: Whether this provider is set as primary for sending emails
                example: false
                type: boolean
              provider:
                example: google
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Provider not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get specific email provider connection status
      tags:
      - HzEmailIntegration
  /v2/notified-users/{kinde_id}/email-accounts/{provider}/primary:
    patch:
      description: Set the specified provider as the primary email provider for sending
        emails. Only one provider can be primary at a time. Setting a new primary
        automatically unsets the previous primary provider.
      operationId: v2_setPrimaryEmailAccountProvider
      parameters:
      - description: User's Kinde ID (use 'me' or 'self' for current user)
        in: path
        name: kinde_id
        required: true
        type: string
      - description: Email provider name to set as primary
        enum:
        - google
        - microsoft
        in: path
        name: provider
        required: true
        type: string
      responses:
        200:
          description: Provider set as primary successfully
          schema:
            properties:
              email:
                example: user@gmail.com
                type: string
              is_primary:
                example: true
                type: boolean
              message:
                example: google set as primary email provider
                type: string
              provider:
                example: google
                type: string
            type: object
        400:
          description: Bad request - provider not connected or unsupported provider
          schema:
            properties:
              message:
                example: Cannot set google as primary - provider is not connected
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Provider not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Set email provider as primary
      tags:
      - HzEmailIntegration
  /v2/notified-users/{kinde_id}/notifications:
    get:
      operationId: v2_getHzUserNotifications
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: unread_only
        type: boolean
      - in: query
        name: event
        type: string
      - in: query
        name: channel
        type: string
      - in: query
        name: workspace_id
        type: string
      responses:
        200:
          description: Notifications retrieved successfully
      security:
      - JWT_v2: []
      summary: List user notifications
      tags:
      - HzNotifications
    patch:
      operationId: v2_patchHzUserNotifications
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            notification_ids:
              items:
                type: string
              type: array
          type: object
      responses:
        200:
          description: Notifications updated successfully
      security:
      - JWT_v2: []
      summary: Bulk mark notifications as read
      tags:
      - HzNotifications
    post:
      operationId: v2_createHzUserNotification
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        201:
          description: Notification created successfully
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Create user notification
      tags:
      - HzNotifications
  /v2/notified-users/{kinde_id}/notifications/{notification_id}:
    delete:
      operationId: v2_deleteHzUserNotification
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: path
        name: notification_id
        required: true
        type: string
      responses:
        200:
          description: Notification deleted successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Delete notification
      tags:
      - HzNotifications
    get:
      operationId: v2_getHzUserNotification
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: path
        name: notification_id
        required: true
        type: string
      responses:
        200:
          description: Notification retrieved successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Get notification detail
      tags:
      - HzNotifications
  /v2/notified-users/{kinde_id}/subscriptions:
    get:
      operationId: v2_getHzUserSubscriptions
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: event
        type: string
      - in: query
        name: channel
        type: string
      responses:
        200:
          description: Subscriptions retrieved successfully
      security:
      - JWT_v2: []
      summary: List user subscriptions
      tags:
      - HzNotifications
    post:
      operationId: v2_createHzUserSubscription
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        201:
          description: Subscription created successfully
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Create user subscription
      tags:
      - HzNotifications
  /v2/notified-users/{kinde_id}/subscriptions/{subscription_id}:
    delete:
      operationId: v2_deleteHzUserSubscription
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: path
        name: subscription_id
        required: true
        type: string
      responses:
        200:
          description: Subscription deleted successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Delete subscription
      tags:
      - HzNotifications
    get:
      operationId: v2_getHzUserSubscription
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: path
        name: subscription_id
        required: true
        type: string
      responses:
        200:
          description: Subscription retrieved successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Get subscription detail
      tags:
      - HzNotifications
    patch:
      operationId: v2_updateHzUserSubscription
      parameters:
      - in: path
        name: kinde_id
        required: true
        type: string
      - in: path
        name: subscription_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Subscription updated successfully
        400:
          description: Validation failed
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Update subscription
      tags:
      - HzNotifications
  /v2/permissions/registry:
    get:
      description: Returns the versioned permissions registry defining modules, features,
        and permission keys
      operationId: v2_getPermissionsRegistry
      responses:
        200:
          description: Global permissions registry
          schema:
            properties:
              data:
                properties:
                  modules:
                    items:
                      properties:
                        features:
                          items:
                            properties:
                              id:
                                type: string
                              label:
                                type: string
                            type: object
                          type: array
                        id:
                          type: string
                        label:
                          type: string
                      type: object
                    type: array
                  permissions:
                    items:
                      type: string
                    type: array
                  version:
                    type: integer
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get global permissions registry
      tags:
      - Roles
    patch:
      description: Admin-only. Merges fields into the existing registry
      operationId: v2_updatePermissionsRegistry
      parameters:
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated registry
          schema:
            properties:
              data:
                properties:
                  modules:
                    items:
                      properties:
                        features:
                          items:
                            properties:
                              id:
                                type: string
                              label:
                                type: string
                            type: object
                          type: array
                        id:
                          type: string
                        label:
                          type: string
                      type: object
                    type: array
                  permissions:
                    items:
                      type: string
                    type: array
                  version:
                    type: integer
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Update global permissions registry
      tags:
      - Roles
    post:
      description: Admin-only. Creates or replaces the registry document
      operationId: v2_createPermissionsRegistry
      parameters:
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Saved registry
          schema:
            properties:
              data:
                properties:
                  modules:
                    items:
                      properties:
                        features:
                          items:
                            properties:
                              id:
                                type: string
                              label:
                                type: string
                            type: object
                          type: array
                        id:
                          type: string
                        label:
                          type: string
                      type: object
                    type: array
                  permissions:
                    items:
                      type: string
                    type: array
                  version:
                    type: integer
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Create or replace global permissions registry
      tags:
      - Roles
  /v2/portals/subcontractor-progress-claims:
    get:
      description: 'Return progress claims for a subcontractor within the authenticated
        Horizon workspace/project context.

        Requires `Portals > Subcontractor Portal` view permission in Horizon roles.

        '
      operationId: v2_getSubcontractorPortalProgressClaims
      parameters:
      - description: Workspace identifier that scopes the Horizon Firestore collections
        in: query
        name: workspaceId
        required: true
        type: string
      - description: Optional project identifier used to limit results to a project
          context
        in: query
        name: projectId
        required: false
        type: string
      - description: Global company/vendor identifier for the subcontractor whose
          claims are requested
        in: query
        name: vendorId
        required: true
        type: string
      - description: Horizon permission string supplied by the frontend to validate
          against the role feature
        in: query
        name: requiredPermission
        required: false
        type: string
      - description: Page number used for internal pagination when querying Horizon
          progress claims
        in: query
        name: page
        required: false
        type: integer
      - description: Number of results to request from Horizon progress claims (maximum
          200)
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Filtered list of progress claims matching the subcontractor
            within the workspace context
          schema:
            properties:
              data:
                properties:
                  claims:
                    items:
                      type: object
                    type: array
                  emptyState:
                    properties:
                      isEmpty:
                        type: boolean
                      message:
                        type: string
                    type: object
                  pagination:
                    properties:
                      limit:
                        type: integer
                      page:
                        type: integer
                      total:
                        type: integer
                    type: object
                  projectId:
                    type: string
                  requiredPermission:
                    type: string
                  source:
                    type: string
                  vendorId:
                    type: string
                  workspaceId:
                    type: string
                type: object
              ok:
                type: boolean
            type: object
        400:
          description: Missing required parameters
        403:
          description: Workspace access forbidden or Horizon role lacks Subcontractor
            Portal permission
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List subcontractor portal progress claims
      tags:
      - Portals
  /v2/powerbi-xmla/system-table/{reportName}:
    get:
      operationId: v2_uploadSystemTables
      parameters:
      - in: path
        name: reportName
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Retrieve system tables from Power BI XMLA
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/regions:
    get:
      description: Returns list of api-supported regions
      operationId: v2_getRegions
      parameters:
      - description: Comma-separated list of fields to include in the response
        in: query
        name: fields
        required: false
        type: string
      responses:
        200:
          description: list of supported regions
      summary: Get supported regions
      tags:
      - Info
  /v2/reports/run:
    post:
      description: Executes a Firestore-stored SQL template with bound parameters
        and returns rows/columns.
      operationId: v2_runReport
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            params:
              description: Named parameters to bind (e.g., workspace_id)
              type: object
            reportId:
              description: ID of the Firestore template document
              type: string
          required:
          - reportId
          type: object
      responses:
        200:
          description: Report data
          schema:
            properties:
              data:
                properties:
                  chart:
                    type: object
                  columns:
                    items:
                      type: string
                    type: array
                  fields:
                    items:
                      type: object
                    type: array
                  meta:
                    properties:
                      durationMs:
                        type: integer
                      jobId:
                        type: string
                      rowCount:
                        type: integer
                    type: object
                  rows:
                    items:
                      type: object
                    type: array
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Run a report template
      tags:
      - Reports
  /v2/secret/{secretName}:
    get:
      operationId: v2_getSecret
      parameters:
      - in: path
        name: secretName
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get a secret
      tags:
      - Admin
      x-min-permissions: admin
  /v2/users:
    post:
      description: Creates a user if not already exists in Outseta only
      operationId: v2_postOutsetauser
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              description: The email of the user
              type: string
            name:
              description: The name of the user like First Last
              type: string
          required:
          - email
          - name
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create user in Outseta
      tags:
      - Users
      x-min-permissions: admin
  /v2/users/{user_id}/profile:
    get:
      operationId: v2_getUserProfile
      parameters:
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get User profile data
      tags:
      - User Profiles
    patch:
      operationId: v2_patchUserProfile
      parameters:
      - in: path
        name: userId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            ds-platform-notifs-enabled:
              type: boolean
            email:
              type: string
            first_name:
              type: string
            global-company-id:
              type: number
            last_name:
              type: string
            password-reset-request:
              type: boolean
            picture:
              type: string
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update user profile data
      tags:
      - User Profiles
  /v2/worker-extra-details:
    delete:
      description: Soft delete worker extra details by kinde_id
      operationId: v2_deleteWorkerExtraDetails
      parameters:
      - description: Worker's Kinde ID to delete
        in: query
        name: kinde_id
        required: true
        type: string
      - description: Optional workspace ID (ignored - API is always global)
        in: query
        name: workspaceId
        type: string
      responses:
        200:
          description: Worker extra details deleted successfully
          schema:
            properties:
              kinde_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: kinde_id not provided or already deleted
        404:
          description: Worker details not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete worker extra details
      tags:
      - WorkerExtraDetails
    get:
      description: Retrieve worker extra details with filtering options. Can retrieve
        specific worker by kinde_id or list multiple workers with filters.
      operationId: v2_getWorkerExtraDetails
      parameters:
      - description: Specific worker's Kinde ID to retrieve
        in: query
        name: kinde_id
        type: string
      - description: Filter by employment type (e.g., Full-time, Part-time, Contract)
        in: query
        name: employment_type
        type: string
      - description: Filter by trade/profession
        in: query
        name: trade
        type: string
      - description: Filter by delegation tier (e.g., Senior, Junior, Manager)
        in: query
        name: delegation_tier
        type: string
      - description: Filter by status (true/false for active/inactive)
        in: query
        name: status
        type: string
      - description: Search query for text-based filtering
        in: query
        name: q
        type: string
      - description: Page number for pagination (default 1)
        in: query
        name: page
        type: string
      - description: Number of items per page (default 50, max 100)
        in: query
        name: limit
        type: string
      - description: Optional workspace ID (ignored - API is always global)
        in: query
        name: workspaceId
        type: string
      responses:
        200:
          description: Successfully retrieved worker extra details
          schema:
            properties:
              limit:
                type: integer
              page:
                type: integer
              source:
                type: string
              total_count:
                type: integer
              worker_details:
                items:
                  properties:
                    created_at:
                      description: Creation timestamp
                      format: date-time
                      type: string
                    created_by_company_id:
                      description: Company ID of user who created this record
                      type: string
                    created_by_user_email:
                      description: Email of user who created this record
                      type: string
                    created_by_user_id:
                      description: ID of user who created this record
                      type: string
                    delegation_tier:
                      description: Worker's delegation tier (e.g., Senior, Junior,
                        Manager)
                      type: string
                    employment_type:
                      description: Type of employment (e.g., Full-time, Part-time,
                        Contract)
                      type: string
                    id:
                      description: Document ID (same as kinde_id)
                      type: string
                    is_deleted:
                      description: Soft delete flag
                      type: boolean
                    job_title:
                      description: Worker's job title/position
                      type: string
                    labour_rate_id:
                      description: Reference to labour rate configuration
                      type: string
                    status:
                      description: Active status of the worker (true = active, false
                        = inactive)
                      type: boolean
                    tags:
                      description: Array of tags/skills associated with the worker
                      items:
                        type: string
                      type: array
                    trade:
                      description: Worker's trade or profession
                      type: string
                    updated_at:
                      description: Last update timestamp
                      format: date-time
                      type: string
                    workspace_id:
                      description: Always 'null' for global worker details
                      type: string
                  type: object
                type: array
            type: object
        404:
          description: Worker details not found (when kinde_id specified)
      security:
      - JWT_v2: []
      summary: Get worker extra details
      tags:
      - WorkerExtraDetails
    patch:
      description: Update existing worker extra details by kinde_id
      operationId: v2_updateWorkerExtraDetails
      parameters:
      - description: Worker's Kinde ID to update
        in: query
        name: kinde_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            delegation_tier:
              description: Worker's delegation tier
              type: string
            employment_type:
              description: Type of employment
              type: string
            job_title:
              description: Worker's job title/position
              type: string
            labour_rate_id:
              description: Reference to labour rate configuration
              type: string
            status:
              description: Active status of the worker
              type: boolean
            tags:
              description: Array of tags/skills associated with the worker
              items:
                type: string
              type: array
            trade:
              description: Worker's trade or profession
              type: string
          type: object
      - description: Optional workspace ID (ignored - API is always global)
        in: query
        name: workspaceId
        type: string
      responses:
        200:
          description: Worker extra details updated successfully
          schema:
            properties:
              kinde_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Validation failed or kinde_id not provided
        404:
          description: Worker details not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update worker extra details
      tags:
      - WorkerExtraDetails
    post:
      description: Create new worker extra details. Global scope - not tied to any
        workspace.
      operationId: v2_createWorkerExtraDetails
      parameters:
      - in: body
        name: body
        required: true
        schema:
          properties:
            delegation_tier:
              description: Worker's delegation tier
              type: string
            employment_type:
              description: Type of employment
              type: string
            job_title:
              description: Worker's job title/position
              type: string
            kinde_id:
              description: Worker's Kinde authentication ID (used as document ID)
              type: string
            labour_rate_id:
              description: Reference to labour rate configuration
              type: string
            status:
              description: Active status of the worker
              type: boolean
            tags:
              description: Array of tags/skills associated with the worker
              items:
                type: string
              type: array
            trade:
              description: Worker's trade or profession
              type: string
          required:
          - kinde_id
          - delegation_tier
          - employment_type
          - labour_rate_id
          - job_title
          - trade
          - tags
          - status
          type: object
      - description: Optional workspace ID (ignored - API is always global)
        in: query
        name: workspaceId
        type: string
      responses:
        201:
          description: Worker extra details created successfully
          schema:
            properties:
              kinde_id:
                type: string
              message:
                type: string
              warnings:
                items:
                  type: string
                type: array
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
              received_fields:
                items:
                  type: string
                type: array
              required_fields:
                items:
                  type: string
                type: array
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create worker extra details
      tags:
      - WorkerExtraDetails
  /v2/workspaces:
    get:
      description: Returns all workspaces and projects a user has access to with optional
        parameters for extra info
      operationId: v2_getWorkspaces
      parameters:
      - description: Includes additional details in response
        in: query
        name: includeDetails
        required: false
        type: boolean
      - description: Includes permissions in response
        in: query
        name: includePermissions
        required: false
        type: boolean
      responses:
        200:
          description: Successful response with a list of workspaces and projects
          schema:
            items:
              properties:
                projects:
                  items:
                    properties:
                      project_name:
                        example: My Project Name
                        type: string
                    type: object
                  type: array
                workspace:
                  description: ds_workspace_name corresponding to dataset name
                  example: ds_12345678_9123_4567_8912_123456789123
                  type: string
                workspace_name:
                  example: My Workspace Name
                  type: string
              type: object
            type: array
        204:
          description: No content to return
        400:
          description: Bad Request due to invalid parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get list of workspaces and associated projects
      tags:
      - Info
  /v2/workspaces/{workspaceId}:
    get:
      description: Returns the details of a workspace
      operationId: v2_getSingleWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace details
      tags:
      - Info
    patch:
      operationId: v2_patchWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        204:
          description: No content to return
        400:
          description: Bad Request due to invalid parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update workspace details such as logo
      tags:
      - Info
  /v2/workspaces/{workspaceId}/actions:
    get:
      operationId: v2_getActionsWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: currentApp
        required: false
        type: string
      - description: When true, fetches all scheduling tasks in a single response
          using backend pagination
        in: query
        name: fetch_all
        required: false
        type: boolean
      - description: When true, allows higher limits (500) for admin dashboards
        in: query
        name: admin
        required: false
        type: boolean
      - description: Number of items per page (default 50, max 200 for users, max
          500 for admin)
        in: query
        maximum: 500
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Page number for pagination (default 1)
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - description: Filter by action status
        in: query
        name: action_status
        required: false
        type: string
      - description: Filter by action category (e.g. 'Scheduling Task')
        in: query
        name: action_category
        required: false
        type: string
      - description: Filter by assignee
        in: query
        name: assignee_individual
        required: false
        type: string
      - description: Filter by task status
        in: query
        name: task_status
        required: false
        type: string
      - description: Filter by progress type
        in: query
        name: progress_type
        required: false
        type: string
      - description: Filter by trade
        in: query
        name: trade
        required: false
        type: string
      - description: Filter by subcontractor
        in: query
        name: subcontractor
        required: false
        type: string
      - description: Search query string
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successfully created new action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get actions
      tags:
      - Actions
    patch:
      operationId: v2_updateActionWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            action_id:
              description: id of existing action to update
              type: integer
          required:
          - action_id
          type: object
      responses:
        200:
          description: Successfully updated action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update fields in existing action
      tags:
      - Actions
    post:
      operationId: v2_createActionWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Name of the action
        in: formData
        name: name
        required: true
        type: string
      - description: Description of the action
        in: formData
        name: description
        required: false
        type: string
      - description: Due date of the action, expected format 'yyyy-mm-dd'
        in: formData
        name: dueDate
        required: false
        type: string
      - description: Rating of the action - "Low", "Medium", "High"
        in: formData
        name: rating
        required: false
        type: string
      - description: App that the action was created from
        in: formData
        name: currentApp
        required: false
        type: string
      - description: A JSON string representing a list of attachment objects. Each
          object must contain a `cde_id` property.
        in: formData
        name: attachments
        required: false
        type: string
      responses:
        200:
          description: Successfully created new action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create new action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/tasks:
    get:
      operationId: v2_getActionTasksByWorkspaceId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successfully got tasks
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Actions with category = Tasks by workspaceId
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}:
    get:
      operationId: v2_getSingleActionWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get an action
      tags:
      - Actions
    patch:
      operationId: v2_updateSingleActionWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: formData
        name: body
        required: true
        type: string
      responses:
        200:
          description: Successfully updated action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update fields in existing action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/associations/{associationIdentifier}:
    get:
      operationId: v2_getActionAssociationWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - description: The association_source_table_key
        in: query
        name: association_source_table_key
        required: false
        type: string
      - description: The association_row_table_key
        in: query
        name: association_row_table_key
        required: false
        type: string
      - description: The association type
        in: query
        name: association_type
        required: false
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Find an association
      tags:
      - Actions
    post:
      operationId: v2_postActionAssociationWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            association_row_table_key:
              description: The key for association row table
              type: string
            association_source_table_key:
              description: The key for association source table
              type: string
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add an association to an action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/associations/{associationIdentifier}/{associationId}:
    delete:
      operationId: v2_deleteActionAssociationWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - description: ID of the association to remove
        in: path
        name: associationId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove an existing association
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/attachments:
    get:
      operationId: v2_getActionAttachmentsWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got attachments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get attachments for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionAttachmentsWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - attachments
          type: object
      responses:
        200:
          description: Successfully got attachments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add attachments to action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/comments:
    get:
      operationId: v2_getActionCommentsWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: query
        name: withAttachments
        required: false
        type: boolean
      responses:
        200:
          description: Successfully got comments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get comments for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionCommentWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
            comment:
              description: The comment to add
              type: string
          required:
          - comment
          type: object
      responses:
        200:
          description: Successfully created comment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create comment for an action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/comments/{commentId}:
    get:
      operationId: v2_getActionCommentWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: commentId
        required: true
        type: integer
      - in: query
        name: withAttachments
        required: false
        type: boolean
      responses:
        200:
          description: Successfully got comment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get comment for an action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/comments/{commentId}/attachments:
    post:
      operationId: v2_postActionCommentAttachmentsWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: commentId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - attachments
          type: object
      responses:
        200:
          description: Successfully added attachment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add attachments to action coment
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/watchers:
    get:
      operationId: v2_getActionWatchersWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got watchers
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get watchers for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionWatcherWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            watcher:
              description: The email of the watcher
              type: string
          required:
          - watcher
          type: object
      responses:
        200:
          description: Successfully added watcher
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add watcher to action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/actions/{actionId}/watchers/{watcherId}:
    delete:
      operationId: v2_deleteActionWatcherWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: actionId
        required: true
        type: integer
      - description: email of watcher
        in: path
        name: watcherId
        required: true
        type: string
      responses:
        200:
          description: Successfully removed watcher
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove watcher from action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/cde:
    get:
      operationId: v2_getCdeDocsWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by CDE type ID
        in: query
        name: cde_type_id
        required: false
        type: string
      - description: Filter by worker ID for worker-specific documents
        in: query
        name: worker_id
        required: false
        type: string
      - description: Optional filter for CDE status (e.g. active, archived)
        in: query
        name: cde_status
        required: false
        type: string
      responses:
        200:
          description: Successfully returns CDE docs
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get CDE docs
      tags:
      - Get Data
    post:
      operationId: v2_postCdeWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Worker ID for worker-specific document uploads
        in: query
        name: worker_id
        required: false
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_type:
              description: The type of CDE upload
              type: string
            cde_type_id:
              description: The CDE type ID
              type: string
            files:
              description: A list of file objects
              items:
                properties:
                  filename:
                    description: The name of the file
                    type: string
                  filetype:
                    description: The type of the file
                    type: string
                required:
                - filename
                - filetype
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Successfully returns CDE urls
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed urls for cde
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/cde-folders:
    get:
      description: Returns child folders for a parent folder. Omit parentId to list
        root folders.
      operationId: v2_listCdeFolders
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: projectId
        required: false
        type: string
      - in: query
        name: parentId
        required: false
        type: string
      responses:
        200:
          description: Folders list
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: List CDE folders (workspace or project scope)
      tags:
      - CDE Folders
    post:
      operationId: v2_createCdeFolder
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            name:
              type: string
            parent_id:
              type: string
            project_id:
              type: string
          type: object
      responses:
        201:
          description: Folder created
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a CDE folder
      tags:
      - CDE Folders
  /v2/workspaces/{workspaceId}/cde-folders/{folderId}:
    delete:
      operationId: v2_deleteCdeFolder
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: folderId
        required: true
        type: string
      responses:
        200:
          description: Folder deleted
        401:
          description: Unauthorized
        404:
          description: Not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete a CDE folder (soft delete)
      tags:
      - CDE Folders
    patch:
      operationId: v2_updateCdeFolder
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: folderId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            name:
              type: string
            parent_id:
              type: string
            project_id:
              type: string
          type: object
      responses:
        200:
          description: Folder updated
        401:
          description: Unauthorized
        404:
          description: Not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update a CDE folder (rename/move)
      tags:
      - CDE Folders
  /v2/workspaces/{workspaceId}/cde-placements:
    get:
      operationId: v2_listCdePlacements
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: projectId
        required: false
        type: string
      - in: query
        name: folderId
        required: false
        type: string
      responses:
        200:
          description: Placements list
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: List CDE placements for a folder
      tags:
      - CDE Placements
    post:
      operationId: v2_upsertCdePlacement
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cdeSeriesId:
              type: string
            folderId:
              type: string
            projectId:
              type: string
          type: object
      responses:
        200:
          description: Placement upserted
        201:
          description: Placement created
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upsert a single CDE placement
      tags:
      - CDE Placements
  /v2/workspaces/{workspaceId}/cde-placements/bulk-move:
    post:
      operationId: v2_bulkMoveCdePlacements
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cdeSeriesIds:
              items:
                type: string
              type: array
            projectId:
              type: string
            targetFolderId:
              type: string
          type: object
      responses:
        200:
          description: Bulk move completed
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Bulk move CDE series to a folder
      tags:
      - CDE Placements
  /v2/workspaces/{workspaceId}/cde/process:
    post:
      operationId: v2_processCDEWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              description: A list of file objects
              items:
                properties:
                  cde_id:
                    description: The CDE ID of the file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Successfully processed files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Process files uploaded to CDE
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/cde/types:
    get:
      operationId: v2_getCDETypes
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successfully returns CDE types
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace-level CDE types
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/cde/{cdeId}:
    delete:
      description: Invalidates a CDE entry for failed uploads
      operationId: v2_invalidateCdeEntryWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: cdeId
        required: true
        type: integer
      responses:
        200:
          description: Successfully invalidated CDE entry
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Invalidate CDE Entry
      tags:
      - Upload Data
    get:
      operationId: v2_getCdeFileWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: cdeId
        required: true
        type: integer
      responses:
        200:
          description: Successfully returns CDE url
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed url to access cde file
      tags:
      - Get Data
  /v2/workspaces/{workspaceId}/cde/{cdeId}/markups:
    get:
      description: Retrieve all markups for a specific CDE document with optional
        filtering and pagination
      operationId: v2_getCdeMarkups
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: CDE document identifier
        in: path
        name: cdeId
        required: true
        type: integer
      - description: Filter by CDE version ID
        in: query
        name: cde_version_id
        required: false
        type: integer
      - description: Filter by author/user ID (for "My Markups")
        in: query
        name: author_kinde_id
        required: false
        type: string
      - description: Filter by PDF page number
        in: query
        minimum: 1
        name: page_number
        required: false
        type: integer
      - description: Filter by markup type (comma-separated list)
        in: query
        name: markup_type
        required: false
        type: string
      - description: Filter by workflow context
        in: query
        name: workflow_context
        required: false
        type: string
      - default: this_version
        description: Version filtering option (this_version, all)
        in: query
        name: version_filter
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 10
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of markups for the CDE document
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get markups for CDE document
      tags:
      - Markup
    post:
      description: Create a new markup on a specific page of a CDE document
      operationId: v2_createCdeMarkup
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: CDE document identifier
        in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_version_id:
              description: CDE version ID this markup applies to
              type: integer
            geometry:
              description: GeoJSON geometry object
              type: object
            markup_type:
              description: Type of markup shape
              enum:
              - polygon
              - line
              - text
              - rectangle
              - point
              type: string
            pdf_page_number:
              description: Page number within the PDF (1-based)
              minimum: 1
              type: integer
            properties:
              description: Markup properties and metadata
              type: object
            workflow_context:
              default: pdf_review
              description: Workflow context
              type: string
          required:
          - pdf_page_number
          - geometry
          - markup_type
          - properties
          - cde_version_id
          type: object
      responses:
        201:
          description: Markup created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create markup for CDE document
      tags:
      - Markup
  /v2/workspaces/{workspaceId}/cde/{cdeId}/metadata:
    put:
      operationId: v2_putCdeMetadataWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            metadata_key:
              description: The key of the metadata
              type: string
            metadata_value:
              description: The value of the metadata
              type: string
          required:
          - metadata_key
          - metadata_value
          type: object
      responses:
        200:
          description: Successfully updated CDE metadata
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update CDE metadata
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/cde/{cdeId}/status:
    put:
      operationId: v2_putCdeStatusWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_status:
              description: New CDE status (e.g. active, archived)
              type: string
          required:
          - cde_status
          type: object
      responses:
        200:
          description: Successfully updated CDE status
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update CDE status
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/clients:
    get:
      description: Retrieve workspace clients with optional search and filtering
      operationId: v2_listWorkspaceClients
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Full-text search across client name, company group, contact person,
          and notes
        in: query
        name: search
        required: false
        type: string
      - description: Filter by client status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by client region
        in: query
        name: region
        required: false
        type: string
      - description: Comma separated list of tags to match (any match)
        in: query
        name: tags
        required: false
        type: string
      - default: false
        description: Include soft deleted clients when true
        in: query
        name: includeDeleted
        required: false
        type: boolean
      - default: 1
        description: Result page to return
        in: query
        name: page
        required: false
        type: integer
      - default: 50
        description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Client list
          schema:
            properties:
              clients:
                items:
                  properties:
                    client_id:
                      type: string
                    client_name:
                      type: string
                    company_group:
                      type: string
                    contact_person:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    created_by:
                      type: string
                    created_by_user_id:
                      type: string
                    deleted_at:
                      format: date-time
                      type: string
                    deleted_by:
                      type: string
                    is_deleted:
                      type: boolean
                    logo_url:
                      type: string
                    notes:
                      type: string
                    project_count:
                      type: integer
                    region:
                      type: string
                    status:
                      type: string
                    tags:
                      items:
                        type: string
                      type: array
                    updated_at:
                      format: date-time
                      type: string
                    updated_by:
                      type: string
                    workspace_id:
                      type: string
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List workspace clients
      tags:
      - Workspace Clients
    post:
      description: Create a new workspace client record
      operationId: v2_createWorkspaceClient
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            client_name:
              type: string
            company_group:
              type: string
            contact_person:
              type: string
            logo_url:
              type: string
            notes:
              type: string
            project_count:
              type: integer
            region:
              type: string
            status:
              type: string
            tags:
              items:
                type: string
              type: array
          required:
          - client_name
          type: object
      responses:
        201:
          description: Created client
          schema:
            properties:
              client_id:
                type: string
              client_name:
                type: string
              company_group:
                type: string
              contact_person:
                type: string
              created_at:
                format: date-time
                type: string
              created_by:
                type: string
              created_by_user_id:
                type: string
              is_deleted:
                type: boolean
              logo_url:
                type: string
              notes:
                type: string
              project_count:
                type: integer
              region:
                type: string
              status:
                type: string
              tags:
                items:
                  type: string
                type: array
              updated_at:
                format: date-time
                type: string
              updated_by:
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation error
        401:
          description: Unauthorized
        403:
          description: Forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create workspace client
      tags:
      - Workspace Clients
  /v2/workspaces/{workspaceId}/clients/{clientId}:
    delete:
      description: Soft delete a workspace client record
      operationId: v2_deleteWorkspaceClient
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clientId
        required: true
        type: string
      responses:
        200:
          description: Soft deleted client
          schema:
            properties:
              client_id:
                type: string
              client_name:
                type: string
              deleted_at:
                format: date-time
                type: string
              deleted_by:
                type: string
              is_deleted:
                type: boolean
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: Client not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Soft delete workspace client
      tags:
      - Workspace Clients
    patch:
      description: Update fields on an existing workspace client record
      operationId: v2_updateWorkspaceClient
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clientId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            client_name:
              type: string
            company_group:
              type: string
            contact_person:
              type: string
            logo_url:
              type: string
            notes:
              type: string
            project_count:
              type: integer
            region:
              type: string
            status:
              type: string
            tags:
              items:
                type: string
              type: array
          type: object
      responses:
        200:
          description: Updated client
          schema:
            properties:
              client_id:
                type: string
              client_name:
                type: string
              company_group:
                type: string
              contact_person:
                type: string
              created_at:
                format: date-time
                type: string
              is_deleted:
                type: boolean
              logo_url:
                type: string
              notes:
                type: string
              project_count:
                type: integer
              region:
                type: string
              status:
                type: string
              tags:
                items:
                  type: string
                type: array
              updated_at:
                format: date-time
                type: string
              updated_by:
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation error
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: Client not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update workspace client
      tags:
      - Workspace Clients
  /v2/workspaces/{workspaceId}/clients/{clientId}/restore:
    post:
      description: Restore a soft deleted workspace client record
      operationId: v2_restoreWorkspaceClient
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clientId
        required: true
        type: string
      responses:
        200:
          description: Restored client
          schema:
            properties:
              client_id:
                type: string
              client_name:
                type: string
              deleted_at:
                format: date-time
                type: string
              is_deleted:
                type: boolean
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden
        404:
          description: Client not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Restore workspace client
      tags:
      - Workspace Clients
  /v2/workspaces/{workspaceId}/comments:
    delete:
      description: Soft delete a workspace-level comment by ID
      operationId: v2_deleteWorkspaceComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: commentId
        required: true
        type: string
      responses:
        200:
          description: Comment successfully deleted
      security:
      - JWT_v2: []
      summary: Delete a workspace-level comment
      tags:
      - Comments
    get:
      description: Retrieve workspace-level comments or a specific comment by ID
      operationId: v2_getWorkspaceComments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: commentId
        type: string
      - in: query
        name: q
        type: string
      - in: query
        name: page
        type: string
      - in: query
        name: limit
        type: string
      - in: query
        name: relatedDocumentId
        type: string
      - in: query
        name: includeReplies
        type: string
      - in: query
        name: nested
        type: string
      responses:
        200:
          description: Successfully retrieved workspace-level comments
      security:
      - JWT_v2: []
      summary: Get workspace-level comments
      tags:
      - Comments
    patch:
      description: Update a workspace-level comment by ID
      operationId: v2_updateWorkspaceComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: commentId
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
      responses:
        200:
          description: Comment updated successfully
      security:
      - JWT_v2: []
      summary: Update a workspace-level comment
      tags:
      - Comments
    post:
      description: Create a new workspace-level comment
      operationId: v2_createWorkspaceComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
      responses:
        201:
          description: Comment created successfully
      security:
      - JWT_v2: []
      summary: Create a workspace-level comment
      tags:
      - Comments
  /v2/workspaces/{workspaceId}/companies:
    get:
      description: Returns all companies for a workspace
      operationId: v2_getWorkspaceCompanies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get companies in a workspaces
      tags:
      - Companies
    post:
      consumes:
      - application/json
      description: Creates a new company in a workspace. Requires workspace manager
        permissions
      operationId: v2_postWorkspaceCompanies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            company_abbreviation:
              description: The abbreviation of the company name
              type: string
            company_name:
              description: The name of the company
              type: string
          required:
          - company_name
          - company_abbreviation
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create company in a workspaces
      tags:
      - Companies
  /v2/workspaces/{workspaceId}/companies/{companyId}:
    patch:
      consumes:
      - application/json
      operationId: v2_patchWorkspaceCompanies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: companyId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            company_abbreviation:
              description: The abbreviation of the company name
              type: string
            company_name:
              description: The name of the company
              type: string
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update a company
      tags:
      - Companies
  /v2/workspaces/{workspaceId}/cost/activities:
    get:
      operationId: v2_getCostActivities
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Optional filter by project ID
        in: query
        name: project_id
        required: false
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Activities
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostActivity
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            activity_steps:
              items:
                properties:
                  activity_step_name:
                    type: string
                  activity_step_num:
                    type: integer
                  date:
                    format: date-time
                    type: string
                  status:
                    enum:
                    - not started
                    - in progress
                    - completed
                    - delayed
                    type: string
                required:
                - activity_step_num
                - activity_step_name
                - date
                - status
                type: object
              type: array
            assigned_to:
              type: string
            category:
              enum:
              - materials
              - equipment
              - finishes
              - site works
              type: string
            cost_activity_title:
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            end_date:
              format: date-time
              type: string
            priority:
              enum:
              - low
              - medium
              - high
              - critical
              type: string
            project_id:
              type: integer
            start_date:
              format: date-time
              type: string
            status:
              enum:
              - planned
              - in progress
              - completed
              - delayed
              type: string
          required:
          - cost_activity_title
          - project_id
          - start_date
          - end_date
          type: object
      responses:
        201:
          description: Activity successfully created
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Activity
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/activities/{activityId}:
    get:
      operationId: v2_getCostActivityById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: activityId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Activity By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostActivityById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: activityId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            activity_steps:
              items:
                properties:
                  activity_step_name:
                    type: string
                  activity_step_num:
                    type: integer
                  date:
                    format: date-time
                    type: string
                  status:
                    enum:
                    - not started
                    - in progress
                    - completed
                    - delayed
                    type: string
                required:
                - activity_step_num
                - activity_step_name
                - date
                - status
                type: object
              type: array
            assigned_to:
              type: string
            category:
              enum:
              - materials
              - equipment
              - finishes
              - site works
              type: string
            cost_activity_title:
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            end_date:
              format: date-time
              type: string
            priority:
              enum:
              - low
              - medium
              - high
              - critical
              type: string
            project_id:
              type: integer
            start_date:
              format: date-time
              type: string
            status:
              enum:
              - planned
              - in progress
              - completed
              - delayed
              type: string
          type: object
      responses:
        200:
          description: Activity successfully updated
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Activity By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/aggregate:
    post:
      operationId: v2_postCostAggregate
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            project_level:
              description: Endpoints that require project_id
              items:
                properties:
                  endpoint:
                    description: Target endpoint name
                    enum:
                    - budget-items
                    - invoices
                    - orders
                    - variation-requests
                    - approvals
                    - claims
                    - attachments
                    - line-items
                    - contracts
                    - payment-schedules
                    - retentions
                    type: string
                  params:
                    additionalProperties: true
                    description: Parameters for the endpoint
                    properties:
                      method:
                        default: GET
                        type: string
                      project_id:
                        description: Project identifier (required for project-level
                          endpoints)
                        type: integer
                      sub_path:
                        default: ''
                        type: string
                    required:
                    - project_id
                    type: object
                required:
                - endpoint
                type: object
              type: array
            workspace_level:
              description: Endpoints that don't require project_id
              items:
                properties:
                  endpoint:
                    description: Target endpoint name
                    enum:
                    - cost-codes
                    - budget-categories
                    type: string
                  params:
                    additionalProperties: true
                    description: Parameters for the endpoint
                    properties:
                      method:
                        default: GET
                        type: string
                      sub_path:
                        default: ''
                        type: string
                    type: object
                required:
                - endpoint
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successful response with aggregated data
          schema:
            properties:
              project_level:
                additionalProperties:
                  properties:
                    data:
                      description: Response data from the endpoint
                      type: object
                    error:
                      description: Error message if endpoint failed
                      type: string
                    status_code:
                      description: HTTP status code from the endpoint
                      type: integer
                  type: object
                description: Results from project-level endpoints
                type: object
              workspace_level:
                additionalProperties:
                  properties:
                    data:
                      description: Response data from the endpoint
                      type: object
                    error:
                      description: Error message if endpoint failed
                      type: string
                    status_code:
                      description: HTTP status code from the endpoint
                      type: integer
                  type: object
                description: Results from workspace-level endpoints
                type: object
            type: object
        400:
          description: Bad request - invalid request body or parameters
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
            type: object
        405:
          description: Method not allowed
          schema:
            properties:
              message:
                type: string
            type: object
        500:
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
            type: object
      security:
      - JWT_v2: []
      summary: Aggregate Cost Data from Multiple Endpoints
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/budget-categories:
    get:
      operationId: v2_getBudgetCategories
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Whether to return budget categories in hierarchical tree structure
        in: query
        name: treeStructure
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    children:
                      description: Child categories (only present when treeStructure=true)
                      type: array
                    cost_budget_category_client_id:
                      description: User-friendly identifier for budget category
                      type: string
                    cost_budget_category_id:
                      description: Internal identifier for budget category
                      type: integer
                    cost_budget_category_name:
                      description: Name of budget category
                      type: string
                    created_at:
                      description: Timestamp of creation
                      format: date-time
                      type: string
                    description:
                      description: Description of budget category
                      type: string
                    forecast_line_item_id:
                      description: Associated forecast line item ID
                      type: integer
                    parent_cost_budget_category_id:
                      description: Parent category ID for hierarchical structure
                      type: integer
                    status:
                      description: Status of budget category
                      enum:
                      - active
                      - inactive
                      type: string
                    tag:
                      description: Tag for budget category
                      type: string
                    type:
                      description: Type of budget category
                      type: string
                    updated_at:
                      description: Timestamp of last update
                      format: date-time
                      type: string
                    user_id:
                      description: ID of the user who created the budget category
                      type: string
                    user_name:
                      description: Name of the user who created the budget category
                      type: string
                  type: object
                type: array
              message:
                description: Success message
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Categories
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBudgetCategory
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_category_client_id:
              description: Client-provided identifier for cost budget category
              type: string
            cost_budget_category_name:
              description: Name of budget category
              type: string
            description:
              description: Description of budget category
              type: string
            forecast_line_item_id:
              description: Associated forecast line item ID
              type: integer
            parent_cost_budget_category_id:
              description: Parent category ID for hierarchical structure
              type: integer
            status:
              description: Status of budget category (defaults to 'active')
              enum:
              - active
              - inactive
              type: string
            tag:
              description: Tag for budget category
              type: string
            type:
              description: Type of budget category
              type: string
          required:
          - cost_budget_category_client_id
          - cost_budget_category_name
          - type
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              data:
                properties:
                  cost_budget_category_client_id:
                    description: User-friendly identifier for budget category
                    type: string
                  cost_budget_category_id:
                    description: Internal identifier for budget category
                    type: integer
                  cost_budget_category_name:
                    description: Name of budget category
                    type: string
                  created_at:
                    description: Timestamp of creation
                    format: date-time
                    type: string
                  description:
                    description: Description of budget category
                    type: string
                  forecast_line_item_id:
                    description: Associated forecast line item ID
                    type: integer
                  parent_cost_budget_category_id:
                    description: Parent category ID for hierarchical structure
                    type: integer
                  status:
                    description: Status of budget category
                    enum:
                    - active
                    - inactive
                    type: string
                  tag:
                    description: Tag for budget category
                    type: string
                  type:
                    description: Type of budget category
                    type: string
                  updated_at:
                    description: Timestamp of last update
                    format: date-time
                    type: string
                  user_id:
                    description: ID of the user who created the budget category
                    type: string
                  user_name:
                    description: Name of the user who created the budget category
                    type: string
                type: object
              message:
                description: Success message
                type: string
              updated_objects:
                description: List of updated objects (empty for create operations)
                type: array
            type: object
        400:
          description: Bad Request - Invalid input data
          schema:
            properties:
              message:
                description: Error message describing the validation failure
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Budget Category
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/budget-categories/{budgetCategoryId}:
    get:
      operationId: v2_getBudgetCategoryById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: budgetCategoryId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  cost_budget_category_client_id:
                    description: User-friendly identifier for budget category
                    type: string
                  cost_budget_category_id:
                    description: Internal identifier for budget category
                    type: integer
                  cost_budget_category_name:
                    description: Name of budget category
                    type: string
                  created_at:
                    description: Timestamp of creation
                    format: date-time
                    type: string
                  description:
                    description: Description of budget category
                    type: string
                  forecast_line_item_id:
                    description: Associated forecast line item ID
                    type: integer
                  parent_cost_budget_category_id:
                    description: Parent category ID for hierarchical structure
                    type: integer
                  status:
                    description: Status of budget category
                    enum:
                    - active
                    - inactive
                    type: string
                  tag:
                    description: Tag for budget category
                    type: string
                  type:
                    description: Type of budget category
                    type: string
                  updated_at:
                    description: Timestamp of last update
                    format: date-time
                    type: string
                  user_id:
                    description: ID of the user who created the budget category
                    type: string
                  user_name:
                    description: Name of the user who created the budget category
                    type: string
                type: object
              message:
                description: Success message
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Budget category not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Category By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBudgetCategoryById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: budgetCategoryId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_category_client_id:
              description: Client-provided identifier for cost budget category
              type: string
            cost_budget_category_name:
              description: Name of budget category
              type: string
            description:
              description: Description of budget category
              type: string
            forecast_line_item_id:
              description: Associated forecast line item ID
              type: integer
            parent_cost_budget_category_id:
              description: Parent category ID for hierarchical structure
              type: integer
            status:
              description: Status of budget category
              enum:
              - active
              - inactive
              type: string
            tag:
              description: Tag for budget category
              type: string
            type:
              description: Type of budget category
              type: string
          type: object
      responses:
        200:
          description: Budget category successfully updated
          schema:
            properties:
              data:
                properties:
                  cost_budget_category_client_id:
                    description: Client-provided identifier for cost budget category
                    type: string
                  cost_budget_category_id:
                    description: Internal identifier for budget category
                    type: integer
                  cost_budget_category_name:
                    description: Name of budget category
                    type: string
                  created_at:
                    description: Creation timestamp
                    format: date-time
                    type: string
                  description:
                    description: Description of budget category
                    type: string
                  forecast_line_item_id:
                    description: Associated forecast line item ID
                    type: integer
                  parent_cost_budget_category_id:
                    description: Parent category ID for hierarchical structure
                    type: integer
                  status:
                    description: Status of budget category
                    enum:
                    - active
                    - inactive
                    type: string
                  tag:
                    description: Tag for budget category
                    type: string
                  type:
                    description: Type of budget category
                    type: string
                  updated_at:
                    description: Last update timestamp
                    format: date-time
                    type: string
                  user_id:
                    description: ID of the user who created the budget category
                    type: string
                  user_name:
                    description: Name of the user who created the budget category
                    type: string
                type: object
              message:
                description: Success message
                type: string
              updated_objects:
                description: List of updated objects
                type: array
            type: object
        400:
          description: Bad Request - Invalid input data
          schema:
            properties:
              message:
                description: Error message describing the validation failure
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Budget category not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Budget Category By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/clarifications:
    get:
      operationId: v2_getClarifications
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by tender package ID
        in: query
        name: tender_package_id
        required: false
        type: string
      - description: Page number for pagination (default 1)
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page (default 50, max 1000)
        in: query
        name: limit
        required: false
        type: integer
      - description: Search query for subject and description
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  properties:
                    clarification_id:
                      type: string
                    comments_count:
                      type: integer
                    created_at:
                      format: date-time
                      type: string
                    date_submitted:
                      format: date-time
                      type: string
                    description:
                      type: string
                    files_count:
                      type: integer
                    response_date:
                      format: date-time
                      type: string
                    response_message:
                      type: string
                    subject:
                      type: string
                    tender_package_id:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              limit:
                type: integer
              message:
                type: string
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Clarifications
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createClarification
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            date_submitted:
              description: Date when clarification was submitted
              format: date-time
              type: string
            description:
              description: Detailed description of the clarification
              type: string
            subject:
              description: Subject of the clarification
              type: string
            tender_package_id:
              description: ID of the related tender package
              type: string
          required:
          - subject
          - tender_package_id
          - description
          - date_submitted
          type: object
      responses:
        201:
          description: Clarification created successfully
          schema:
            properties:
              data:
                properties:
                  clarification_id:
                    type: string
                  comments:
                    items:
                      type: object
                    type: array
                  comments_count:
                    type: integer
                  created_at:
                    format: date-time
                    type: string
                  date_submitted:
                    format: date-time
                    type: string
                  description:
                    type: string
                  files:
                    items:
                      type: object
                    type: array
                  files_count:
                    type: integer
                  response_date:
                    format: date-time
                    type: string
                  response_message:
                    type: string
                  subject:
                    type: string
                  tender_package_id:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Clarification
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/clarifications/{clarificationId}:
    delete:
      operationId: v2_deleteClarificationById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clarificationId
        required: true
        type: string
      responses:
        200:
          description: Clarification deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Clarification not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Clarification By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getClarificationById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clarificationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  clarification_id:
                    type: string
                  comments:
                    items:
                      properties:
                        comment_by:
                          type: string
                        comment_text:
                          type: string
                        comment_user_id:
                          type: string
                        date:
                          format: date-time
                          type: string
                        id:
                          type: string
                        related_document_id:
                          type: string
                        related_document_type:
                          type: string
                        reply_level:
                          type: integer
                      type: object
                    type: array
                  comments_count:
                    type: integer
                  created_at:
                    format: date-time
                    type: string
                  date_submitted:
                    format: date-time
                    type: string
                  description:
                    type: string
                  files:
                    items:
                      properties:
                        category:
                          type: string
                        created_at:
                          format: date-time
                          type: string
                        description:
                          type: string
                        display_name:
                          type: string
                        file_size:
                          type: integer
                        file_type:
                          type: string
                        file_url:
                          type: string
                        id:
                          type: string
                        related_document_id:
                          type: string
                        updated_at:
                          format: date-time
                          type: string
                        uploaded_by:
                          type: string
                      type: object
                    type: array
                  files_count:
                    type: integer
                  response_date:
                    format: date-time
                    type: string
                  response_message:
                    type: string
                  subject:
                    type: string
                  tender_package_id:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Clarification not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Clarification By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateClarificationById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: clarificationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: Only response_date and response_message can be updated
          properties:
            response_date:
              description: Date when response was provided
              format: date-time
              type: string
            response_message:
              description: Response message to the clarification
              type: string
          type: object
      responses:
        200:
          description: Clarification updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Clarification not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Clarification By Id (Response Only)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/cost-codes:
    get:
      operationId: v2_getCostCodes
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        type: integer
      - description: Whether to return cost codes in hierarchical tree structure
        in: query
        name: treeStructure
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_code_description:
                      description: Description of cost code
                    cost_code_identifier:
                      description: User-friendly identifier for cost code
                    cost_code_name:
                      description: Name of cost code
                    cost_code_num:
                      description: Internal identifier for cost code
                    parent_cost_code_num:
                      description: ID of parent cost code
                    project_id:
                      description: Project ID (optional, only for project-scoped cost
                        codes)
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Codes
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostCodes
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          items:
            properties:
              cost_budget_category_id:
                description: Budget category ID this cost code belongs to
                type: string
              cost_code_client_id:
                description: User-provided cost code ID
                type: string
              cost_code_description:
                description: Description of cost code
                type: string
              cost_code_name:
                description: Name of cost code
                type: string
              cost_code_original_value:
                description: Original budget value for this cost code
                type: number
              parent_cost_code_num:
                description: ID of parent cost code
                type: string
            required:
            - costCodeId
            type: object
          type: object
      responses:
        200:
          description: Objects successfully updated
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_code_description:
                      description: Description of cost code
                    cost_code_identifier:
                      description: User-friendly identifier for cost code
                    cost_code_name:
                      description: Name of cost code
                    cost_code_num:
                      description: Internal identifier for cost code
                    parent_cost_code_num:
                      description: ID of parent cost code
                  type: object
                type: array
              message:
                description: Success message
              updated_count:
                description: Number of cost codes updated
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Cost Code
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostCode
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_category_id:
              description: Budget category ID this cost code belongs to
              type: string
            cost_code_client_id:
              description: User-provided cost code ID
              type: string
            cost_code_description:
              description: Description of cost code
              type: string
            cost_code_name:
              description: Name of cost code
              type: string
            cost_code_original_value:
              description: Original budget value for this cost code
              type: number
            parent_cost_code_num:
              description: ID of parent cost code
              type: string
          required:
          - cost_code_name
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              data:
                properties:
                  cost_code_description:
                    description: Description of cost code
                  cost_code_identifier:
                    description: User-friendly identifier for cost code
                  cost_code_name:
                    description: Name of cost code
                  cost_code_num:
                    description: Internal identifier for cost code
                  parent_cost_code_num:
                    description: ID of parent cost code
                  project_id:
                    description: Project ID (optional, only for project-scoped cost
                      codes)
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Code
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/cost-codes/{costCodeId}:
    get:
      operationId: v2_getCostCodeById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: costCodeId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  cost_code_description:
                    description: Description of cost code
                  cost_code_identifier:
                    description: User-friendly identifier for cost code
                  cost_code_name:
                    description: Name of cost code
                  cost_code_num:
                    description: Internal identifier for cost code
                  parent_cost_code_num:
                    description: ID of parent cost code
                  project_id:
                    description: Project ID (optional, only for project-scoped cost
                      codes)
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Code By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostCodeById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: costCodeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_category_id:
              description: Budget category ID this cost code belongs to
              type: string
            cost_code_client_id:
              description: User-provided cost code ID
              type: string
            cost_code_description:
              description: Description of cost code
              type: string
            cost_code_name:
              description: Name of cost code
              type: string
            cost_code_original_value:
              description: Original budget value for this cost code
              type: number
            parent_cost_code_num:
              description: ID of parent cost code
              type: string
          type: object
      responses:
        200:
          description: Object successfully edited
          schema:
            properties:
              data:
                properties:
                  cost_code_description:
                    description: Description of cost code
                  cost_code_identifier:
                    description: User-friendly identifier for cost code
                  cost_code_name:
                    description: Name of cost code
                  cost_code_num:
                    description: Internal identifier for cost code
                  parent_cost_code_num:
                    description: ID of parent cost code
                  project_id:
                    description: Project ID (optional, only for project-scoped cost
                      codes)
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Cost Code By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/delay-notices:
    get:
      operationId: v2_getDelayNotices
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        type: integer
      - description: Filter by project ID
        in: query
        name: project_id
        type: integer
      - description: Filter by status (issued, draft, acknowledged)
        in: query
        name: status
        type: string
      - description: Filter by work package
        in: query
        name: work_package
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    cause:
                      description: Cause of delay
                      type: string
                    critical_path:
                      description: Whether this affects critical path
                      type: boolean
                    delay_notice_client_id:
                      description: Client-facing delay notice ID
                      type: string
                    delay_notice_name:
                      description: Delay notice name
                      type: string
                    delay_notice_num:
                      description: Delay notice number
                      type: string
                    event_date:
                      description: Event date
                      format: date
                      type: string
                    id:
                      description: Delay notice ID
                      type: string
                    notice_date:
                      description: Notice date
                      format: date
                      type: string
                    project_id:
                      description: Project ID
                      type: integer
                    responsible_party:
                      description: Responsible party
                      type: string
                    status:
                      description: Status (issued, draft, acknowledged)
                      type: string
                    summary:
                      description: Summary of delay notice
                      type: string
                    work_package:
                      description: Work package
                      type: string
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Access denied
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delay Notices
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createDelayNotice
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cause:
              description: Cause of delay
              type: string
            contract_reference:
              description: Contract reference
              type: string
            correspondence_reference:
              description: Correspondence reference
              type: string
            critical_path:
              description: Whether this affects critical path
              type: boolean
            delay_notice_client_id:
              description: Client-facing delay notice ID (auto-generated if not provided)
              type: string
            delay_notice_name:
              description: Delay notice name
              type: string
            details:
              description: Detailed description
              type: string
            event_date:
              description: Event date
              format: date
              type: string
            notice_date:
              description: Notice date
              format: date
              type: string
            programme_activity:
              description: Programme activity
              type: string
            project_id:
              description: Project ID
              type: integer
            responsible_party:
              description: Responsible party
              type: string
            sop_reference:
              description: SOP reference
              type: string
            status:
              description: Status of delay notice
              enum:
              - issued
              - draft
              - acknowledged
              type: string
            summary:
              description: Summary of delay notice
              type: string
            work_package:
              description: Work package
              type: string
          required:
          - project_id
          - delay_notice_name
          - work_package
          - event_date
          - summary
          type: object
      responses:
        201:
          description: Delay notice created successfully
          schema:
            properties:
              data:
                properties:
                  delay_notice_client_id:
                    description: Auto-generated client ID
                    type: string
                  delay_notice_name:
                    description: Delay notice name
                    type: string
                  id:
                    description: Delay notice ID
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  status:
                    description: Status
                    type: string
                  summary:
                    description: Summary
                    type: string
                  work_package:
                    description: Work package
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad request - missing required fields
        401:
          description: Unauthorized
        403:
          description: Access denied
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Delay Notice
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/delay-notices/{delayNoticeId}:
    get:
      operationId: v2_getDelayNoticeById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: delayNoticeId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  delay_notice_client_id:
                    description: Client-facing delay notice ID
                    type: string
                  delay_notice_name:
                    description: Delay notice name
                    type: string
                  details:
                    description: Detailed description
                    type: string
                  event_date:
                    description: Event date
                    format: date
                    type: string
                  id:
                    description: Delay notice ID
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  status:
                    description: Status
                    type: string
                  summary:
                    description: Summary
                    type: string
                  work_package:
                    description: Work package
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Access denied
        404:
          description: Delay notice not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delay Notice By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateDelayNoticeById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: delayNoticeId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cause:
              description: Cause of delay
              type: string
            contract_reference:
              description: Contract reference
              type: string
            correspondence_reference:
              description: Correspondence reference
              type: string
            critical_path:
              description: Whether this affects critical path
              type: boolean
            delay_notice_client_id:
              description: Client-facing delay notice ID
              type: string
            delay_notice_name:
              description: Delay notice name
              type: string
            details:
              description: Detailed description
              type: string
            event_date:
              description: Event date
              format: date
              type: string
            notice_date:
              description: Notice date
              format: date
              type: string
            programme_activity:
              description: Programme activity
              type: string
            responsible_party:
              description: Responsible party
              type: string
            sop_reference:
              description: SOP reference
              type: string
            status:
              description: Status of delay notice
              enum:
              - issued
              - draft
              - acknowledged
              type: string
            summary:
              description: Summary of delay notice
              type: string
            work_package:
              description: Work package
              type: string
          type: object
      responses:
        200:
          description: Delay notice updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad request - no fields to update
        401:
          description: Unauthorized
        403:
          description: Access denied
        404:
          description: Delay notice not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Delay Notice By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries:
    get:
      operationId: v2_getDeliveries
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: status
        type: string
      - in: query
        name: supplier
        type: string
      - in: query
        name: project_id
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    description:
                      description: Delivery description
                    documents:
                      type: array
                    expected_date:
                      description: Expected delivery date
                    id:
                      description: Delivery ID
                    issues:
                      type: array
                    items:
                      type: array
                    related_files:
                      type: array
                    status:
                      description: Delivery status
                    supplier:
                      description: Supplier name
                    tracking_number:
                      description: Tracking number
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Deliveries
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postDelivery
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_order_num:
              description: Related order number
            delivery_location:
              description: Delivery location
            description:
              description: Delivery description
            expected_date:
              description: Expected delivery date
            project_id:
              description: Project ID
            related_files:
              type: array
            status:
              description: Delivery status
            supplier:
              description: Supplier name
            tracking_number:
              description: Tracking number
          required:
          - supplier
          - description
          - status
          type: object
      responses:
        201:
          description: Delivery successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Delivery
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/files/process:
    post:
      operationId: v2_processDeliveryFiles
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              items:
                properties:
                  file_id:
                    description: File ID from signed URL response
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Files processed successfully
          schema:
            properties:
              data:
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Process Uploaded Files
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/files/signed-urls:
    post:
      operationId: v2_getDeliveryFileSignedUrls
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              items:
                properties:
                  collection_type:
                    description: Collection type
                  file_size_bytes:
                    description: File size in bytes
                  filename:
                    description: Original filename
                  filetype:
                    description: File MIME type
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Signed URLs generated successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    file_id:
                      description: File ID
                    file_url:
                      description: Final file URL
                    signed_url:
                      description: Signed upload URL
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get File Upload Signed URLs
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}:
    delete:
      operationId: v2_deleteDeliveryById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      responses:
        200:
          description: Delivery successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Delivery By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getDeliveryById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delivery By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchDeliveryById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            actual_date:
              description: Actual delivery date
            delivery_location:
              description: Delivery location
            description:
              description: Delivery description
            expected_date:
              description: Expected delivery date
            related_files:
              type: array
            status:
              description: Delivery status
            supplier:
              description: Supplier name
            tracking_number:
              description: Tracking number
          type: object
      responses:
        200:
          description: Delivery successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Delivery By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}/documents:
    get:
      operationId: v2_getDeliveryDocuments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delivery Documents
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postDeliveryDocument
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            document_type:
              description: Document type
            related_files:
              type: array
            status:
              description: Document status
            supplier:
              description: Supplier name
          required:
          - document_type
          - status
          type: object
      responses:
        201:
          description: Document successfully created
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Delivery Document
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}/issues:
    get:
      operationId: v2_getDeliveryIssues
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delivery Issues
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postDeliveryIssue
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_to:
              description: Assigned user ID
            cost_issue_client_id:
              description: Issue client ID (auto-generated if not provided)
            cost_order_num:
              description: Related order number
            date_reported:
              description: Date when issue was reported
            description:
              description: Issue description
            priority:
              description: Issue priority
            related_files:
              type: array
            status:
              description: Issue status
            supplier:
              description: Supplier name
          required:
          - description
          - status
          - priority
          type: object
      responses:
        201:
          description: Issue successfully created
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Delivery Issue
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}/issues/{issueId}:
    delete:
      operationId: v2_deleteDeliveryIssueById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: path
        name: issueId
        required: true
        type: string
      responses:
        200:
          description: Issue successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Delivery Issue By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getDeliveryIssueById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: path
        name: issueId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  assigned_to:
                    description: Assigned user ID
                  cost_issue_client_id:
                    description: Issue client ID
                  cost_order_num:
                    description: Related order number
                  date_reported:
                    description: Date when issue was reported
                  description:
                    description: Issue description
                  id:
                    description: Issue ID
                  priority:
                    description: Issue priority
                  related_files:
                    type: array
                  status:
                    description: Issue status
                  supplier:
                    description: Supplier name
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delivery Issue By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchDeliveryIssueById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: path
        name: issueId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_to:
              description: Assigned user ID
            cost_issue_client_id:
              description: Issue client ID
            cost_order_num:
              description: Related order number
            date_reported:
              description: Date when issue was reported
            description:
              description: Issue description
            priority:
              description: Issue priority
            related_files:
              type: array
            status:
              description: Issue status
            supplier:
              description: Supplier name
          type: object
      responses:
        200:
          description: Issue successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Delivery Issue By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}/items:
    get:
      operationId: v2_getDeliveryItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Delivery Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postDeliveryItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            condition:
              description: Item condition
            description:
              description: Item description
            expected_qty:
              description: Expected quantity
            item_name:
              description: Item name
            received_qty:
              description: Received quantity
            status:
              description: Item status
            unit:
              description: Unit of measurement
          required:
          - item_name
          - expected_qty
          - unit
          - status
          type: object
      responses:
        201:
          description: Item successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Delivery Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/deliveries/{deliveryId}/items/{itemId}:
    delete:
      operationId: v2_deleteDeliveryItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: Item successfully deleted
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Delivery Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchDeliveryItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: deliveryId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Item successfully updated
          schema:
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Delivery Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tender-packages:
    get:
      operationId: v2_getTenderPackages
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by project ID
        in: query
        name: project_id
        required: false
        type: integer
      - enum:
        - mechanical
        - plumbing
        - structural
        - finishes
        - glazing & facade
        - site works & landscaping
        - roofing
        - concrete
        - masonry
        - carpentry
        - flooring
        - other
        in: query
        name: trade_category
        required: false
        type: string
      - enum:
        - open tender
        - selective tender
        - negotiated tender
        - single-stage tender
        - two-stage tender
        in: query
        name: tender_type
        required: false
        type: string
      - enum:
        - lump sum
        - unit price
        - detailed breakdown
        - cost plus
        in: query
        name: bid_form_type
        required: false
        type: string
      - enum:
        - will tender
        - undecided
        - will not tender
        in: query
        name: tender_status
        required: false
        type: string
      - description: Page number for pagination (default 1)
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page (default 50, max 1000)
        in: query
        name: limit
        required: false
        type: integer
      - description: Search query for name and description
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  properties:
                    bid_form_type:
                      type: string
                    clarifications:
                      items:
                        properties:
                          clarification_id:
                            type: string
                          client_info:
                            properties:
                              company_name:
                                type: string
                              global_company_id:
                                type: integer
                              tax_id:
                                type: integer
                            type: object
                          created_at:
                            format: date-time
                            type: string
                          date_submitted:
                            format: date-time
                            type: string
                          description:
                            type: string
                          response_date:
                            format: date-time
                            type: string
                          response_message:
                            type: string
                          subject:
                            type: string
                          updated_at:
                            format: date-time
                            type: string
                        type: object
                      type: array
                    clarifications_count:
                      type: integer
                    created_at:
                      format: date-time
                      type: string
                    description:
                      type: string
                    due_date:
                      format: date
                      type: string
                    estimated_value:
                      type: number
                    files_count:
                      type: integer
                    invited_subcontractors_count:
                      type: integer
                    issue_date:
                      format: date
                      type: string
                    linked_rfis_count:
                      type: integer
                    name:
                      type: string
                    project_id:
                      type: integer
                    tender_package_id:
                      type: string
                    tender_status:
                      type: string
                    tender_type:
                      type: string
                    trade_category:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              limit:
                type: integer
              message:
                type: string
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender Packages
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createTenderPackage
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            additional_options:
              properties:
                bid_bond_required:
                  type: boolean
                pre_qualification_required:
                  type: boolean
                site_visit_required:
                  type: boolean
                submit_alternative_proposals:
                  type: boolean
              required:
              - submit_alternative_proposals
              - site_visit_required
              - pre_qualification_required
              - bid_bond_required
              type: object
            bid_form_type:
              enum:
              - lump sum
              - unit price
              - detailed breakdown
              - cost plus
              type: string
            description:
              type: string
            document_security:
              properties:
                document_view_only:
                  type: boolean
              required:
              - document_view_only
              type: object
            due_date:
              format: date
              type: string
            estimated_value:
              type: number
            invited_subcontractors:
              items:
                properties:
                  company_name:
                    type: string
                  global_company_id:
                    type: integer
                  response:
                    type: string
                  tax_id:
                    type: integer
                required:
                - global_company_id
                - tax_id
                - company_name
                type: object
              minItems: 1
              type: array
            issue_date:
              format: date
              type: string
            linked_rfis:
              items:
                properties:
                  form_id:
                    type: integer
                  rfi_name:
                    type: string
                required:
                - form_id
                - rfi_name
                type: object
              type: array
            name:
              type: string
            project_id:
              type: integer
            tender_status:
              enum:
              - will tender
              - undecided
              - will not tender
              type: string
            tender_type:
              enum:
              - open tender
              - selective tender
              - negotiated tender
              - single-stage tender
              - two-stage tender
              type: string
            trade_category:
              enum:
              - mechanical
              - plumbing
              - structural
              - finishes
              - glazing & facade
              - site works & landscaping
              - roofing
              - concrete
              - masonry
              - carpentry
              - flooring
              - other
              type: string
          required:
          - name
          - project_id
          - trade_category
          - issue_date
          - due_date
          - estimated_value
          - tender_type
          - bid_form_type
          - additional_options
          - document_security
          - invited_subcontractors
          type: object
      responses:
        201:
          description: Tender package created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Tender Package
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tender-packages/enums:
    get:
      operationId: v2_getTenderPackageEnums
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              bid_form_types:
                items:
                  type: string
                type: array
              tender_statuses:
                items:
                  type: string
                type: array
              tender_types:
                items:
                  type: string
                type: array
              trade_categories:
                items:
                  type: string
                type: array
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender Package Enums
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tender-packages/{tenderPackageId}:
    delete:
      operationId: v2_deleteTenderPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderPackageId
        required: true
        type: string
      responses:
        200:
          description: Tender package deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Tender Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getTenderPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderPackageId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  additional_options:
                    properties:
                      bid_bond_required:
                        type: boolean
                      pre_qualification_required:
                        type: boolean
                      site_visit_required:
                        type: boolean
                      submit_alternative_proposals:
                        type: boolean
                    type: object
                  bid_form_type:
                    type: string
                  clarifications:
                    items:
                      properties:
                        clarification_id:
                          type: string
                        client_info:
                          properties:
                            company_name:
                              type: string
                            global_company_id:
                              type: integer
                            tax_id:
                              type: integer
                          type: object
                        created_at:
                          format: date-time
                          type: string
                        date_submitted:
                          format: date-time
                          type: string
                        description:
                          type: string
                        response_date:
                          format: date-time
                          type: string
                        response_message:
                          type: string
                        subject:
                          type: string
                        updated_at:
                          format: date-time
                          type: string
                      type: object
                    type: array
                  clarifications_count:
                    type: integer
                  created_at:
                    format: date-time
                    type: string
                  description:
                    type: string
                  document_security:
                    properties:
                      document_view_only:
                        type: boolean
                    type: object
                  due_date:
                    format: date
                    type: string
                  estimated_value:
                    type: number
                  files:
                    items:
                      properties:
                        display_name:
                          type: string
                        file_size:
                          type: integer
                        file_type:
                          type: string
                        file_url:
                          type: string
                        id:
                          type: string
                      type: object
                    type: array
                  files_count:
                    type: integer
                  invited_subcontractors:
                    items:
                      properties:
                        company_name:
                          type: string
                        global_company_id:
                          type: integer
                        response:
                          type: string
                        tax_id:
                          type: integer
                      type: object
                    type: array
                  invited_subcontractors_count:
                    type: integer
                  issue_date:
                    format: date
                    type: string
                  linked_rfis:
                    items:
                      properties:
                        form_id:
                          type: integer
                        rfi_name:
                          type: string
                      type: object
                    type: array
                  linked_rfis_count:
                    type: integer
                  name:
                    type: string
                  project_id:
                    type: integer
                  tender_package_id:
                    type: string
                  tender_status:
                    type: string
                  tender_type:
                    type: string
                  trade_category:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateTenderPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderPackageId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            additional_options:
              properties:
                bid_bond_required:
                  type: boolean
                pre_qualification_required:
                  type: boolean
                site_visit_required:
                  type: boolean
                submit_alternative_proposals:
                  type: boolean
              type: object
            bid_form_type:
              enum:
              - lump sum
              - unit price
              - detailed breakdown
              - cost plus
              type: string
            description:
              type: string
            document_security:
              properties:
                document_view_only:
                  type: boolean
              type: object
            due_date:
              format: date
              type: string
            estimated_value:
              type: number
            invited_subcontractors:
              items:
                properties:
                  company_name:
                    type: string
                  global_company_id:
                    type: integer
                  response:
                    type: string
                  tax_id:
                    type: integer
                type: object
              type: array
            issue_date:
              format: date
              type: string
            linked_rfis:
              items:
                properties:
                  form_id:
                    type: integer
                  rfi_name:
                    type: string
                type: object
              type: array
            name:
              type: string
            project_id:
              type: integer
            tender_status:
              enum:
              - will tender
              - undecided
              - will not tender
              type: string
            tender_type:
              enum:
              - open tender
              - selective tender
              - negotiated tender
              - single-stage tender
              - two-stage tender
              type: string
            trade_category:
              enum:
              - mechanical
              - plumbing
              - structural
              - finishes
              - glazing & facade
              - site works & landscaping
              - roofing
              - concrete
              - masonry
              - carpentry
              - flooring
              - other
              type: string
          type: object
      responses:
        200:
          description: Tender package updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Tender package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Tender Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tender-packages/{tenderPackageId}/subcontractors/{taxId}:
    patch:
      operationId: v2_updateSubcontractorResponse
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderPackageId
        required: true
        type: string
      - description: Tax ID of the subcontractor to update
        in: path
        name: taxId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            response:
              description: Updated response from the subcontractor
              type: string
          required:
          - response
          type: object
      responses:
        200:
          description: Subcontractor response updated successfully
          schema:
            properties:
              data:
                properties:
                  response:
                    type: string
                  tax_id:
                    type: integer
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Tender package or subcontractor not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Subcontractor Response By Tax ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tenders:
    get:
      operationId: v2_getTendersWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Optional filter by project ID
        in: query
        name: project_id
        required: false
        type: integer
      - enum:
        - commercial
        - residential
        - infrastructure
        - education
        - healthcare
        - industrial
        - retail
        - other
        in: query
        name: type
        required: false
        type: string
      - enum:
        - will_bid
        - undecided
        in: query
        name: bid_status
        required: false
        type: string
      - enum:
        - in_progress
        - review
        - new
        in: query
        name: tender_status
        required: false
        type: string
      - enum:
        - open
        - invited
        - shortlisted
        in: query
        name: stage
        required: false
        type: string
      - description: Include related project information
        in: query
        name: includeProjectInfo
        required: false
        type: boolean
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  properties:
                    bid_status:
                      type: string
                    client_contact:
                      description: Denormalized client contact for display
                      type: string
                    client_id:
                      description: Reference to workspace client (Firestore document
                        ID)
                      type: string
                    client_name:
                      description: Denormalized client name for display
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    description:
                      type: string
                    due_date:
                      format: date-time
                      type: string
                    estimator:
                      description: Optional estimator name or identifier
                      type: string
                    id:
                      type: string
                    location:
                      type: string
                    name:
                      type: string
                    project_id:
                      type: integer
                    stage:
                      type: string
                    tags:
                      type: array
                    teams:
                      type: array
                    tender_status:
                      type: string
                    type:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                    value:
                      type: number
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tenders (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createTenderWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bid_status:
              enum:
              - will_bid
              - undecided
              type: string
            client_contact:
              description: Denormalized client contact for display
              type: string
            client_id:
              description: Reference to workspace client (Firestore document ID, 32-char
                hex string)
              type: string
            client_name:
              description: Denormalized client name for display
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            estimator:
              description: Optional estimator name or identifier
              type: string
            location:
              type: string
            name:
              type: string
            notes:
              type: string
            probability:
              description: Probability between 0 and 1 (defaults to 0.5)
              type: number
            project_id:
              description: Optional project ID to associate tender with
              type: integer
            project_info:
              type: object
            stage:
              enum:
              - open
              - invited
              - shortlisted
              type: string
            tags:
              items:
                properties:
                  tag_id:
                    type: string
                  tag_name:
                    type: string
                type: object
              type: array
            teams:
              items:
                properties:
                  name:
                    type: string
                  role:
                    type: string
                  user_email:
                    type: string
                  user_id:
                    type: string
                type: object
              type: array
            tender_status:
              enum:
              - in_progress
              - review
              - new
              type: string
            type:
              enum:
              - commercial
              - residential
              - infrastructure
              - education
              - healthcare
              - industrial
              - retail
              - other
              type: string
            value:
              type: number
          required:
          - name
          - type
          - bid_status
          - tender_status
          - stage
          type: object
      responses:
        201:
          description: Tender created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Tender (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tenders/enums:
    get:
      operationId: v2_getTenderEnumsWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              bid_statuses:
                type: array
              stages:
                type: array
              tender_statuses:
                type: array
              tender_types:
                type: array
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender Enums (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/tenders/{tenderId}:
    delete:
      operationId: v2_deleteTenderByIdWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderId
        required: true
        type: string
      responses:
        200:
          description: Tender deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Tender By Id (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getTenderByIdWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderId
        required: true
        type: string
      - description: Include related project information
        in: query
        name: includeProjectInfo
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  bid_status:
                    type: string
                  client_contact:
                    description: Denormalized client contact for display
                    type: string
                  client_id:
                    description: Reference to workspace client (Firestore document
                      ID)
                    type: string
                  client_name:
                    description: Denormalized client name for display
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  description:
                    type: string
                  due_date:
                    format: date-time
                    type: string
                  estimator:
                    description: Optional estimator name or identifier
                    type: string
                  id:
                    type: string
                  location:
                    type: string
                  name:
                    type: string
                  notes:
                    type: string
                  project_id:
                    type: integer
                  stage:
                    type: string
                  tags:
                    type: array
                  teams:
                    type: array
                  tender_status:
                    type: string
                  type:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  value:
                    type: number
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender By Id (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateTenderByIdWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tenderId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bid_status:
              enum:
              - will_bid
              - undecided
              type: string
            client_contact:
              description: Denormalized client contact for display
              type: string
            client_id:
              description: Reference to workspace client (Firestore document ID, 32-char
                hex string)
              type: string
            client_name:
              description: Denormalized client name for display
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            estimator:
              description: Optional estimator name or identifier
              type: string
            location:
              type: string
            name:
              type: string
            notes:
              type: string
            probability:
              type: number
            project_id:
              type: integer
            stage:
              enum:
              - open
              - invited
              - shortlisted
              type: string
            tags:
              type: array
            teams:
              type: array
            tender_status:
              enum:
              - in_progress
              - review
              - new
              type: string
            type:
              enum:
              - commercial
              - residential
              - infrastructure
              - education
              - healthcare
              - industrial
              - retail
              - other
              type: string
            value:
              type: number
          type: object
      responses:
        200:
          description: Tender updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Tender By Id (Workspace Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/time-extensions:
    get:
      operationId: v2_getTimeExtensions
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        type: integer
      - description: Filter by project ID
        in: query
        name: project_id
        type: integer
      - description: Filter by status (submitted, rejected, granted, partially_granted)
        in: query
        name: status
        type: string
      - description: Filter by work package
        in: query
        name: work_package
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    critical_path:
                      description: Whether this affects critical path
                      type: boolean
                    days_assessed:
                      description: Number of days assessed
                      type: number
                    days_claimed:
                      description: Number of days claimed
                      type: number
                    delay_notice_num:
                      description: Related delay notice number
                      type: string
                    event_date:
                      description: Event date
                      format: date
                      type: string
                    id:
                      description: Time extension ID
                      type: string
                    project_id:
                      description: Project ID
                      type: integer
                    status:
                      description: Status (submitted, rejected, granted, partially_granted)
                      type: string
                    summary:
                      description: Summary of time extension
                      type: string
                    time_extension_client_id:
                      description: Client-facing time extension ID
                      type: string
                    time_extension_name:
                      description: Time extension name
                      type: string
                    time_extension_num:
                      description: Time extension number
                      type: string
                    work_package:
                      description: Work package
                      type: string
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Access denied
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Time Extensions
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createTimeExtension
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assessment_due_date:
              description: Assessment due date
              format: date
              type: string
            cause:
              description: Cause of time extension
              type: string
            claim_date:
              description: Claim date
              format: date
              type: string
            contract_reference:
              description: Contract reference
              type: string
            correspondence_reference:
              description: Correspondence reference
              type: string
            critical_path:
              description: Whether this affects critical path
              type: boolean
            days_assessed:
              description: Number of days assessed
              type: number
            days_claimed:
              description: Number of days claimed
              type: number
            delay_notice_num:
              description: Related delay notice number
              type: string
            details:
              description: Detailed description
              type: string
            determination_due_by:
              description: Determination due by date
              format: date
              type: string
            event_date:
              description: Event date
              format: date
              type: string
            notice_date:
              description: Notice date
              format: date
              type: string
            original_pc_date:
              description: Original PC date
              format: date
              type: string
            programme_activity:
              description: Programme activity
              type: string
            project_id:
              description: Project ID
              type: integer
            proposed_revised_pc_date:
              description: Proposed revised PC date
              format: date
              type: string
            responsible_party:
              description: Responsible party
              type: string
            sop_reference:
              description: SOP reference
              type: string
            status:
              description: Status of time extension
              enum:
              - submitted
              - rejected
              - granted
              - partially_granted
              type: string
            summary:
              description: Summary of time extension
              type: string
            time_extension_client_id:
              description: Client-facing time extension ID (auto-generated if not
                provided)
              type: string
            time_extension_name:
              description: Time extension name
              type: string
            work_package:
              description: Work package
              type: string
          required:
          - project_id
          - work_package
          - event_date
          - days_claimed
          - summary
          type: object
      responses:
        201:
          description: Time extension created successfully
          schema:
            properties:
              data:
                properties:
                  days_claimed:
                    description: Days claimed
                    type: number
                  id:
                    description: Time extension ID
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  status:
                    description: Status
                    type: string
                  summary:
                    description: Summary
                    type: string
                  time_extension_client_id:
                    description: Auto-generated client ID
                    type: string
                  time_extension_name:
                    description: Time extension name
                    type: string
                  work_package:
                    description: Work package
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad request - missing required fields
        401:
          description: Unauthorized
        403:
          description: Access denied
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Time Extension
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/time-extensions/{timeExtensionId}:
    get:
      operationId: v2_getTimeExtensionById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: timeExtensionId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  days_assessed:
                    description: Days assessed
                    type: number
                  days_claimed:
                    description: Days claimed
                    type: number
                  delay_notice_num:
                    description: Related delay notice number
                    type: string
                  details:
                    description: Detailed description
                    type: string
                  event_date:
                    description: Event date
                    format: date
                    type: string
                  id:
                    description: Time extension ID
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  status:
                    description: Status
                    type: string
                  summary:
                    description: Summary
                    type: string
                  time_extension_client_id:
                    description: Client-facing time extension ID
                    type: string
                  time_extension_name:
                    description: Time extension name
                    type: string
                  work_package:
                    description: Work package
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Access denied
        404:
          description: Time extension not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Time Extension By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateTimeExtensionById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: timeExtensionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assessment_due_date:
              description: Assessment due date
              format: date
              type: string
            cause:
              description: Cause of time extension
              type: string
            claim_date:
              description: Claim date
              format: date
              type: string
            contract_reference:
              description: Contract reference
              type: string
            correspondence_reference:
              description: Correspondence reference
              type: string
            critical_path:
              description: Whether this affects critical path
              type: boolean
            days_assessed:
              description: Number of days assessed
              type: number
            days_claimed:
              description: Number of days claimed
              type: number
            delay_notice_num:
              description: Related delay notice number
              type: string
            details:
              description: Detailed description
              type: string
            determination_due_by:
              description: Determination due by date
              format: date
              type: string
            event_date:
              description: Event date
              format: date
              type: string
            notice_date:
              description: Notice date
              format: date
              type: string
            original_pc_date:
              description: Original PC date
              format: date
              type: string
            programme_activity:
              description: Programme activity
              type: string
            proposed_revised_pc_date:
              description: Proposed revised PC date
              format: date
              type: string
            responsible_party:
              description: Responsible party
              type: string
            sop_reference:
              description: SOP reference
              type: string
            status:
              description: Status of time extension
              enum:
              - submitted
              - rejected
              - granted
              - partially_granted
              type: string
            summary:
              description: Summary of time extension
              type: string
            time_extension_client_id:
              description: Client-facing time extension ID
              type: string
            time_extension_name:
              description: Time extension name
              type: string
            work_package:
              description: Work package
              type: string
          type: object
      responses:
        200:
          description: Time extension updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad request - no fields to update
        401:
          description: Unauthorized
        403:
          description: Access denied
        404:
          description: Time extension not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Time Extension By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/cost/xero-sync/{syncId}:
    post:
      operationId: v2_postXeroSync
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - contacts
        - head_contract_claims
        - invoices_to_client
        - payments
        - purchase_orders
        - subcontractor_payment_schedules
        in: path
        name: syncId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        400:
          description: Bad request - Invalid sync type or Xero not configured
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Trigger Xero sync for a specific sync type
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/crews:
    delete:
      description: Soft delete crew by crew_id
      operationId: v2_deleteCrew
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Crew ID to delete
        in: query
        name: crew_id
        required: true
        type: string
      responses:
        200:
          description: Crew deleted successfully
          schema:
            properties:
              crew_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: crew_id not provided or already deleted
        404:
          description: Crew not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete crew
      tags:
      - Crews
    get:
      description: Retrieve crews with filtering options. Can retrieve specific crew
        by crew_id or list multiple crews with filters. Workspace-scoped endpoint.
      operationId: v2_getCrews
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Specific crew ID to retrieve
        in: query
        name: crew_id
        type: string
      - description: Filter by crew name
        in: query
        name: name
        type: string
      - description: Filter by trade type
        in: query
        name: trade
        type: string
      - description: Filter by cost code
        in: query
        name: cost_code
        type: string
      - description: Filter by tags
        in: query
        name: tags
        type: string
      - description: Search query for text-based filtering
        in: query
        name: q
        type: string
      - description: Page number for pagination (default 1)
        in: query
        name: page
        type: string
      - description: Number of items per page (default 20, max 100)
        in: query
        name: limit
        type: string
      responses:
        200:
          description: Successfully retrieved crews
          schema:
            properties:
              data:
                items:
                  properties:
                    assigned_projects:
                      description: Array of project IDs
                      items:
                        type: number
                      type: array
                    cost_code:
                      description: Cost code
                      type: string
                    created_at:
                      description: Creation timestamp
                      format: date-time
                      type: string
                    created_by_company_id:
                      description: Company ID of user who created this crew
                      type: string
                    created_by_user_email:
                      description: Email of user who created this crew
                      type: string
                    created_by_user_id:
                      description: ID of user who created this crew
                      type: string
                    description:
                      description: Crew description
                      type: string
                    id:
                      description: Unique crew identifier
                      type: string
                    is_deleted:
                      description: Soft delete flag
                      type: boolean
                    members:
                      description: Array of user IDs
                      items:
                        type: string
                      type: array
                    name:
                      description: Crew name
                      type: string
                    tags:
                      description: Array of tags
                      items:
                        type: string
                      type: array
                    trade:
                      description: Trade type
                      type: string
                    updated_at:
                      description: Last update timestamp
                      format: date-time
                      type: string
                    workspace_id:
                      description: Workspace ID
                      type: string
                  type: object
                type: array
              filters:
                type: object
              message:
                type: string
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
            type: object
        404:
          description: Crew not found (when crew_id specified)
      security:
      - JWT_v2: []
      summary: Get crews
      tags:
      - Crews
    patch:
      description: Update existing crew by crew_id
      operationId: v2_updateCrew
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_projects:
              description: Array of project IDs
              items:
                type: number
              type: array
            cost_code:
              description: Cost code
              type: string
            crew_id:
              description: ID of the crew to update
              type: string
            description:
              description: Crew description
              type: string
            members:
              description: Array of user IDs
              items:
                type: string
              type: array
            name:
              description: Crew name
              type: string
            tags:
              description: Array of tags
              items:
                type: string
              type: array
            trade:
              description: Trade type
              type: string
          required:
          - crew_id
          type: object
      responses:
        200:
          description: Crew updated successfully
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Validation failed or crew_id not provided
        404:
          description: Crew not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update crew
      tags:
      - Crews
    post:
      description: Create new crew. Workspace-scoped endpoint.
      operationId: v2_createCrew
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_projects:
              description: Array of project IDs
              items:
                type: number
              type: array
            cost_code:
              description: Cost code
              type: string
            description:
              description: Optional crew description
              type: string
            members:
              description: Array of user IDs
              items:
                type: string
              type: array
            name:
              description: Crew name
              type: string
            tags:
              description: Array of tags
              items:
                type: string
              type: array
            trade:
              description: Trade type
              type: string
          required:
          - name
          - trade
          - cost_code
          type: object
      responses:
        201:
          description: Crew created successfully
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
              required_fields:
                items:
                  type: string
                type: array
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create crew
      tags:
      - Crews
  /v2/workspaces/{workspaceId}/data-point-link:
    delete:
      description: Soft delete a data point link by ID
      operationId: v2_deleteDataPointLink
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: linkId
        type: string
      responses:
        200:
          description: Data point link successfully deleted
      security:
      - JWT_v2: []
      summary: Delete a data point link
      tags:
      - DataPointLink
    get:
      description: Retrieve data point links with filtering options
      operationId: v2_getDataPointLink
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: sourceType
        type: string
      - in: query
        name: sourceId
        type: string
      - in: query
        name: targetType
        type: string
      - in: query
        name: targetId
        type: string
      - in: query
        name: category
        type: string
      - in: query
        name: isDeleted
        type: string
      - in: query
        name: page
        type: string
      - in: query
        name: limit
        type: string
      responses:
        200:
          description: Successfully retrieved data point links
      security:
      - JWT_v2: []
      summary: Get data point links
      tags:
      - DataPointLink
    post:
      description: Create a new data point link between objects
      operationId: v2_createDataPointLink
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
      responses:
        200:
          description: Data point link created successfully
      security:
      - JWT_v2: []
      summary: Create a data point link
      tags:
      - DataPointLink
  /v2/workspaces/{workspaceId}/ds-site/form-workflow-emails/{formWorkflowEmailId}:
    get:
      operationId: v2_getConfiguredFormWorkflowEmailById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowEmailId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get configured form workflow email by ID
      tags:
      - DS Site Admin Integrations
    post:
      operationId: v2_sendFormWorkflowEmailById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowEmailId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              type: string
            global_company_id:
              type: string
          type: object
      responses:
        200:
          description: Successful response
      security:
      - JWT_v2: []
      summary: Send form workflow email by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflow-emails/{formWorkflowEmailId}/configure:
    delete:
      operationId: v2_deleteConfigurationFormWorkflowEmailById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowEmailId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete form workflow email by ID
      tags:
      - DS Site Admin Integrations
    post:
      operationId: v2_configureFormWorkflowEmailById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowEmailId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Configure form workflow email by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflow-emails/{formWorkflowEmailId}/submissions:
    get:
      operationId: v2_getConfiguredFormWorkflowEmailSubmissionsById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowEmailId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get configured form workflow email submissions by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflow-metadata:
    delete:
      operationId: v2_deleteFormWorkflowMetadata
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            field_alias:
              description: Optional - Specific field alias to delete mapping for
              type: string
            form_alias:
              description: Form alias to delete metadata mappings for
              type: string
            form_workflow_id:
              description: Form workflow ID to delete metadata mappings for
              type: string
            metadata_key:
              description: Optional - Specific metadata key to delete mapping for
              type: string
          required:
          - form_alias
          - form_workflow_id
          type: object
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  field_alias:
                    type: string
                  form_alias:
                    type: string
                  form_workflow_id:
                    type: string
                  metadata_key:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Missing parameters or workspace not mapped to
            global company
        401:
          description: Unauthorized
        404:
          description: Form workflow not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete form workflow metadata mapping
      tags:
      - DS Site Admin Integrations
    get:
      operationId: v2_getFormWorkflowMetadata
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Form workflow ID to get metadata mappings for
        in: query
        name: formWorkflowId
        required: true
        type: string
      - description: Form alias to get metadata mappings for
        in: query
        name: formAlias
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  form_alias:
                    type: string
                  form_workflow_id:
                    type: string
                  mapping:
                    items:
                      properties:
                        editable_by:
                          enum:
                          - parent
                          - child
                          - both
                          type: string
                        field_alias:
                          type: string
                        max_allowed_values:
                          type: integer
                        metadata_enum_json:
                          type: object
                        metadata_key:
                          type: string
                        metadata_name:
                          type: string
                        metadata_type:
                          enum:
                          - STRING
                          - NUMBER
                          - ENUM
                          type: string
                        min_allowed_values:
                          type: integer
                      type: object
                    type: array
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Missing parameters or workspace not mapped to
            global company
        401:
          description: Unauthorized
        404:
          description: Form workflow not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get form workflow metadata mappings
      tags:
      - DS Site Admin Integrations
    put:
      operationId: v2_createOrUpdateFormWorkflowMetadata
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            form_alias:
              description: Form alias to map metadata for
              type: string
            form_workflow_id:
              description: Form workflow ID to map metadata for
              type: string
            mapping:
              description: Array of field to metadata mappings
              items:
                properties:
                  field_alias:
                    description: Form field alias to map
                    type: string
                  field_name:
                    description: Field name to map the field to
                    type: string
                  metadata_key:
                    description: Metadata key to map the field to
                    type: string
                  section_name:
                    description: Section name to map the field to
                    type: string
                required:
                - field_alias
                - metadata_key
                - section_name
                - field_name
                - field_type
                type: object
              type: array
          required:
          - form_alias
          - form_workflow_id
          - mapping
          type: object
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  form_alias:
                    type: string
                  form_workflow_id:
                    type: string
                  mapping:
                    items:
                      properties:
                        field_alias:
                          type: string
                        metadata_key:
                          type: string
                      type: object
                    type: array
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request - Missing parameters, invalid metadata keys, or
            workspace not mapped to global company
        401:
          description: Unauthorized
        404:
          description: Form workflow or form workflow mapping not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create or update form workflow metadata mapping
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflows/{formWorkflowId}:
    get:
      operationId: v2_getConfiguredFormWorkflowById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get configured form workflow by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflows/{formWorkflowId}/configure:
    delete:
      operationId: v2_deleteConfigurationFormWorkflowById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete form workflow configuration by ID
      tags:
      - DS Site Admin Integrations
    post:
      operationId: v2_configureFormWorkflowById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Configure form workflow by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/form-workflows/{formWorkflowId}/submissions:
    get:
      operationId: v2_getConfiguredFormWorkflowSubmissionsById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formWorkflowId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get configured form workflow submissions by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/forms:
    get:
      operationId: v2_searchWorkspaceForms
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: query
        name: searchQuery
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Search forms in a workspace
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/forms-sync:
    post:
      operationId: v2_syncFormSubmissions
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            query:
              description: JSON-query object, as per DS Site API schema, excluding
                orderBy and resultItems
              type: object
          required:
          - query
          type: object
      responses:
        202:
          description: Sync job started
          schema:
            properties:
              data:
                properties:
                  job_uuid:
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Sync form submissions
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/ds-site/forms/{formId}:
    get:
      operationId: v2_getFormById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: formId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get a form in workspace by ID
      tags:
      - DS Site Admin Integrations
  /v2/workspaces/{workspaceId}/files:
    get:
      operationId: v2_v2_getFilesWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by file category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by file type
        in: query
        name: file_type
        required: false
        type: string
      - description: Filter by related document ID
        in: query
        name: related_document_id
        required: false
        type: string
      - description: Include all versions for each file in response
        in: query
        name: include_versions
        required: false
        type: boolean
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace-level files
      tags:
      - Get Data
    post:
      operationId: v2_v2_postFilesWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Action type (signed-urls, process)
        in: query
        name: action
        required: false
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              description: Array of file objects
              items:
                properties:
                  category:
                    type: string
                  file_size_bytes:
                    type: integer
                  filename:
                    type: string
                  filetype:
                    type: string
                  related_document_id:
                    type: string
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successfully returns signed URLs or processes files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed URLs for workspace-level file upload
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/files/{fileId}:
    delete:
      operationId: v2_v2_deleteFileWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully deleted file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete workspace-level file
      tags:
      - Upload Data
    get:
      operationId: v2_v2_getFileWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully returns file details
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace-level file details
      tags:
      - Get Data
    patch:
      operationId: v2_v2_patchFileWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            description:
              type: string
            display_name:
              type: string
            related_document_id:
              type: string
          type: object
      responses:
        200:
          description: Successfully updated file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update workspace-level file metadata
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/files/{fileId}/new-version:
    post:
      operationId: v2_v2_postFileNewVersionWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            change_description:
              description: Description of changes made
              type: string
            file_size_bytes:
              description: Size of the file in bytes
              type: integer
            file_url:
              description: URL of the uploaded file
              type: string
            new_filename:
              description: Filename for the new version
              type: string
          type: object
      responses:
        200:
          description: Successfully uploaded new version
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload new version of workspace-level file
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/files/{fileId}/versions:
    get:
      operationId: v2_v2_getFileVersionsWorkspaceLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: fileId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns file versions
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace-level file version history
      tags:
      - Get Data
  /v2/workspaces/{workspaceId}/hz-commercial-budgets:
    get:
      description: Retrieve budget register entries with optional filters and pagination
      operationId: v2_listCommercialBudgets
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by budget status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by budget category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across budget descriptions
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of budget entries
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial budgets
      tags:
      - Commercial
    post:
      description: Create a new budget entry in the budget register
      operationId: v2_createCommercialBudget
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            costCode:
              type: string
            currentBudget:
              format: float
              type: number
            description:
              type: string
            originalBudget:
              format: float
              type: number
            project_id:
              type: string
          required:
          - category
          - costCode
          - description
          - originalBudget
          type: object
      responses:
        201:
          description: Budget created successfully
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create commercial budget
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-budgets/{budgetId}:
    delete:
      description: Delete a budget entry
      operationId: v2_deleteCommercialBudget
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Budget unique identifier
        in: path
        name: budgetId
        required: true
        type: string
      responses:
        200:
          description: Budget deleted successfully
        403:
          description: Workspace access forbidden
        404:
          description: Budget not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete commercial budget
      tags:
      - Commercial
    get:
      description: Retrieve a specific budget entry by its unique identifier
      operationId: v2_getCommercialBudgetById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Budget unique identifier
        in: path
        name: budgetId
        required: true
        type: string
      responses:
        200:
          description: Budget details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Budget not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial budget by ID
      tags:
      - Commercial
    put:
      description: Update an existing budget entry
      operationId: v2_updateCommercialBudget
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Budget unique identifier
        in: path
        name: budgetId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated budget
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Budget not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update commercial budget
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-dashboard:
    get:
      description: Retrieve commercial dashboard data with budget overview, variations,
        and progress claims summary
      operationId: v2_getCommercialDashboard
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier for project-specific dashboard
        in: query
        name: projectId
        required: false
        type: string
      responses:
        200:
          description: Commercial dashboard data
          schema:
            properties:
              budget:
                type: object
              progressClaims:
                type: array
              project:
                type: object
              variations:
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial dashboard
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-head-contract-invoices:
    get:
      description: Retrieve head contract invoices with optional filters and pagination
      operationId: v2_listCommercialHeadContractInvoices
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by invoice status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by contractor
        in: query
        name: contractor
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across invoice details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of head contract invoices
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial head contract invoices
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-head-contract-invoices/{invoiceId}:
    get:
      description: Retrieve a specific head contract invoice by its unique identifier
      operationId: v2_getCommercialHeadContractInvoiceById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Head contract invoice unique identifier
        in: path
        name: invoiceId
        required: true
        type: string
      responses:
        200:
          description: Head contract invoice details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Head contract invoice not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial head contract invoice by ID
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-head-contracts:
    get:
      description: Retrieve head contracts with optional filters and pagination
      operationId: v2_listCommercialHeadContracts
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by contract status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by risk level
        in: query
        name: riskLevel
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across contract details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of head contracts
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial head contracts
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-head-contracts/{contractId}:
    get:
      description: Retrieve a specific head contract by its unique identifier
      operationId: v2_getCommercialHeadContractById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Head contract unique identifier
        in: path
        name: contractId
        required: true
        type: string
      responses:
        200:
          description: Head contract details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Head contract not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial head contract by ID
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-payment-schedule:
    get:
      description: Retrieve payment schedule entries with optional filters and pagination
      operationId: v2_listCommercialPaymentSchedule
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by payment status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by payment type
        in: query
        name: paymentType
        required: false
        type: string
      - description: Filter by contractor
        in: query
        name: contractor
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across payment details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of payment schedule entries
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial payment schedule
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-payment-schedule/{paymentId}:
    get:
      description: Retrieve a specific payment schedule entry by its unique identifier
      operationId: v2_getCommercialPaymentScheduleById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Payment schedule entry unique identifier
        in: path
        name: paymentId
        required: true
        type: string
      responses:
        200:
          description: Payment schedule entry details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Payment schedule entry not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial payment schedule entry by ID
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-progress-claims:
    get:
      description: Retrieve progress claims with optional filters and pagination
      operationId: v2_listCommercialProgressClaims
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by claim status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by contractor
        in: query
        name: contractor
        required: false
        type: string
      - description: Filter by claim type
        in: query
        name: claimType
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across claim details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of progress claims
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial progress claims
      tags:
      - Commercial
    post:
      description: Create a new progress claim
      operationId: v2_createCommercialProgressClaim
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            claimNumber:
              type: string
            claimedAmount:
              format: float
              type: number
            contractor:
              type: string
            period:
              type: string
            project_id:
              type: string
            status:
              type: string
          required:
          - claimNumber
          - contractor
          - period
          - claimedAmount
          type: object
      responses:
        201:
          description: Progress claim created successfully
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create commercial progress claim
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-progress-claims/{claimId}:
    delete:
      description: Delete a progress claim
      operationId: v2_deleteCommercialProgressClaim
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Progress claim unique identifier
        in: path
        name: claimId
        required: true
        type: string
      responses:
        200:
          description: Progress claim deleted successfully
        403:
          description: Workspace access forbidden
        404:
          description: Progress claim not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete commercial progress claim
      tags:
      - Commercial
    get:
      description: Retrieve a specific progress claim by its unique identifier
      operationId: v2_getCommercialProgressClaimById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Progress claim unique identifier
        in: path
        name: claimId
        required: true
        type: string
      responses:
        200:
          description: Progress claim details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Progress claim not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial progress claim by ID
      tags:
      - Commercial
    put:
      description: Update an existing progress claim
      operationId: v2_updateCommercialProgressClaim
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Progress claim unique identifier
        in: path
        name: claimId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated progress claim
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Progress claim not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update commercial progress claim
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-retentions:
    get:
      description: Retrieve retention entries with optional filters and pagination
      operationId: v2_listCommercialRetentions
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by retention status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by contractor
        in: query
        name: contractor
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across retention details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of retentions
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial retentions
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-retentions/{retentionId}:
    get:
      description: Retrieve a specific retention by its unique identifier
      operationId: v2_getCommercialRetentionById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Retention unique identifier
        in: path
        name: retentionId
        required: true
        type: string
      responses:
        200:
          description: Retention details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Retention not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial retention by ID
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-subcontracts:
    get:
      description: Retrieve subcontract entries with optional filters and pagination
      operationId: v2_listCommercialSubcontracts
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by subcontract status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by risk level
        in: query
        name: riskLevel
        required: false
        type: string
      - description: Filter by work package
        in: query
        name: workPackage
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across subcontract details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of subcontracts
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial subcontracts
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-subcontracts/{subcontractId}:
    get:
      description: Retrieve a specific subcontract by its unique identifier
      operationId: v2_getCommercialSubcontractById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Subcontract unique identifier
        in: path
        name: subcontractId
        required: true
        type: string
      responses:
        200:
          description: Subcontract details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Subcontract not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial subcontract by ID
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-variations:
    get:
      description: Retrieve contract variations with optional filters and pagination
      operationId: v2_listCommercialVariations
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by variation status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by variation category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by priority level
        in: query
        name: priority
        required: false
        type: string
      - description: Filter by project identifier
        in: query
        name: project_id
        required: false
        type: string
      - description: Free text search across variation titles
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of variations
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List commercial variations
      tags:
      - Commercial
    post:
      description: Create a new contract variation
      operationId: v2_createCommercialVariation
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            contractor:
              type: string
            originalValue:
              format: float
              type: number
            priority:
              type: string
            project_id:
              type: string
            status:
              type: string
            title:
              type: string
            variationNumber:
              type: string
          required:
          - variationNumber
          - title
          - contractor
          - originalValue
          type: object
      responses:
        201:
          description: Variation created successfully
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create commercial variation
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-commercial-variations/{variationId}:
    delete:
      description: Delete a variation
      operationId: v2_deleteCommercialVariation
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Variation unique identifier
        in: path
        name: variationId
        required: true
        type: string
      responses:
        200:
          description: Variation deleted successfully
        403:
          description: Workspace access forbidden
        404:
          description: Variation not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete commercial variation
      tags:
      - Commercial
    get:
      description: Retrieve a specific variation by its unique identifier
      operationId: v2_getCommercialVariationById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Variation unique identifier
        in: path
        name: variationId
        required: true
        type: string
      responses:
        200:
          description: Variation details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Variation not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get commercial variation by ID
      tags:
      - Commercial
    put:
      description: Update an existing variation
      operationId: v2_updateCommercialVariation
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Variation unique identifier
        in: path
        name: variationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated variation
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Variation not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update commercial variation
      tags:
      - Commercial
  /v2/workspaces/{workspaceId}/hz-delivery-action-items:
    get:
      description: Retrieve action items with optional filters and pagination
      operationId: v2_listActionItems
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by action item status
        enum:
        - open
        - in-progress
        - completed
        - overdue
        in: query
        name: status
        required: false
        type: string
      - description: Filter by priority level
        enum:
        - high
        - medium
        - low
        in: query
        name: priority
        required: false
        type: string
      - description: Filter by category
        enum:
        - safety
        - quality
        - schedule
        - general
        in: query
        name: category
        required: false
        type: string
      - description: Filter by assignee name
        in: query
        name: assignedTo
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across action item content
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of action items
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List action items
      tags:
      - Delivery
    post:
      description: Create a new action item
      operationId: v2_createActionItem
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assignedTo:
              description: Assignee name
              type: string
            category:
              description: Action item category
              enum:
              - safety
              - quality
              - schedule
              - general
              type: string
            description:
              description: Action item description
              type: string
            dueDate:
              description: Due date
              format: date
              type: string
            notes:
              description: Additional notes
              type: string
            priority:
              default: medium
              description: Priority level
              enum:
              - high
              - medium
              - low
              type: string
            project:
              description: Associated project
              type: string
            status:
              default: open
              enum:
              - open
              - in-progress
              - completed
              - overdue
              type: string
            title:
              description: Action item title
              type: string
          required:
          - title
          - description
          - project
          - assignedTo
          - dueDate
          - category
          type: object
      responses:
        201:
          description: Action item created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create action item
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-action-items/{actionId}:
    get:
      description: Retrieve a specific action item by its unique identifier
      operationId: v2_getActionItemById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Action item unique identifier
        in: path
        name: actionId
        required: true
        type: string
      responses:
        200:
          description: Action item details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Action item not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get action item by ID
      tags:
      - Delivery
    put:
      description: Update an existing action item
      operationId: v2_updateActionItem
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Action item unique identifier
        in: path
        name: actionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated action item
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Action item not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update action item
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-completion-packs:
    get:
      description: Retrieve completion packs with optional filters and pagination
      operationId: v2_listCompletionPacks
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by completion pack status
        enum:
        - draft
        - in-progress
        - under-review
        - approved
        - submitted
        in: query
        name: status
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by pack type
        enum:
        - project-closeout
        - handover
        - commissioning
        - warranty
        in: query
        name: type
        required: false
        type: string
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across completion pack content
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of completion packs
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List completion packs
      tags:
      - Delivery
    post:
      description: Create a new completion pack
      operationId: v2_createCompletionPack
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Pack description
              type: string
            documents:
              description: Document URLs or references
              items:
                type: string
              type: array
            dueDate:
              description: Due date
              format: date
              type: string
            name:
              description: Completion pack name
              type: string
            project:
              description: Associated project
              type: string
            status:
              default: draft
              enum:
              - draft
              - in-progress
              - under-review
              - approved
              - submitted
              type: string
            type:
              description: Pack type
              enum:
              - project-closeout
              - handover
              - commissioning
              - warranty
              type: string
          required:
          - name
          - project
          - type
          - dueDate
          type: object
      responses:
        201:
          description: Completion pack created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create completion pack
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-completion-packs/{packId}:
    get:
      description: Retrieve a specific completion pack by its unique identifier
      operationId: v2_getCompletionPackById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Completion pack unique identifier
        in: path
        name: packId
        required: true
        type: string
      responses:
        200:
          description: Completion pack details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Completion pack not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get completion pack by ID
      tags:
      - Delivery
    put:
      description: Update an existing completion pack
      operationId: v2_updateCompletionPack
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Completion pack unique identifier
        in: path
        name: packId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated completion pack
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Completion pack not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update completion pack
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-dashboard:
    get:
      description: Retrieve delivery dashboard data with KPIs, site diary entries,
        RFIs, and action items
      operationId: v2_getDeliveryDashboard
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - default: month
        description: Time filter for dashboard data
        enum:
        - week
        - month
        - quarter
        - year
        in: query
        name: timeFilter
        required: false
        type: string
      - default: overview
        description: Dashboard view mode
        enum:
        - overview
        - site-diary
        - rfis
        - actions
        in: query
        name: activeView
        required: false
        type: string
      responses:
        200:
          description: Delivery dashboard data
          schema:
            properties:
              actionItems:
                items:
                  properties:
                    assignedTo:
                      type: string
                    category:
                      enum:
                      - safety
                      - quality
                      - schedule
                      - general
                      type: string
                    description:
                      type: string
                    dueDate:
                      format: date
                      type: string
                    id:
                      type: string
                    priority:
                      enum:
                      - high
                      - medium
                      - low
                      type: string
                    project:
                      type: string
                    status:
                      enum:
                      - open
                      - in-progress
                      - completed
                      - overdue
                      type: string
                    title:
                      type: string
                  type: object
                type: array
              kpis:
                properties:
                  actionItems:
                    type: integer
                  activeProjects:
                    type: integer
                  completionRate:
                    format: float
                    type: number
                  openRfis:
                    type: integer
                type: object
              recentActivity:
                items:
                  properties:
                    description:
                      type: string
                    id:
                      type: string
                    status:
                      type: string
                    timestamp:
                      format: date-time
                      type: string
                    title:
                      type: string
                    type:
                      type: string
                  type: object
                type: array
              rfis:
                items:
                  properties:
                    assignedTo:
                      type: string
                    category:
                      type: string
                    dueDate:
                      format: date
                      type: string
                    id:
                      type: string
                    priority:
                      enum:
                      - high
                      - medium
                      - low
                      type: string
                    project:
                      type: string
                    rfiNumber:
                      type: string
                    status:
                      enum:
                      - open
                      - pending
                      - answered
                      - closed
                      type: string
                    submittedBy:
                      type: string
                    title:
                      type: string
                  type: object
                type: array
              siteDiaryEntries:
                items:
                  properties:
                    activities:
                      type: string
                    author:
                      type: string
                    date:
                      format: date
                      type: string
                    id:
                      type: string
                    issues:
                      type: string
                    project:
                      type: string
                    status:
                      enum:
                      - draft
                      - submitted
                      - approved
                      type: string
                    temperature:
                      type: number
                    trades:
                      items:
                        type: string
                      type: array
                    weather:
                      enum:
                      - sunny
                      - cloudy
                      - rain
                      - overcast
                      - snow
                      type: string
                    workforce:
                      type: integer
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get delivery dashboard
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-rfis:
    get:
      description: Retrieve RFIs with optional filters and pagination
      operationId: v2_listRFIs
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by RFI status
        enum:
        - open
        - pending
        - answered
        - closed
        in: query
        name: status
        required: false
        type: string
      - description: Filter by priority level
        enum:
        - high
        - medium
        - low
        in: query
        name: priority
        required: false
        type: string
      - description: Filter by RFI category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by submitter name
        in: query
        name: submittedBy
        required: false
        type: string
      - description: Filter by assignee name
        in: query
        name: assignedTo
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across RFI content
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of RFIs
          schema:
            properties:
              items:
                items:
                  properties:
                    assignedTo:
                      type: string
                    category:
                      type: string
                    createdAt:
                      format: date-time
                      type: string
                    description:
                      type: string
                    dueDate:
                      format: date
                      type: string
                    id:
                      type: string
                    priority:
                      type: string
                    project:
                      type: string
                    rfiNumber:
                      type: string
                    status:
                      type: string
                    submittedBy:
                      type: string
                    title:
                      type: string
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List RFIs (Requests for Information)
      tags:
      - Delivery
    post:
      description: Create a new Request for Information
      operationId: v2_createRFI
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assignedTo:
              description: Assignee name
              type: string
            attachments:
              description: Attachment URLs or references
              items:
                type: string
              type: array
            category:
              description: RFI category
              type: string
            description:
              description: Detailed RFI description
              type: string
            dueDate:
              description: Response due date
              format: date
              type: string
            priority:
              default: medium
              description: Priority level
              enum:
              - high
              - medium
              - low
              type: string
            project:
              description: Associated project
              type: string
            status:
              default: open
              enum:
              - open
              - pending
              - answered
              - closed
              type: string
            submittedBy:
              description: Submitter name
              type: string
            title:
              description: RFI title
              type: string
          required:
          - title
          - project
          - submittedBy
          - assignedTo
          - dueDate
          - description
          type: object
      responses:
        201:
          description: RFI created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
              rfiNumber:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create RFI
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-rfis/{rfiId}:
    get:
      description: Retrieve a specific RFI by its unique identifier
      operationId: v2_getRFIById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: RFI unique identifier
        in: path
        name: rfiId
        required: true
        type: string
      responses:
        200:
          description: RFI details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: RFI not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get RFI by ID
      tags:
      - Delivery
    put:
      description: Update an existing RFI
      operationId: v2_updateRFI
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: RFI unique identifier
        in: path
        name: rfiId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated RFI
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: RFI not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update RFI
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-site-diary:
    get:
      description: Retrieve site diary entries with optional filters and pagination
      operationId: v2_listSiteDiaryEntries
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by entry status
        enum:
        - draft
        - submitted
        - approved
        in: query
        name: status
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by entry author
        in: query
        name: author
        required: false
        type: string
      - description: Filter by weather condition
        enum:
        - sunny
        - cloudy
        - rain
        - overcast
        - snow
        in: query
        name: weather
        required: false
        type: string
      - description: Filter by entry date from (inclusive)
        format: date
        in: query
        name: entryDateFrom
        required: false
        type: string
      - description: Filter by entry date to (inclusive)
        format: date
        in: query
        name: entryDateTo
        required: false
        type: string
      - description: Free text search across diary entry content
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of site diary entries
          schema:
            properties:
              items:
                items:
                  properties:
                    activities:
                      type: string
                    author:
                      type: string
                    createdAt:
                      format: date-time
                      type: string
                    date:
                      format: date
                      type: string
                    id:
                      type: string
                    issues:
                      type: string
                    project:
                      type: string
                    status:
                      type: string
                    temperature:
                      type: number
                    trades:
                      items:
                        type: string
                      type: array
                    updatedAt:
                      format: date-time
                      type: string
                    weather:
                      type: string
                    workforce:
                      type: integer
                  type: object
                type: array
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  pages:
                    type: integer
                  total:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List site diary entries
      tags:
      - Delivery
    post:
      description: Create a new site diary entry
      operationId: v2_createSiteDiaryEntry
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            activities:
              description: Activities performed
              type: string
            author:
              description: Entry author name
              type: string
            date:
              description: Diary entry date
              format: date
              type: string
            issues:
              description: Issues encountered (or 'None')
              type: string
            photos:
              description: Photo URLs or references
              items:
                type: string
              type: array
            project:
              description: Associated project
              type: string
            status:
              default: draft
              enum:
              - draft
              - submitted
              - approved
              type: string
            temperature:
              description: Temperature in Celsius
              type: number
            trades:
              description: Trades present on site
              items:
                type: string
              type: array
            weather:
              default: sunny
              description: Weather condition
              enum:
              - sunny
              - cloudy
              - rain
              - overcast
              - snow
              type: string
            workforce:
              description: Number of workers on site
              minimum: 0
              type: integer
          required:
          - date
          - project
          - author
          - activities
          - workforce
          type: object
      responses:
        201:
          description: Site diary entry created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create site diary entry
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-delivery-site-diary/{entryId}:
    delete:
      description: Delete a site diary entry
      operationId: v2_deleteSiteDiaryEntry
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Site diary entry unique identifier
        in: path
        name: entryId
        required: true
        type: string
      responses:
        200:
          description: Site diary entry deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Site diary entry not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete site diary entry
      tags:
      - Delivery
    get:
      description: Retrieve a specific site diary entry by its unique identifier
      operationId: v2_getSiteDiaryEntryById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Site diary entry unique identifier
        in: path
        name: entryId
        required: true
        type: string
      responses:
        200:
          description: Site diary entry details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Site diary entry not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get site diary entry by ID
      tags:
      - Delivery
    put:
      description: Update an existing site diary entry
      operationId: v2_updateSiteDiaryEntry
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Site diary entry unique identifier
        in: path
        name: entryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated site diary entry
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Site diary entry not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update site diary entry
      tags:
      - Delivery
  /v2/workspaces/{workspaceId}/hz-notification-templates/{channel}:
    get:
      operationId: v2_listHzChannelTemplates
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - email
        - in_app
        in: path
        name: channel
        required: true
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      responses:
        200:
          description: Templates retrieved successfully
      security:
      - JWT_v2: []
      summary: List channel templates
      tags:
      - HzNotifications
    post:
      operationId: v2_createHzChannelTemplate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - email
        - in_app
        in: path
        name: channel
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            created_by:
              type: string
            email_body:
              type: string
            is_active:
              type: boolean
            locale:
              type: string
            plain_text:
              type: string
            required_fields:
              items:
                type: string
              type: array
            subject:
              type: string
            type:
              type: string
            version:
              type: integer
          type: object
      responses:
        201:
          description: Template created successfully
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Create channel template
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notification-templates/{channel}/{template_id}:
    delete:
      operationId: v2_deleteHzChannelTemplate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - email
        - in_app
        in: path
        name: channel
        required: true
        type: string
      - in: path
        name: template_id
        required: true
        type: string
      responses:
        200:
          description: Template deleted successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Delete channel template
      tags:
      - HzNotifications
    get:
      operationId: v2_getHzChannelTemplate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - email
        - in_app
        in: path
        name: channel
        required: true
        type: string
      - in: path
        name: template_id
        required: true
        type: string
      responses:
        200:
          description: Template retrieved successfully
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Get channel template detail
      tags:
      - HzNotifications
    patch:
      operationId: v2_updateHzChannelTemplate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - email
        - in_app
        in: path
        name: channel
        required: true
        type: string
      - in: path
        name: template_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            created_by:
              type: string
            email_body:
              type: string
            is_active:
              type: boolean
            locale:
              type: string
            plain_text:
              type: string
            required_fields:
              items:
                type: string
              type: array
            subject:
              type: string
            type:
              type: string
            version:
              type: integer
          type: object
      responses:
        200:
          description: Template updated successfully
        400:
          description: Validation failed
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Update channel template
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/preview:
    post:
      operationId: v2_previewHzEmail
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            template_variables:
              type: object
            type:
              type: string
          required:
          - category
          - type
          - template_variables
          type: object
      responses:
        200:
          description: Template processed successfully
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Preview email without sending
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue:
    get:
      operationId: v2_listHzEmailQueue
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - enum:
        - pending
        - processing
        - sent
        - failed
        in: query
        name: status
        type: string
      - enum:
        - urgent
        - normal
        - low
        in: query
        name: priority
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      responses:
        200:
          description: Queue items retrieved successfully
      security:
      - JWT_v2: []
      summary: List email queue items
      tags:
      - HzNotifications
    post:
      operationId: v2_createHzEmailQueueItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        201:
          description: Queue item created
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Create email queue item (admin)
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue/process:
    post:
      operationId: v2_processHzEmailQueue
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        schema:
          properties:
            dry_run:
              default: false
              type: boolean
            limit:
              default: 50
              type: integer
          type: object
      responses:
        200:
          description: Queue processing completed
      security:
      - JWT_v2: []
      summary: Process pending email queue items (batch)
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue/processing-status:
    get:
      operationId: v2_getHzEmailQueueProcessingStatus
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Processing status retrieved
      security:
      - JWT_v2: []
      summary: Get email queue processing status
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue/statistics:
    get:
      operationId: v2_getHzEmailQueueStatistics
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Queue statistics retrieved
      security:
      - JWT_v2: []
      summary: Get email queue statistics
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue/{item_id}:
    delete:
      operationId: v2_deleteHzEmailQueueItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: item_id
        required: true
        type: string
      responses:
        200:
          description: Queue item deleted
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Delete email queue item
      tags:
      - HzNotifications
    get:
      operationId: v2_getHzEmailQueueItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: item_id
        required: true
        type: string
      responses:
        200:
          description: Queue item retrieved
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Get email queue item
      tags:
      - HzNotifications
    patch:
      operationId: v2_updateHzEmailQueueItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: item_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Queue item updated
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Update email queue item
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/queue/{item_id}/retry:
    post:
      operationId: v2_retryHzEmailQueueItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: item_id
        required: true
        type: string
      responses:
        200:
          description: Queue item retry initiated
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Retry failed email queue item
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/send:
    post:
      operationId: v2_sendHzEmail
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bcc_recipients:
              items:
                properties:
                  email:
                    type: string
                  name:
                    type: string
                type: object
              type: array
            category:
              description: Template category (e.g., task_management)
              type: string
            cc_recipients:
              items:
                properties:
                  email:
                    type: string
                  name:
                    type: string
                type: object
              type: array
            priority:
              default: normal
              enum:
              - urgent
              - normal
              - low
              type: string
            template_variables:
              description: Variables to substitute in template
              type: object
            to_recipients:
              items:
                properties:
                  email:
                    type: string
                  name:
                    type: string
                type: object
              type: array
            type:
              description: Template type (e.g., task_assigned)
              type: string
          required:
          - category
          - type
          - template_variables
          - to_recipients
          type: object
      responses:
        201:
          description: Email queued successfully
          schema:
            properties:
              data:
                properties:
                  category:
                    type: string
                  priority:
                    type: string
                  queue_id:
                    type: string
                  recipient_count:
                    type: object
                  status:
                    type: string
                  type:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Validation failed
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Send email using template
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/email/send-bulk:
    post:
      operationId: v2_sendHzBulkEmail
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            emails:
              items:
                properties:
                  bcc_recipients:
                    items:
                      type: object
                    type: array
                  cc_recipients:
                    items:
                      type: object
                    type: array
                  template_variables:
                    type: object
                  to_recipients:
                    items:
                      type: object
                    type: array
                type: object
              maxItems: 100
              type: array
            priority:
              enum:
              - urgent
              - normal
              - low
              type: string
            type:
              type: string
          required:
          - category
          - type
          - emails
          type: object
      responses:
        200:
          description: Bulk emails processed
        400:
          description: Validation failed
      security:
      - JWT_v2: []
      summary: Send bulk emails using same template
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/in-app:
    get:
      operationId: v2_getHzUserInAppNotifications
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: User's Kinde ID (if not provided, uses authenticated user's ID)
        in: query
        name: recipient_kinde_id
        type: string
      - default: false
        description: Filter to show only unread notifications
        in: query
        name: unread_only
        type: boolean
      - description: Filter by importance level
        enum:
        - notification
        - warning
        - alert
        in: query
        name: importance
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        name: page
        type: integer
      - default: 50
        description: Number of items per page (max 100)
        in: query
        name: limit
        type: integer
      responses:
        200:
          description: In-app notifications retrieved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    category:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    id:
                      type: string
                    importance:
                      type: string
                    is_action_required:
                      type: boolean
                    read_at:
                      format: date-time
                      type: string
                    recipient_kinde_id:
                      type: string
                    simplified_fields:
                      items:
                        type: string
                      type: array
                    simplified_fields_value:
                      type: object
                    status:
                      enum:
                      - unread
                      - read
                      - archived
                      type: string
                    template_id:
                      type: string
                    title:
                      type: string
                    type:
                      type: string
                    workspace_id:
                      type: string
                  type: object
                type: array
              message:
                example: In-app notifications retrieved successfully
                type: string
              pagination:
                properties:
                  has_next:
                    type: boolean
                  has_previous:
                    type: boolean
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
              summary:
                properties:
                  page_count:
                    description: Number of notifications on current page
                    type: integer
                  total_count:
                    description: Total number of notifications
                    type: integer
                  unread_count:
                    description: Total number of unread notifications
                    type: integer
                type: object
            type: object
        400:
          description: Invalid query parameters
          schema:
            properties:
              error:
                type: string
              message:
                type: string
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List in-app notifications for a user
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/in-app/send:
    post:
      operationId: v2_sendHzInAppNotification
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              description: Template category (e.g., progress_claims, task_management)
              example: progress_claims
              type: string
            importance:
              default: notification
              description: Importance level of the notification
              enum:
              - notification
              - warning
              - alert
              type: string
            is_action_required:
              default: false
              description: Whether action is required from the recipient
              type: boolean
            recipient_kinde_id:
              description: Kinde ID of the notification recipient
              example: kp_abc123xyz
              type: string
            simplified_fields_value:
              description: Simplified field values for display
              example:
                amount: $1,245,350
                submitted_by: Sarah Wong
              type: object
            template_variables:
              description: Variables to substitute in template
              example:
                claim_amount: $1,245,350
                user_email: sarah@example.com
              type: object
            type:
              description: Template type (e.g., claim_submitted, task_assigned)
              example: claim_submitted
              type: string
          required:
          - category
          - type
          - template_variables
          - simplified_fields_value
          - recipient_kinde_id
          type: object
      responses:
        201:
          description: In-app notification sent successfully
          schema:
            properties:
              data:
                properties:
                  category:
                    example: progress_claims
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  importance:
                    example: notification
                    type: string
                  notification_id:
                    example: notif_abc123
                    type: string
                  recipient_kinde_id:
                    example: kp_abc123xyz
                    type: string
                  status:
                    example: unread
                    type: string
                  template_id:
                    example: tpl_xyz789
                    type: string
                  type:
                    example: claim_submitted
                    type: string
                  workspace_id:
                    example: workspace-123
                    type: string
                type: object
              message:
                example: In-app notification sent successfully
                type: string
            type: object
        400:
          description: Validation failed - missing or invalid fields
          schema:
            properties:
              message:
                type: string
              required_field:
                type: string
              required_fields:
                items:
                  type: string
                type: array
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Send in-app notification using template
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-notifications/in-app/{notification_id}:
    patch:
      operationId: v2_patchHzInAppNotification
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Notification ID to update
        in: path
        name: notification_id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            is_mark_as_read:
              description: Mark notification as read (true) or unread (false)
              example: true
              type: boolean
          required:
          - is_mark_as_read
          type: object
      responses:
        200:
          description: Notification updated successfully
          schema:
            properties:
              data:
                properties:
                  category:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  id:
                    type: string
                  importance:
                    enum:
                    - notification
                    - warning
                    - alert
                    type: string
                  is_action_required:
                    type: boolean
                  is_mark_as_read:
                    type: boolean
                  is_unread:
                    type: boolean
                  read_at:
                    format: date-time
                    type: string
                  recipient_kinde_id:
                    type: string
                  simplified_fields:
                    items:
                      type: string
                    type: array
                  simplified_fields_value:
                    type: object
                  status:
                    enum:
                    - pending
                    - delivered
                    - read
                    - failed
                    type: string
                  template_id:
                    type: string
                  title:
                    type: string
                  type:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  workspace_id:
                    type: string
                type: object
              message:
                example: Notification updated successfully
                type: string
            type: object
        400:
          description: Bad request - missing or invalid fields
          schema:
            properties:
              error:
                type: string
              message:
                type: string
            type: object
        404:
          description: Notification not found
          schema:
            properties:
              message:
                example: Notification not found
                type: string
            type: object
        500:
          description: Internal server error
          schema:
            properties:
              error:
                type: string
              message:
                type: string
              request_id:
                type: string
            type: object
      security:
      - JWT_v2: []
      summary: Mark in-app notification as read
      tags:
      - HzNotifications
  /v2/workspaces/{workspaceId}/hz-preconstruction-bid-packages:
    get:
      description: Retrieve bid packages with optional filters and pagination
      operationId: v2_listBidPackages
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by bid package status
        enum:
        - draft
        - issued
        - responses-received
        - evaluated
        - awarded
        in: query
        name: status
        required: false
        type: string
      - description: Filter by package type
        in: query
        name: packageType
        required: false
        type: string
      - description: Filter by project ID
        in: query
        name: projectId
        required: false
        type: string
      - description: Free text search across bid package details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of bid packages
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List bid packages
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-dashboard:
    get:
      description: Retrieve preconstruction dashboard data with KPIs, tender opportunities,
        and activity overview
      operationId: v2_getPreconstructionDashboard
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - default: month
        description: Time filter for dashboard data
        enum:
        - week
        - month
        - quarter
        - year
        in: query
        name: timeFilter
        required: false
        type: string
      responses:
        200:
          description: Preconstruction dashboard data
          schema:
            properties:
              kpis:
                properties:
                  activeEstimates:
                    type: integer
                  activeOpportunities:
                    type: integer
                  pipelineValue:
                    format: float
                    type: number
                  winRate:
                    format: float
                    type: number
                type: object
              recentActivity:
                items:
                  properties:
                    description:
                      type: string
                    id:
                      type: string
                    status:
                      type: string
                    timestamp:
                      format: date-time
                      type: string
                    title:
                      type: string
                    type:
                      type: string
                  type: object
                type: array
              tenderOpportunities:
                items:
                  properties:
                    client:
                      type: string
                    dueDate:
                      format: date
                      type: string
                    estimator:
                      type: string
                    id:
                      type: string
                    project:
                      type: string
                    status:
                      enum:
                      - new
                      - in-progress
                      - submitted
                      - won
                      - lost
                      type: string
                    value:
                      format: float
                      type: number
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get preconstruction dashboard
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-estimates:
    get:
      description: Retrieve project estimates with optional filters and pagination
      operationId: v2_listProjectEstimates
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by estimate status
        enum:
        - draft
        - in-progress
        - under-review
        - approved
        - rejected
        in: query
        name: status
        required: false
        type: string
      - description: Filter by estimator name
        in: query
        name: estimator
        required: false
        type: string
      - description: Filter by project type
        in: query
        name: projectType
        required: false
        type: string
      - description: Filter by opportunity ID
        in: query
        name: opportunityId
        required: false
        type: string
      - description: Free text search across estimate details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of project estimates
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List project estimates
      tags:
      - Preconstruction
    post:
      description: Create a new project estimate
      operationId: v2_createProjectEstimate
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Estimate description
              type: string
            estimateName:
              description: Estimate name/title
              type: string
            estimatedValue:
              description: Estimated total value
              format: float
              type: number
            estimator:
              description: Assigned estimator name
              type: string
            opportunityId:
              description: Associated opportunity ID
              type: string
            status:
              default: draft
              enum:
              - draft
              - in-progress
              - under-review
              - approved
              - rejected
              type: string
          required:
          - estimateName
          - estimator
          - opportunityId
          type: object
      responses:
        201:
          description: Project estimate created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create project estimate
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-estimates/{estimateId}:
    get:
      description: Retrieve a specific project estimate by its unique identifier
      operationId: v2_getProjectEstimateById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project estimate unique identifier
        in: path
        name: estimateId
        required: true
        type: string
      responses:
        200:
          description: Project estimate details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Project estimate not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get project estimate by ID
      tags:
      - Preconstruction
    put:
      description: Update an existing project estimate
      operationId: v2_updateProjectEstimate
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project estimate unique identifier
        in: path
        name: estimateId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated project estimate
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Project estimate not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update project estimate
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-opportunities:
    get:
      description: Retrieve tender opportunities with optional filters and pagination
      operationId: v2_listTenderOpportunities
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by opportunity status
        enum:
        - new
        - in-progress
        - submitted
        - won
        - lost
        - undecided
        in: query
        name: status
        required: false
        type: string
      - description: Filter by assigned estimator
        in: query
        name: estimator
        required: false
        type: string
      - description: Filter by client name
        in: query
        name: client
        required: false
        type: string
      - description: Filter by region
        in: query
        name: region
        required: false
        type: string
      - description: Filter by minimum project value
        format: float
        in: query
        name: minValue
        required: false
        type: number
      - description: Filter by maximum project value
        format: float
        in: query
        name: maxValue
        required: false
        type: number
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across opportunity details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of tender opportunities
          schema:
            properties:
              items:
                items:
                  properties:
                    client:
                      type: string
                    documents:
                      type: integer
                    dueDate:
                      format: date
                      type: string
                    estimator:
                      type: string
                    id:
                      type: string
                    project:
                      type: string
                    region:
                      type: string
                    rfis:
                      type: integer
                    status:
                      type: string
                    type:
                      type: string
                    value:
                      format: float
                      type: number
                  type: object
                type: array
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  pages:
                    type: integer
                  total:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List tender opportunities
      tags:
      - Preconstruction
    post:
      description: Create a new tender opportunity
      operationId: v2_createTenderOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            client:
              description: Client name
              type: string
            description:
              description: Project description
              type: string
            dueDate:
              description: Tender submission due date
              format: date
              type: string
            estimator:
              description: Assigned estimator name
              type: string
            project:
              description: Project name
              type: string
            region:
              description: Project region
              type: string
            status:
              default: new
              enum:
              - new
              - in-progress
              - submitted
              - won
              - lost
              - undecided
              type: string
            type:
              description: Project type (e.g., Commercial, Healthcare, Residential)
              type: string
            value:
              description: Estimated project value
              format: float
              type: number
          required:
          - project
          - client
          - value
          - dueDate
          - estimator
          type: object
      responses:
        201:
          description: Tender opportunity created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create tender opportunity
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-opportunities/{opportunityId}:
    delete:
      description: Delete a tender opportunity
      operationId: v2_deleteTenderOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Tender opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      responses:
        200:
          description: Tender opportunity deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Tender opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete tender opportunity
      tags:
      - Preconstruction
    get:
      description: Retrieve a specific tender opportunity by its unique identifier
      operationId: v2_getTenderOpportunityById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Tender opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      responses:
        200:
          description: Tender opportunity details
          schema:
            properties:
              client:
                type: string
              createdAt:
                format: date-time
                type: string
              description:
                type: string
              documents:
                type: integer
              dueDate:
                format: date
                type: string
              estimator:
                type: string
              id:
                type: string
              project:
                type: string
              region:
                type: string
              rfis:
                type: integer
              status:
                type: string
              type:
                type: string
              updatedAt:
                format: date-time
                type: string
              value:
                format: float
                type: number
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Tender opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get tender opportunity by ID
      tags:
      - Preconstruction
    put:
      description: Update an existing tender opportunity
      operationId: v2_updateTenderOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Tender opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            client:
              type: string
            description:
              type: string
            dueDate:
              format: date
              type: string
            estimator:
              type: string
            project:
              type: string
            region:
              type: string
            status:
              enum:
              - new
              - in-progress
              - submitted
              - won
              - lost
              - undecided
              type: string
            type:
              type: string
            value:
              format: float
              type: number
          type: object
      responses:
        200:
          description: Updated tender opportunity
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Tender opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update tender opportunity
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-preconstruction-quantity-takeoffs:
    get:
      description: Retrieve quantity takeoff records with optional filters and pagination
      operationId: v2_listQuantityTakeoffs
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by takeoff status
        enum:
        - draft
        - in-progress
        - under-review
        - approved
        in: query
        name: status
        required: false
        type: string
      - description: Filter by estimate ID
        in: query
        name: estimateId
        required: false
        type: string
      - description: Filter by trade category
        in: query
        name: trade
        required: false
        type: string
      - description: Free text search across takeoff details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of quantity takeoffs
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List quantity takeoffs
      tags:
      - Preconstruction
    post:
      description: Create a new quantity takeoff record
      operationId: v2_createQuantityTakeoff
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Takeoff description
              type: string
            estimateId:
              description: Associated estimate ID
              type: string
            quantities:
              description: Quantity items
              items:
                type: object
              type: array
            status:
              default: draft
              enum:
              - draft
              - in-progress
              - under-review
              - approved
              type: string
            takeoffName:
              description: Takeoff name/title
              type: string
            trade:
              description: Trade category
              type: string
          required:
          - takeoffName
          - estimateId
          - trade
          type: object
      responses:
        201:
          description: Quantity takeoff created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create quantity takeoff
      tags:
      - Preconstruction
  /v2/workspaces/{workspaceId}/hz-procurement-approvals:
    get:
      description: Retrieve pending approval requests with optional filters and pagination
      operationId: v2_listPendingApprovals
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by assigned approver
        in: query
        name: approver
        required: false
        type: string
      - description: Filter by minimum PO amount
        format: float
        in: query
        name: minAmount
        required: false
        type: number
      - description: Filter by maximum PO amount
        format: float
        in: query
        name: maxAmount
        required: false
        type: number
      - description: Filter by urgency level
        enum:
        - high
        - medium
        - low
        in: query
        name: urgency
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of pending approvals
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List pending approvals
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-approvals/{approvalId}:
    put:
      description: Approve or reject a pending approval request
      operationId: v2_processApprovalRequest
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Approval request unique identifier
        in: path
        name: approvalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            action:
              description: Approval action
              enum:
              - approve
              - reject
              type: string
            approver:
              description: Approver name
              type: string
            comments:
              description: Approval comments
              type: string
          required:
          - action
          - approver
          type: object
      responses:
        200:
          description: Approval processed successfully
          schema:
            properties:
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Approval request not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Process approval request
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-dashboard:
    get:
      description: Retrieve procurement dashboard data with KPIs, purchase orders,
        and vendor overview
      operationId: v2_getProcurementDashboard
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - default: month
        description: Time filter for dashboard data
        enum:
        - week
        - month
        - quarter
        - year
        in: query
        name: timeFilter
        required: false
        type: string
      responses:
        200:
          description: Procurement dashboard data
          schema:
            properties:
              kpis:
                properties:
                  activePurchaseOrders:
                    type: integer
                  activeVendors:
                    type: integer
                  pendingApprovals:
                    type: integer
                  totalProcurementValue:
                    format: float
                    type: number
                type: object
              purchaseOrders:
                items:
                  properties:
                    amount:
                      format: float
                      type: number
                    description:
                      type: string
                    id:
                      type: string
                    poNumber:
                      type: string
                    project:
                      type: string
                    status:
                      enum:
                      - draft
                      - pending-approval
                      - approved
                      - ordered
                      - delivered
                      - invoiced
                      - paid
                      type: string
                    urgency:
                      enum:
                      - high
                      - medium
                      - low
                      type: string
                    vendor:
                      type: string
                  type: object
                type: array
              recentActivity:
                items:
                  properties:
                    description:
                      type: string
                    id:
                      type: string
                    status:
                      type: string
                    timestamp:
                      format: date-time
                      type: string
                    title:
                      type: string
                    type:
                      type: string
                  type: object
                type: array
              topVendors:
                items:
                  properties:
                    category:
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    rating:
                      format: float
                      type: number
                    status:
                      enum:
                      - active
                      - inactive
                      - pending
                      type: string
                    totalOrders:
                      type: integer
                    totalValue:
                      format: float
                      type: number
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get procurement dashboard
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-delivery-tracking:
    get:
      description: Retrieve delivery tracking information with optional filters and
        pagination
      operationId: v2_listDeliveryTracking
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by delivery status
        enum:
        - pending
        - in-transit
        - delivered
        - failed
        in: query
        name: status
        required: false
        type: string
      - description: Filter by purchase order ID
        in: query
        name: poId
        required: false
        type: string
      - description: Filter by vendor name
        in: query
        name: vendor
        required: false
        type: string
      - description: Filter by delivery date from (inclusive)
        format: date
        in: query
        name: deliveryDateFrom
        required: false
        type: string
      - description: Filter by delivery date to (inclusive)
        format: date
        in: query
        name: deliveryDateTo
        required: false
        type: string
      - description: Free text search across delivery details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of delivery tracking records
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List delivery tracking records
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-purchase-orders:
    get:
      description: Retrieve purchase orders with optional filters and pagination
      operationId: v2_listPurchaseOrders
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by PO status
        enum:
        - draft
        - pending-approval
        - approved
        - ordered
        - delivered
        - invoiced
        - paid
        in: query
        name: status
        required: false
        type: string
      - description: Filter by vendor name
        in: query
        name: vendor
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by urgency level
        enum:
        - high
        - medium
        - low
        in: query
        name: urgency
        required: false
        type: string
      - description: Filter by requester name
        in: query
        name: requestedBy
        required: false
        type: string
      - description: Filter by approver name
        in: query
        name: approvedBy
        required: false
        type: string
      - description: Filter by minimum PO amount
        format: float
        in: query
        name: minAmount
        required: false
        type: number
      - description: Filter by maximum PO amount
        format: float
        in: query
        name: maxAmount
        required: false
        type: number
      - description: Filter by order date from (inclusive)
        format: date
        in: query
        name: orderDateFrom
        required: false
        type: string
      - description: Filter by order date to (inclusive)
        format: date
        in: query
        name: orderDateTo
        required: false
        type: string
      - description: Free text search across PO details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of purchase orders
          schema:
            properties:
              items:
                items:
                  properties:
                    amount:
                      format: float
                      type: number
                    approvedBy:
                      type: string
                    deliveryDate:
                      format: date
                      type: string
                    description:
                      type: string
                    id:
                      type: string
                    orderDate:
                      format: date
                      type: string
                    poNumber:
                      type: string
                    project:
                      type: string
                    requestedBy:
                      type: string
                    status:
                      type: string
                    urgency:
                      type: string
                    vendor:
                      type: string
                  type: object
                type: array
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  pages:
                    type: integer
                  total:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List purchase orders
      tags:
      - Procurement
    post:
      description: Create a new purchase order
      operationId: v2_createPurchaseOrder
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Purchase order amount
              format: float
              type: number
            deliveryDate:
              description: Expected delivery date
              format: date
              type: string
            description:
              description: Purchase order description
              type: string
            notes:
              description: Additional notes
              type: string
            project:
              description: Associated project
              type: string
            requestedBy:
              description: Requester name
              type: string
            status:
              default: draft
              enum:
              - draft
              - pending-approval
              - approved
              - ordered
              - delivered
              - invoiced
              - paid
              type: string
            urgency:
              default: medium
              description: Urgency level
              enum:
              - high
              - medium
              - low
              type: string
            vendor:
              description: Vendor name
              type: string
          required:
          - vendor
          - description
          - amount
          - project
          - requestedBy
          type: object
      responses:
        201:
          description: Purchase order created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
              poNumber:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create purchase order
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-purchase-orders/{poId}:
    delete:
      description: Delete a purchase order
      operationId: v2_deletePurchaseOrder
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Purchase order unique identifier
        in: path
        name: poId
        required: true
        type: string
      responses:
        200:
          description: Purchase order deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Purchase order not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete purchase order
      tags:
      - Procurement
    get:
      description: Retrieve a specific purchase order by its unique identifier
      operationId: v2_getPurchaseOrderById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Purchase order unique identifier
        in: path
        name: poId
        required: true
        type: string
      responses:
        200:
          description: Purchase order details
          schema:
            properties:
              amount:
                format: float
                type: number
              approvedBy:
                type: string
              createdAt:
                format: date-time
                type: string
              deliveryDate:
                format: date
                type: string
              description:
                type: string
              id:
                type: string
              notes:
                type: string
              orderDate:
                format: date
                type: string
              poNumber:
                type: string
              project:
                type: string
              requestedBy:
                type: string
              status:
                type: string
              updatedAt:
                format: date-time
                type: string
              urgency:
                type: string
              vendor:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Purchase order not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get purchase order by ID
      tags:
      - Procurement
    put:
      description: Update an existing purchase order
      operationId: v2_updatePurchaseOrder
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Purchase order unique identifier
        in: path
        name: poId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              format: float
              type: number
            deliveryDate:
              format: date
              type: string
            description:
              type: string
            notes:
              type: string
            project:
              type: string
            status:
              enum:
              - draft
              - pending-approval
              - approved
              - ordered
              - delivered
              - invoiced
              - paid
              type: string
            urgency:
              enum:
              - high
              - medium
              - low
              type: string
            vendor:
              type: string
          type: object
      responses:
        200:
          description: Updated purchase order
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Purchase order not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update purchase order
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-vendors:
    get:
      description: Retrieve vendor directory with optional filters and pagination
      operationId: v2_listVendors
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by vendor status
        enum:
        - active
        - inactive
        - pending
        in: query
        name: status
        required: false
        type: string
      - description: Filter by vendor category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by minimum vendor rating
        format: float
        in: query
        maximum: 5.0
        minimum: 0.0
        name: minRating
        required: false
        type: number
      - description: Filter by vendor region
        in: query
        name: region
        required: false
        type: string
      - description: Free text search across vendor details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of vendors
          schema:
            properties:
              items:
                items:
                  properties:
                    category:
                      type: string
                    contactEmail:
                      type: string
                    contactPhone:
                      type: string
                    id:
                      type: string
                    lastOrder:
                      format: date
                      type: string
                    name:
                      type: string
                    paymentTerms:
                      type: string
                    rating:
                      format: float
                      type: number
                    status:
                      type: string
                    totalOrders:
                      type: integer
                    totalValue:
                      format: float
                      type: number
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List vendors
      tags:
      - Procurement
    post:
      description: Create a new vendor in the directory
      operationId: v2_createVendor
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            address:
              description: Vendor address
              type: string
            category:
              description: Vendor category
              type: string
            contactEmail:
              description: Primary contact email
              format: email
              type: string
            contactPhone:
              description: Primary contact phone
              type: string
            name:
              description: Vendor name
              type: string
            notes:
              description: Additional notes
              type: string
            paymentTerms:
              description: Payment terms
              type: string
            rating:
              description: Vendor rating
              format: float
              maximum: 5.0
              minimum: 0.0
              type: number
            status:
              default: pending
              enum:
              - active
              - inactive
              - pending
              type: string
          required:
          - name
          - category
          - contactEmail
          type: object
      responses:
        201:
          description: Vendor created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create vendor
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-procurement-vendors/{vendorId}:
    get:
      description: Retrieve a specific vendor by its unique identifier
      operationId: v2_getVendorById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Vendor unique identifier
        in: path
        name: vendorId
        required: true
        type: string
      responses:
        200:
          description: Vendor details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Vendor not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get vendor by ID
      tags:
      - Procurement
    put:
      description: Update an existing vendor
      operationId: v2_updateVendor
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Vendor unique identifier
        in: path
        name: vendorId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated vendor
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Vendor not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update vendor
      tags:
      - Procurement
  /v2/workspaces/{workspaceId}/hz-scheduling-constraints:
    get:
      description: Retrieve project constraints with optional filters and pagination
      operationId: v2_listProjectConstraints
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by constraint status
        enum:
        - open
        - in-progress
        - resolved
        in: query
        name: status
        required: false
        type: string
      - description: Filter by constraint type
        enum:
        - resource
        - material
        - weather
        - regulatory
        - design
        in: query
        name: type
        required: false
        type: string
      - description: Filter by severity level
        enum:
        - high
        - medium
        - low
        in: query
        name: severity
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across constraint details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of project constraints
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List project constraints
      tags:
      - Scheduling
    post:
      description: Create a new project constraint
      operationId: v2_createProjectConstraint
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Detailed constraint description
              type: string
            dueDate:
              description: Resolution due date
              format: date
              type: string
            impact:
              description: Impact description
              type: string
            mitigation:
              description: Mitigation plan
              type: string
            project:
              description: Associated project
              type: string
            severity:
              description: Severity level
              enum:
              - high
              - medium
              - low
              type: string
            status:
              default: open
              enum:
              - open
              - in-progress
              - resolved
              type: string
            title:
              description: Constraint title
              type: string
            type:
              description: Constraint type
              enum:
              - resource
              - material
              - weather
              - regulatory
              - design
              type: string
          required:
          - title
          - project
          - type
          - severity
          - impact
          - dueDate
          type: object
      responses:
        201:
          description: Project constraint created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create project constraint
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-constraints/{constraintId}:
    get:
      description: Retrieve a specific project constraint by its unique identifier
      operationId: v2_getProjectConstraintById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project constraint unique identifier
        in: path
        name: constraintId
        required: true
        type: string
      responses:
        200:
          description: Project constraint details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Project constraint not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get project constraint by ID
      tags:
      - Scheduling
    put:
      description: Update an existing project constraint
      operationId: v2_updateProjectConstraint
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project constraint unique identifier
        in: path
        name: constraintId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated project constraint
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Project constraint not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update project constraint
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-construction-programme:
    get:
      description: Retrieve construction programme with Gantt chart data and timeline
        information
      operationId: v2_getConstructionProgramme
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by project ID
        in: query
        name: projectId
        required: false
        type: string
      - default: week
        description: Programme view mode
        enum:
        - day
        - week
        - month
        - quarter
        in: query
        name: viewMode
        required: false
        type: string
      responses:
        200:
          description: Construction programme data
          schema:
            properties:
              constraints:
                items:
                  type: object
                type: array
              milestones:
                items:
                  type: object
                type: array
              tasks:
                items:
                  properties:
                    criticalPath:
                      type: boolean
                    dependencies:
                      items:
                        type: string
                      type: array
                    endDate:
                      format: date
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    progress:
                      format: float
                      type: number
                    resources:
                      items:
                        type: string
                      type: array
                    startDate:
                      format: date
                      type: string
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get construction programme
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-critical-path:
    get:
      description: Retrieve critical path analysis data for project schedules
      operationId: v2_getCriticalPathAnalysis
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project ID for critical path analysis
        in: query
        name: projectId
        required: true
        type: string
      responses:
        200:
          description: Critical path analysis data
          schema:
            properties:
              criticalPathTasks:
                items:
                  type: object
                type: array
              freeFloat:
                format: float
                type: number
              recommendations:
                items:
                  type: object
                type: array
              totalFloat:
                format: float
                type: number
            type: object
        400:
          description: Project ID is required
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get critical path analysis
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-dashboard:
    get:
      description: Retrieve scheduling dashboard data with KPIs, project schedules,
        milestones, and constraints
      operationId: v2_getSchedulingDashboard
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - default: month
        description: Time filter for dashboard data
        enum:
        - week
        - month
        - quarter
        - year
        in: query
        name: timeFilter
        required: false
        type: string
      - default: overview
        description: Dashboard view mode
        enum:
        - overview
        - gantt
        - calendar
        - resources
        in: query
        name: activeView
        required: false
        type: string
      responses:
        200:
          description: Scheduling dashboard data
          schema:
            properties:
              constraints:
                items:
                  properties:
                    dueDate:
                      format: date
                      type: string
                    id:
                      type: string
                    impact:
                      type: string
                    project:
                      type: string
                    severity:
                      enum:
                      - high
                      - medium
                      - low
                      type: string
                    status:
                      enum:
                      - open
                      - in-progress
                      - resolved
                      type: string
                    title:
                      type: string
                    type:
                      enum:
                      - resource
                      - material
                      - weather
                      - regulatory
                      - design
                      type: string
                  type: object
                type: array
              kpis:
                properties:
                  activeProjects:
                    type: integer
                  criticalConstraints:
                    type: integer
                  onSchedulePercentage:
                    format: float
                    type: number
                  upcomingMilestones:
                    type: integer
                type: object
              milestones:
                items:
                  properties:
                    assignee:
                      type: string
                    dueDate:
                      format: date
                      type: string
                    id:
                      type: string
                    priority:
                      enum:
                      - high
                      - medium
                      - low
                      type: string
                    project:
                      type: string
                    status:
                      enum:
                      - upcoming
                      - due-today
                      - overdue
                      - completed
                      type: string
                    title:
                      type: string
                  type: object
                type: array
              projectSchedules:
                items:
                  properties:
                    criticalPath:
                      type: boolean
                    daysRemaining:
                      type: integer
                    endDate:
                      format: date
                      type: string
                    id:
                      type: string
                    manager:
                      type: string
                    name:
                      type: string
                    progress:
                      format: float
                      type: number
                    startDate:
                      format: date
                      type: string
                    status:
                      enum:
                      - on-track
                      - at-risk
                      - critical
                      - completed
                      type: string
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get scheduling dashboard
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-lookahead-planning:
    get:
      description: Retrieve lookahead planning information for upcoming work
      operationId: v2_getLookaheadPlanning
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by project ID
        in: query
        name: projectId
        required: false
        type: string
      - default: 4weeks
        description: Lookahead time horizon
        enum:
        - 1week
        - 2weeks
        - 4weeks
        - 6weeks
        in: query
        name: timeHorizon
        required: false
        type: string
      responses:
        200:
          description: Lookahead planning data
          schema:
            properties:
              constraints:
                items:
                  type: object
                type: array
              readiness:
                items:
                  type: object
                type: array
              resourceRequirements:
                items:
                  type: object
                type: array
              upcomingTasks:
                items:
                  type: object
                type: array
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get lookahead planning data
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-milestones:
    get:
      description: Retrieve project milestones with optional filters and pagination
      operationId: v2_listProjectMilestones
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by milestone status
        enum:
        - upcoming
        - due-today
        - overdue
        - completed
        in: query
        name: status
        required: false
        type: string
      - description: Filter by priority level
        enum:
        - high
        - medium
        - low
        in: query
        name: priority
        required: false
        type: string
      - description: Filter by assignee
        in: query
        name: assignee
        required: false
        type: string
      - description: Filter by project name
        in: query
        name: project
        required: false
        type: string
      - description: Filter by due date from (inclusive)
        format: date
        in: query
        name: dueDateFrom
        required: false
        type: string
      - description: Filter by due date to (inclusive)
        format: date
        in: query
        name: dueDateTo
        required: false
        type: string
      - description: Free text search across milestone details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of project milestones
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              pagination:
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List project milestones
      tags:
      - Scheduling
    post:
      description: Create a new project milestone
      operationId: v2_createProjectMilestone
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assignee:
              description: Assigned person
              type: string
            dependencies:
              description: Dependent milestone IDs
              items:
                type: string
              type: array
            description:
              description: Milestone description
              type: string
            dueDate:
              description: Milestone due date
              format: date
              type: string
            priority:
              default: medium
              description: Priority level
              enum:
              - high
              - medium
              - low
              type: string
            project:
              description: Associated project
              type: string
            status:
              default: upcoming
              enum:
              - upcoming
              - due-today
              - overdue
              - completed
              type: string
            title:
              description: Milestone title
              type: string
          required:
          - title
          - project
          - dueDate
          - assignee
          type: object
      responses:
        201:
          description: Project milestone created successfully
          schema:
            properties:
              id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create project milestone
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-milestones/{milestoneId}:
    get:
      description: Retrieve a specific project milestone by its unique identifier
      operationId: v2_getProjectMilestoneById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project milestone unique identifier
        in: path
        name: milestoneId
        required: true
        type: string
      responses:
        200:
          description: Project milestone details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Project milestone not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get project milestone by ID
      tags:
      - Scheduling
    put:
      description: Update an existing project milestone
      operationId: v2_updateProjectMilestone
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project milestone unique identifier
        in: path
        name: milestoneId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated project milestone
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Project milestone not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update project milestone
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-projects:
    get:
      description: Retrieve project schedules with optional filters and pagination
      operationId: v2_listProjectSchedules
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by project status
        enum:
        - on-track
        - at-risk
        - critical
        - completed
        in: query
        name: status
        required: false
        type: string
      - description: Filter by project manager
        in: query
        name: manager
        required: false
        type: string
      - description: Filter by critical path projects
        in: query
        name: criticalPath
        required: false
        type: boolean
      - description: Filter by start date from (inclusive)
        format: date
        in: query
        name: startDateFrom
        required: false
        type: string
      - description: Filter by start date to (inclusive)
        format: date
        in: query
        name: startDateTo
        required: false
        type: string
      - description: Filter by end date from (inclusive)
        format: date
        in: query
        name: endDateFrom
        required: false
        type: string
      - description: Filter by end date to (inclusive)
        format: date
        in: query
        name: endDateTo
        required: false
        type: string
      - description: Free text search across project details
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of project schedules
          schema:
            properties:
              items:
                items:
                  properties:
                    budget:
                      format: float
                      type: number
                    budgetSpent:
                      format: float
                      type: number
                    criticalPath:
                      type: boolean
                    daysRemaining:
                      type: integer
                    endDate:
                      format: date
                      type: string
                    id:
                      type: string
                    manager:
                      type: string
                    name:
                      type: string
                    progress:
                      format: float
                      type: number
                    startDate:
                      format: date
                      type: string
                    status:
                      type: string
                  type: object
                type: array
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  pages:
                    type: integer
                  total:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List project schedules
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/hz-scheduling-resource-planning:
    get:
      description: Retrieve resource planning and allocation information
      operationId: v2_getResourcePlanning
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by project ID
        in: query
        name: projectId
        required: false
        type: string
      - description: Filter by resource type
        enum:
        - labor
        - equipment
        - material
        in: query
        name: resourceType
        required: false
        type: string
      - description: Planning start date
        format: date
        in: query
        name: startDate
        required: false
        type: string
      - description: Planning end date
        format: date
        in: query
        name: endDate
        required: false
        type: string
      responses:
        200:
          description: Resource planning data
          schema:
            properties:
              conflicts:
                items:
                  type: object
                type: array
              resourceAllocations:
                items:
                  type: object
                type: array
              resourceCapacity:
                items:
                  type: object
                type: array
              utilization:
                type: object
            type: object
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get resource planning data
      tags:
      - Scheduling
  /v2/workspaces/{workspaceId}/implementation:
    get:
      operationId: v2_getWorkspaceImplementationChecklist
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                check_name:
                  description: Name of implementation check
                check_result:
                  description: Yes/No result if check passed
                check_workload:
                  description: Implementation Workload (eg. BIM, Material Tracking...)
                first_metric:
                  description: Text describing a metric related to the check (eg.
                    There were 10 Required Parameters found)
                help_link:
                  description: Link to Deep Space knowledgebase for the check
                help_text:
                  description: Help text for the check
                scope:
                  description: Implementation Scope (eg. Workspace)
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Workspace Implementation Checklist
      tags:
      - implementation
  /v2/workspaces/{workspaceId}/integrations:
    get:
      operationId: v2_getWorkspaceIntegrations
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace integrations
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/activity-log:
    get:
      operationId: v2_getWorkspaceIntegrationsActivityLog
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - default: 50
        description: Number of records per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by sync type (e.g., contacts, invoices_to_client, purchase_orders)
        in: query
        name: sync_type
        required: false
        type: string
      - description: Filter by activity type (e.g., sync, refresh_token)
        in: query
        name: activity_type
        required: false
        type: string
      - description: Filter by user ID who performed the action
        in: query
        name: user_id
        required: false
        type: string
      - description: Filter by success status (true/false)
        in: query
        name: success
        required: false
        type: boolean
      responses:
        200:
          description: Successfully retrieved integration activity log
          schema:
            properties:
              items:
                items:
                  properties:
                    activity_type:
                      description: Type of activity (e.g., sync, refresh_token)
                      type: string
                    created_at:
                      description: When the record was created
                      format: date-time
                      type: string
                    error_message:
                      description: Error message if operation failed
                      type: string
                    id:
                      description: Activity log entry ID
                      type: string
                    id_integrations_config:
                      description: Integration config ID
                      type: integer
                    integration_id:
                      description: Integration ID (e.g., xero)
                      type: string
                    status_code:
                      description: HTTP status code or result code
                      type: integer
                    success:
                      description: Whether the operation was successful
                      type: boolean
                    sync_type:
                      description: Type of sync (e.g., contacts, invoices_to_client)
                      type: string
                    synced_at:
                      description: When the activity occurred
                      format: date-time
                      type: string
                    user_id:
                      description: ID of user who performed the action
                      type: string
                  type: object
                type: array
              limit:
                description: Records per page
                type: integer
              page:
                description: Current page number
                type: integer
              total:
                description: Total number of records
                type: integer
            type: object
        400:
          description: Invalid parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get integration activity log for all integrations in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/{integrationId}:
    get:
      operationId: v2_getWorkspaceIntegrationFields
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get mapping fields for an integration
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
    patch:
      operationId: v2_patchWorkspaceIntegration
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            mappingFieldValue1:
              description: The first mapping field value
              type: string
            mappingFieldValue2:
              description: The first mapping field value
              type: string
          required:
          - mappingFieldValue1
          - mappingFieldValue2
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update an integration configuration in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
    post:
      operationId: v2_postWorkspaceIntegration
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing configuration values, differs depending
            on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Configure an integration in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/activity-log:
    get:
      operationId: v2_getWorkspaceIntegrationActivityLog
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - default: 50
        description: Number of records per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by sync type (e.g., contacts, invoices_to_client, purchase_orders)
        in: query
        name: sync_type
        required: false
        type: string
      - description: Filter by activity type (e.g., sync, refresh_token)
        in: query
        name: activity_type
        required: false
        type: string
      - description: Filter by user ID who performed the action
        in: query
        name: user_id
        required: false
        type: string
      - description: Filter by success status (true/false)
        in: query
        name: success
        required: false
        type: boolean
      responses:
        200:
          description: Successfully retrieved integration activity log
          schema:
            properties:
              items:
                items:
                  properties:
                    activity_type:
                      description: Type of activity (e.g., sync, refresh_token)
                      type: string
                    created_at:
                      description: When the record was created
                      format: date-time
                      type: string
                    error_message:
                      description: Error message if operation failed
                      type: string
                    id:
                      description: Activity log entry ID
                      type: string
                    id_integrations_config:
                      description: Integration config ID
                      type: integer
                    integration_id:
                      description: Integration ID (e.g., xero)
                      type: string
                    status_code:
                      description: HTTP status code or result code
                      type: integer
                    success:
                      description: Whether the operation was successful
                      type: boolean
                    sync_type:
                      description: Type of sync (e.g., contacts, invoices_to_client)
                      type: string
                    synced_at:
                      description: When the activity occurred
                      format: date-time
                      type: string
                    user_id:
                      description: ID of user who performed the action
                      type: string
                  type: object
                type: array
              limit:
                description: Records per page
                type: integer
              page:
                description: Current page number
                type: integer
              total:
                description: Total number of records
                type: integer
            type: object
        400:
          description: Invalid parameters
        401:
          description: Unauthorized
        404:
          description: Integration not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get integration activity log for a specific integration in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/advanced-config:
    delete:
      operationId: v2_deleteWorkspaceIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Integration successfully disconnected and configuration deleted
        401:
          description: Unauthorized
        404:
          description: Advanced configuration not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete advanced configuration and disconnect integration in a workspace
      tags:
      - External Integrations
    get:
      operationId: v2_getWorkspaceIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get advanced configuration for an integration in a workspace
      tags:
      - External Integrations
    patch:
      operationId: v2_patchWorkspaceIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing advanced configuration values, differs
            depending on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update advanced configuration for an integration in a workspace
      tags:
      - External Integrations
    post:
      operationId: v2_postWorkspaceIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing advanced configuration values, differs
            depending on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create advanced configuration for an integration in a workspace
      tags:
      - External Integrations
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/advanced-config/mapping:
    get:
      operationId: v2_getWorkspaceIntegrationAdvancedConfigMapping
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successfully retrieved mapping data from external provider
          schema:
            properties:
              accounts:
                description: Chart of Accounts from external provider
                type: array
              tracking_categories:
                description: Tracking Categories from external provider
                type: array
            type: object
        401:
          description: Unauthorized
        404:
          description: Integration not found or not configured
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get mapping data (Chart of Accounts and Tracking Categories) for advanced
        config setup
      tags:
      - External Integrations
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/refresh:
    post:
      operationId: v2_postWorkspaceIntegrationRefresh
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Refresh access token for an integration in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/sync:
    post:
      operationId: v2_postWorkspaceIntegrationSync
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Sync data for an integration in a workspace
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/integrations/{integrationId}/webhook:
    post:
      operationId: v2_postWorkspaceIntegrationWebhook
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      summary: Webhook endpoint for a workspace-level integration
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/jobs/{job_id}:
    post:
      operationId: v2_startJobWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: job_id
        required: true
        type: integer
      responses:
        202:
          description: Job started, returns job guid
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Start a new job at workpace-level
      tags:
      - Jobs
  /v2/workspaces/{workspaceId}/labour-rates:
    delete:
      description: Soft delete labour rate (sets is_deleted flag)
      operationId: v2_deleteLabourRate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Labour rate ID to delete
        in: query
        name: id
        required: true
        type: string
      responses:
        200:
          description: Labour rate deleted successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate deleted successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Missing ID parameter
        404:
          description: Labour rate not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete labour rate
      tags:
      - LabourRates
    get:
      description: Retrieve labour rates with filtering and pagination support
      operationId: v2_getLabourRates
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Get specific labour rate by ID
        in: query
        name: id
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 20
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by level
        in: query
        name: level
        required: false
        type: string
      - description: Filter by role
        in: query
        name: role
        required: false
        type: string
      - description: Filter by award_id
        in: query
        name: award_id
        required: false
        type: string
      - description: Filter by sales_tax_code
        in: query
        name: sales_tax_code
        required: false
        type: string
      - description: Search by name
        in: query
        name: search
        required: false
        type: string
      responses:
        200:
          description: Labour rates retrieved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    award_id:
                      type: string
                    cost_rate:
                      format: float
                      type: number
                    created_at:
                      format: date-time
                      type: string
                    effective_date:
                      format: date
                      type: string
                    id:
                      type: string
                    level:
                      type: string
                    multiplier:
                      format: float
                      type: number
                    name:
                      type: string
                    role:
                      type: string
                    sales_tax_code:
                      type: string
                    sell_rate:
                      format: float
                      type: number
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              filters:
                type: object
              message:
                example: Labour rates retrieved successfully
                type: string
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        404:
          description: Labour rate not found (when querying by ID)
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get labour rates
      tags:
      - LabourRates
    patch:
      description: Update existing labour rate with partial data
      operationId: v2_updateLabourRate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Labour rate ID to update
        in: query
        name: id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            award_id:
              maxLength: 50
              type: string
            cost_rate:
              format: float
              maximum: 10000
              minimum: 0
              type: number
            effective_date:
              format: date
              type: string
            level:
              maxLength: 100
              type: string
            multiplier:
              format: float
              maximum: 100
              minimum: 0
              type: number
            name:
              maxLength: 200
              type: string
            role:
              maxLength: 100
              type: string
            sales_tax_code:
              maxLength: 20
              type: string
            sell_rate:
              format: float
              maximum: 10000
              minimum: 0
              type: number
          type: object
      responses:
        200:
          description: Labour rate updated successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate updated successfully
                type: string
              updated_fields:
                items:
                  type: string
                type: array
              warnings:
                items:
                  type: string
                type: array
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing ID parameter
        404:
          description: Labour rate not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update labour rate
      tags:
      - LabourRates
    post:
      description: Create new labour rate with all required fields
      operationId: v2_createLabourRate
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            award_id:
              description: Award identification code
              maxLength: 50
              type: string
            cost_rate:
              description: Cost rate per hour/unit
              format: float
              maximum: 10000
              minimum: 0
              type: number
            effective_date:
              description: Date when the rate becomes effective (YYYY-MM-DD)
              format: date
              type: string
            level:
              description: Labour level (e.g., Junior, Senior, Lead)
              maxLength: 100
              type: string
            multiplier:
              description: Multiplier to calculate sell rate
              format: float
              maximum: 100
              minimum: 0
              type: number
            name:
              description: Descriptive name for the labour rate
              maxLength: 200
              type: string
            role:
              description: Job role (e.g., Developer, Manager, Designer)
              maxLength: 100
              type: string
            sales_tax_code:
              description: Tax code for billing (e.g., GST, VAT)
              maxLength: 20
              type: string
            sell_rate:
              description: Selling rate per hour/unit
              format: float
              maximum: 10000
              minimum: 0
              type: number
          required:
          - level
          - role
          - award_id
          - cost_rate
          - effective_date
          - multiplier
          - name
          - sales_tax_code
          - sell_rate
          type: object
      responses:
        201:
          description: Labour rate created successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rates created successfully
                type: string
              warnings:
                items:
                  type: string
                type: array
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
              received_fields:
                items:
                  type: string
                type: array
              required_fields:
                items:
                  type: string
                type: array
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create labour rate
      tags:
      - LabourRates
  /v2/workspaces/{workspaceId}/labour-rates/allowances:
    delete:
      description: Soft delete labour rate allowance
      operationId: v2_deleteLabourRateAllowance
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Allowance ID to delete
        in: query
        name: id
        required: true
        type: string
      responses:
        200:
          description: Labour rate allowance deleted successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate allowance deleted successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Missing ID parameter
        404:
          description: Allowance not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete labour rate allowance
      tags:
      - LabourRates
    get:
      description: Retrieve labour rate allowances with filtering and pagination support
      operationId: v2_getLabourRateAllowances
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Get specific allowance by ID
        in: query
        name: id
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 20
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by labour rate ID
        in: query
        name: labour_rate_id
        required: false
        type: string
      - description: Filter by name
        in: query
        name: name
        required: false
        type: string
      - description: Filter by trigger
        in: query
        name: trigger
        required: false
        type: string
      - description: Filter by stackable status
        in: query
        name: is_stackable
        required: false
        type: boolean
      - description: Filter by minimum amount
        format: float
        in: query
        name: min_amount
        required: false
        type: number
      - description: Filter by maximum amount
        format: float
        in: query
        name: max_amount
        required: false
        type: number
      - description: Search by name
        in: query
        name: search
        required: false
        type: string
      responses:
        200:
          description: Labour rate allowances retrieved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    amount:
                      format: float
                      type: number
                    created_at:
                      format: date-time
                      type: string
                    id:
                      type: string
                    is_stackable:
                      type: boolean
                    labour_rate_id:
                      type: string
                    name:
                      type: string
                    trigger:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              filters:
                type: object
              message:
                example: Labour rate allowances retrieved successfully
                type: string
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        404:
          description: Allowance not found (when querying by ID)
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get labour rate allowances
      tags:
      - LabourRates
    patch:
      description: Update existing labour rate allowance
      operationId: v2_updateLabourRateAllowance
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Allowance ID to update
        in: query
        name: id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              format: float
              maximum: 10000
              minimum: 0
              type: number
            is_stackable:
              type: boolean
            labour_rate_id:
              maxLength: 100
              type: string
            name:
              maxLength: 200
              type: string
            trigger:
              maxLength: 500
              type: string
          type: object
      responses:
        200:
          description: Labour rate allowance updated successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate allowance updated successfully
                type: string
              updated_fields:
                items:
                  type: string
                type: array
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing ID parameter
        404:
          description: Allowance not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update labour rate allowance
      tags:
      - LabourRates
    post:
      description: Create new labour rate allowance
      operationId: v2_createLabourRateAllowance
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Allowance amount
              format: float
              maximum: 10000
              minimum: 0
              type: number
            is_stackable:
              description: Whether allowance can stack with others
              type: boolean
            labour_rate_id:
              description: ID of the associated labour rate
              maxLength: 100
              type: string
            name:
              description: Allowance name
              maxLength: 200
              type: string
            trigger:
              description: When allowance is triggered
              maxLength: 500
              type: string
          required:
          - labour_rate_id
          - name
          - amount
          - trigger
          - is_stackable
          type: object
      responses:
        201:
          description: Labour rate allowance created successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate allowance created successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create labour rate allowance
      tags:
      - LabourRates
  /v2/workspaces/{workspaceId}/labour-rates/award:
    delete:
      description: Soft delete labour rate award
      operationId: v2_deleteLabourRateAward
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Award ID to delete
        in: query
        name: id
        required: true
        type: string
      responses:
        200:
          description: Labour rate award deleted successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate award deleted successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Missing ID parameter
        404:
          description: Award not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete labour rate award
      tags:
      - LabourRates
    get:
      description: Retrieve labour rate awards with filtering and pagination support
      operationId: v2_getLabourRateAwards
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Get specific award by ID
        in: query
        name: id
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 20
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by name
        in: query
        name: name
        required: false
        type: string
      - description: Filter by code
        in: query
        name: code
        required: false
        type: string
      - description: Search by name
        in: query
        name: search
        required: false
        type: string
      responses:
        200:
          description: Labour rate awards retrieved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    code:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    id:
                      type: string
                    name:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              filters:
                type: object
              message:
                example: Labour rate awards retrieved successfully
                type: string
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        404:
          description: Award not found (when querying by ID)
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get labour rate awards
      tags:
      - LabourRates
    patch:
      description: Update existing labour rate award
      operationId: v2_updateLabourRateAward
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Award ID to update
        in: query
        name: id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            code:
              maxLength: 50
              type: string
            name:
              maxLength: 200
              type: string
          type: object
      responses:
        200:
          description: Labour rate award updated successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate award updated successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing ID parameter
        404:
          description: Award not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update labour rate award
      tags:
      - LabourRates
    post:
      description: Create new labour rate award
      operationId: v2_createLabourRateAward
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            code:
              description: Award code
              maxLength: 50
              type: string
            name:
              description: Award name
              maxLength: 200
              type: string
          required:
          - name
          - code
          type: object
      responses:
        201:
          description: Labour rate award created successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate award created successfully
                type: string
              warnings:
                items:
                  type: string
                type: array
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create labour rate award
      tags:
      - LabourRates
  /v2/workspaces/{workspaceId}/labour-rates/project-overrides:
    delete:
      description: Soft delete labour rate project override
      operationId: v2_deleteLabourRateProjectOverride
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Project override ID to delete
        in: query
        name: id
        required: true
        type: string
      responses:
        200:
          description: Labour rate project override deleted successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate project override deleted successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Missing ID parameter
        404:
          description: Project override not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete labour rate project override
      tags:
      - LabourRates
    get:
      description: Retrieve labour rate project overrides with filtering and pagination
        support
      operationId: v2_getLabourRateProjectOverrides
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Get specific project override by ID
        in: query
        name: id
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 20
        description: Number of items per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Filter by labour rate ID
        in: query
        name: labour_rate_id
        required: false
        type: string
      - description: Filter by project ID
        in: query
        name: project_id
        required: false
        type: integer
      - description: Filter by reason
        in: query
        name: reason
        required: false
        type: string
      - description: Filter by minimum override rate
        format: float
        in: query
        name: min_override_rate
        required: false
        type: number
      - description: Filter by maximum override rate
        format: float
        in: query
        name: max_override_rate
        required: false
        type: number
      - description: Search by reason
        in: query
        name: search
        required: false
        type: string
      responses:
        200:
          description: Labour rate project overrides retrieved successfully
          schema:
            properties:
              data:
                items:
                  properties:
                    created_at:
                      format: date-time
                      type: string
                    id:
                      type: string
                    labour_rate_id:
                      type: string
                    override_rate:
                      format: float
                      type: number
                    project_id:
                      type: integer
                    reason:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              filters:
                type: object
              message:
                example: Labour rate project overrides retrieved successfully
                type: string
              pagination:
                properties:
                  limit:
                    type: integer
                  page:
                    type: integer
                  total_count:
                    type: integer
                  total_pages:
                    type: integer
                type: object
            type: object
        400:
          description: Invalid request parameters
        404:
          description: Project override not found (when querying by ID)
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get labour rate project overrides
      tags:
      - LabourRates
    patch:
      description: Update existing labour rate project override
      operationId: v2_updateLabourRateProjectOverride
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Project override ID to update
        in: query
        name: id
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            labour_rate_id:
              maxLength: 100
              type: string
            override_rate:
              format: float
              maximum: 10000
              minimum: 0
              type: number
            project_id:
              minimum: 1
              type: integer
            reason:
              maxLength: 500
              type: string
          type: object
      responses:
        200:
          description: Labour rate project override updated successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate project override updated successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing ID parameter
        404:
          description: Project override not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update labour rate project override
      tags:
      - LabourRates
    post:
      description: Create new labour rate project override
      operationId: v2_createLabourRateProjectOverride
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            labour_rate_id:
              description: ID of the labour rate being overridden
              maxLength: 100
              type: string
            override_rate:
              description: Override rate value
              format: float
              maximum: 10000
              minimum: 0
              type: number
            project_id:
              description: Project ID for this override
              minimum: 1
              type: integer
            reason:
              description: Reason for the override
              maxLength: 500
              type: string
          required:
          - labour_rate_id
          - override_rate
          - project_id
          - reason
          type: object
      responses:
        201:
          description: Labour rate project override created successfully
          schema:
            properties:
              id:
                type: string
              message:
                example: Labour rate project override created successfully
                type: string
              workspace_id:
                type: string
            type: object
        400:
          description: Validation failed or missing required fields
          schema:
            properties:
              errors:
                items:
                  type: string
                type: array
              message:
                type: string
            type: object
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create labour rate project override
      tags:
      - LabourRates
  /v2/workspaces/{workspaceId}/markups:
    get:
      description: Retrieve markups with filtering, pagination, and sorting options
      operationId: v2_getWorkspaceMarkups
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by CDE document ID
        in: query
        name: cde_id
        required: false
        type: integer
      - description: Filter by CDE version ID
        in: query
        name: cde_version_id
        required: false
        type: integer
      - description: Filter by author/user ID (for "My Markups")
        in: query
        name: author_kinde_id
        required: false
        type: string
      - description: Filter by PDF page number
        in: query
        minimum: 1
        name: page_number
        required: false
        type: integer
      - description: Filter by markup type (comma-separated list)
        in: query
        name: markup_type
        required: false
        type: string
      - description: Filter by workflow context
        in: query
        name: workflow_context
        required: false
        type: string
      - description: Version filtering option (this_version, all)
        in: query
        name: version_filter
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 10
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of markups
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get markups with optional filters
      tags:
      - Markup
    post:
      description: Create a new markup with CDE ID specified in request body
      operationId: v2_createWorkspaceMarkup
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_id:
              description: CDE document ID
              type: integer
            cde_version_id:
              description: CDE version ID this markup applies to
              type: integer
            geometry:
              description: GeoJSON geometry object
              type: object
            markup_type:
              description: Type of markup shape
              enum:
              - polygon
              - line
              - text
              - rectangle
              - point
              type: string
            pdf_page_number:
              description: Page number within the PDF (1-based)
              minimum: 1
              type: integer
            properties:
              description: Markup properties and metadata
              type: object
            workflow_context:
              default: pdf_review
              description: Workflow context
              type: string
          required:
          - cde_id
          - pdf_page_number
          - geometry
          - markup_type
          - properties
          - cde_version_id
          type: object
      responses:
        201:
          description: Markup created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create markup with CDE ID in body
      tags:
      - Markup
  /v2/workspaces/{workspaceId}/markups/{markupId}:
    delete:
      description: Delete a markup (soft delete by default)
      operationId: v2_deleteMarkup
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Markup unique identifier
        in: path
        name: markupId
        required: true
        type: string
      responses:
        200:
          description: Markup deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Markup not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete markup
      tags:
      - Markup
    get:
      description: Retrieve a specific markup by its unique identifier
      operationId: v2_getMarkupById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Markup unique identifier
        in: path
        name: markupId
        required: true
        type: string
      responses:
        200:
          description: Markup details
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Markup not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get markup by ID
      tags:
      - Markup
    put:
      description: Update an existing markup's properties, geometry, or metadata
      operationId: v2_updateMarkup
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Markup unique identifier
        in: path
        name: markupId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            geometry:
              description: GeoJSON geometry object
              type: object
            markup_type:
              description: Type of markup shape
              enum:
              - polygon
              - line
              - text
              - rectangle
              - point
              type: string
            pdf_page_number:
              description: Page number within the PDF (1-based)
              minimum: 1
              type: integer
            properties:
              description: Markup properties and metadata
              type: object
            workflow_context:
              description: Workflow context
              type: string
          type: object
      responses:
        200:
          description: Updated markup
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Markup not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update markup
      tags:
      - Markup
  /v2/workspaces/{workspaceId}/menu:
    get:
      description: Returns the menu structure for a workspace based on the workspace's
        template
      operationId: v2_getMenuWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Menu structure for the workspace
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get menu structure for a workspace
      tags:
      - Info
  /v2/workspaces/{workspaceId}/notifications:
    get:
      operationId: v2_getWorkspaceNotifications
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: User ID to get notifications for (admin only)
        in: query
        name: user_id
        required: false
        type: string
      - default: 50
        description: Number of notifications to return
        in: query
        name: limit
        required: false
        type: integer
      - default: 0
        description: Number of notifications to skip
        in: query
        name: offset
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              limit:
                type: integer
              message:
                type: string
              offset:
                type: integer
              total:
                type: integer
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get workspace-level notifications for the authenticated user
      tags:
      - Notifications
    patch:
      operationId: v2_acknowledgeWorkspaceNotifications
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            notification_ids:
              description: Array of notification IDs to mark as read
              items:
                type: integer
              type: array
          required:
          - notification_ids
          type: object
      responses:
        200:
          description: Notifications acknowledged successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Acknowledge/read workspace-level notifications for the authenticated
        user
      tags:
      - Notifications
    post:
      operationId: v2_createWorkspaceNotification
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: Array of CDE IDs to attach
              items:
                type: string
              type: array
            email:
              default: true
              description: Whether to send via email
              type: boolean
            importance:
              default: notification
              description: Importance level of the notification
              enum:
              - notification
              - warning
              - alert
              type: string
            inApp:
              default: true
              description: Whether to send in-app notification
              type: boolean
            jsonFields:
              description: JSON fields to populate the template
              type: object
            notificationTemplateId:
              description: ID of the notification template to use
              type: string
            recipients:
              properties:
                bcc:
                  description: Blind carbon copy recipients
                  items:
                    type: string
                  type: array
                cc:
                  description: Carbon copy recipients
                  items:
                    type: string
                  type: array
                to:
                  description: Primary recipients
                  items:
                    type: string
                  type: array
              required:
              - to
              type: object
            scheduledToSendDate:
              description: When to send the notification (optional)
              format: date-time
              type: string
          required:
          - notificationTemplateId
          - recipients
          type: object
      responses:
        201:
          description: Notification created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        403:
          description: Forbidden (admin access required)
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a workspace-level notification (admin only)
      tags:
      - Notifications
  /v2/workspaces/{workspaceId}/opportunities:
    get:
      description: Retrieve opportunities for a workspace with optional filters and
        pagination
      operationId: v2_listOpportunities
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Filter by status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by client identifier
        in: query
        name: client_id
        required: false
        type: string
      - description: Filter by project type
        in: query
        name: project_type
        required: false
        type: string
      - description: Minimum probability (inclusive)
        in: query
        maximum: 100
        minimum: 0
        name: min_probability
        required: false
        type: integer
      - description: Maximum probability (inclusive)
        in: query
        maximum: 100
        minimum: 0
        name: max_probability
        required: false
        type: integer
      - description: Free text search across project name and client name
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of opportunities
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List opportunities
      tags:
      - Opportunities
    post:
      description: Create a new opportunity for the workspace
      operationId: v2_createOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_estimator:
              type: string
            client_id:
              type: string
            estimated_value_millions:
              default: 0
              format: float
              type: number
            probability:
              default: 50
              maximum: 100
              minimum: 0
              type: integer
            project_name:
              type: string
            project_type:
              type: string
            status:
              default: Will Bid
              description: Opportunity status
              type: string
            submission_date:
              description: Submission date (ISO 8601)
              type: string
          required:
          - project_name
          - client_id
          - project_type
          - submission_date
          - assigned_estimator
          type: object
      responses:
        201:
          description: Opportunity created successfully
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create opportunity
      tags:
      - Opportunities
  /v2/workspaces/{workspaceId}/opportunities/{opportunityId}:
    delete:
      description: Soft delete an opportunity
      operationId: v2_deleteOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      responses:
        200:
          description: Opportunity deleted successfully
        403:
          description: Workspace access forbidden
        404:
          description: Opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete opportunity
      tags:
      - Opportunities
    get:
      description: Retrieve a specific opportunity by its unique identifier
      operationId: v2_getOpportunityById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      responses:
        200:
          description: Opportunity details
          schema:
            type: object
        403:
          description: Workspace access forbidden
        404:
          description: Opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get opportunity by ID
      tags:
      - Opportunities
    put:
      description: Update an existing opportunity
      operationId: v2_updateOpportunity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Opportunity unique identifier
        in: path
        name: opportunityId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Updated opportunity
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace access forbidden
        404:
          description: Opportunity not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update opportunity
      tags:
      - Opportunities
  /v2/workspaces/{workspaceId}/powerbi:
    post:
      operationId: v2_postPowerBiWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a new power bi workspace
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/powerbi/apps/{contentPack}:
    post:
      operationId: v2_postPowerBiAppsWS
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: contentPack
        required: true
        type: string
      responses:
        202:
          description: App deployment initiated
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Deploy power bi apps by content pack
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/powerbi/deploy/apps:
    post:
      operationId: v2_deployPbiAppWS
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            content_pack:
              type: string
            id_dashboard_deployment_job:
              type: integer
          required:
          - id_dashboard_deployment_job
          - content_pack
          type: object
      responses:
        200:
          description: Deployment initiated
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Deploy power bi app
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/powerbi/embedded/apps/{appName}:
    get:
      operationId: v2_getEmbeddedPbiAppWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: appName
        required: true
        type: string
      responses:
        200:
          description: App returned
        401:
          description: Unauthorized
        404:
          description: App not found in project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get PBI Embedded App (Workspace)
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/powerbi/refresh/apps/{appName}:
    post:
      operationId: v2_refreshPowerBiAppWorkspace
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: appName
        required: true
        type: string
      responses:
        200:
          description: App refresh initiated
        204:
          description: App refresh not iniated for some reason (eg. already in progress)
        401:
          description: Unauthorized
        404:
          description: App not found in project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Refresh Power BI app in workspace
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects:
    get:
      operationId: v2_getProjects
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - description: Include details of projects
        in: query
        name: includeDetails
        required: false
        type: boolean
      responses:
        200:
          description: Project details
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get projects in a workspace
      tags:
      - Info
    post:
      consumes:
      - application/json
      operationId: v2_postProject
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            billing_stage:
              description: The billing stage of the project (Outseta)
              type: string
            ds_license_type:
              description: The license type of the project
              type: string
            hosting_region:
              description: The hosting region of the project
              type: string
            primary_contact_email:
              description: Primary contact (Outseta) for the project
              type: string
            project_name:
              description: The name of the project
              type: string
            project_weekly_notifications:
              description: dictionary of days of the week as bools
              properties:
                Friday:
                  type: boolean
                Monday:
                  type: boolean
                Saturday:
                  type: boolean
                Sunday:
                  type: boolean
                Thursday:
                  type: boolean
                Tuesday:
                  type: boolean
                Wednesday:
                  type: boolean
              type: object
          required:
          - project_name
          - primary_contact_email
          - billing_stage
          - hosting_region
          - ds_license_type
          type: object
      responses:
        201:
          description: Project successfully created
        400:
          description: Bad Request
        401:
          description: Insufficent permissions to create project
        403:
          description: Forbidden to create project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a new project
      tags:
      - Project
  /v2/workspaces/{workspaceId}/projects/{projectId}:
    delete:
      consumes:
      - application/json
      operationId: v2_archiveProject
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      responses:
        201:
          description: Project successfully archived
        400:
          description: Bad Request
        401:
          description: Insufficent permissions to archive project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Archive a project
      tags:
      - Project
    get:
      operationId: v2_getProject
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - description: Include details of the project
        in: query
        name: includeDetails
        required: false
        type: boolean
      responses:
        200:
          description: A successful response
        400:
          description: Bad Request
        401:
          description: Insufficent permissions
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get project
      tags:
      - Project
    patch:
      consumes:
      - application/json
      operationId: v2_updateProject
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            project_name:
              description: Name for the project
              type: string
          type: object
      responses:
        201:
          description: Project successfully archived
        400:
          description: Bad Request
        401:
          description: Insufficent permissions to archive project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update a project
      tags:
      - Project
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions:
    delete:
      description: Delete an action by action ID. Supports category-specific overrides
        for Scheduling Tasks.
      operationId: v2_deleteAction
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: ID of the action to delete
        in: query
        name: actionId
        required: true
        type: string
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Action deleted successfully
          schema:
            properties:
              action_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Bad Request - Action ID is required or cannot delete system
            action
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: Action not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete action
      tags:
      - Actions
    get:
      operationId: v2_getActions
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: query
        name: currentApp
        required: false
        type: string
      - description: When true, fetches all scheduling tasks in a single response
          using backend pagination
        in: query
        name: fetch_all
        required: false
        type: boolean
      - description: When true, allows higher limits (500) for admin dashboards
        in: query
        name: admin
        required: false
        type: boolean
      - description: Number of items per page (default 50, max 200 for users, max
          500 for admin)
        in: query
        maximum: 500
        minimum: 1
        name: limit
        required: false
        type: integer
      - description: Page number for pagination (default 1)
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - description: Filter by action status
        in: query
        name: action_status
        required: false
        type: string
      - description: Filter by action category (e.g. 'Scheduling Task')
        in: query
        name: action_category
        required: false
        type: string
      - description: Filter by assignee
        in: query
        name: assignee_individual
        required: false
        type: string
      - description: Filter by task status
        in: query
        name: task_status
        required: false
        type: string
      - description: Filter by progress type
        in: query
        name: progress_type
        required: false
        type: string
      - description: Filter by trade
        in: query
        name: trade
        required: false
        type: string
      - description: Filter by subcontractor
        in: query
        name: subcontractor
        required: false
        type: string
      - description: Search query string
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successfully created new action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get actions
      tags:
      - Actions
    patch:
      operationId: v2_updateAction
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            action_id:
              description: id of existing action to update
              type: integer
          required:
          - action_id
          type: object
      responses:
        200:
          description: Successfully updated action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update fields in existing action
      tags:
      - Actions
    post:
      operationId: v2_createAction
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Name of the action
        in: formData
        name: name
        required: true
        type: string
      - description: Description of the action
        in: formData
        name: description
        required: false
        type: string
      - description: Due date of the action, expected format 'yyyy-mm-dd'
        in: formData
        name: dueDate
        required: false
        type: string
      - description: Rating of the action - "Low", "Medium", "High"
        in: formData
        name: rating
        required: false
        type: string
      - description: App that the action was created from
        in: formData
        name: currentApp
        required: false
        type: string
      - description: A JSON string representing a list of attachment objects. Each
          object must contain a `cde_id` property.
        in: formData
        name: attachments
        required: false
        type: string
      responses:
        200:
          description: Successfully created new action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create new action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/actionDeps:
    delete:
      operationId: v2_deleteActionDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: ID of the dependency to delete
        in: query
        name: dependencyId
        required: true
        type: string
      responses:
        200:
          description: Action dependency deleted successfully
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Dependency not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete action dependency
      tags:
      - Actions
    get:
      operationId: v2_getActionDependencies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional action ID to get dependencies for specific action
        in: query
        name: actionId
        required: false
        type: string
      responses:
        200:
          description: Successfully retrieved action dependencies
          schema:
            properties:
              count:
                type: integer
              dependencies:
                items:
                  properties:
                    dependency_id:
                      type: string
                    dependency_type:
                      type: string
                    lag_days:
                      type: integer
                    predecessor_action_id:
                      type: string
                    relationship:
                      type: string
                    successor_action_id:
                      type: string
                  type: object
                type: array
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get action dependencies
      tags:
      - Actions
    patch:
      operationId: v2_updateActionDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: ID of the dependency to update
        in: query
        name: dependencyId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            dependency_type:
              description: Type of dependency relationship
              enum:
              - finish_to_start
              - start_to_start
              - finish_to_finish
              - start_to_finish
              - as_soon_as_possible
              type: string
            lag_days:
              description: Number of lag days for the dependency
              type: integer
          type: object
      responses:
        200:
          description: Action dependency updated successfully
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Dependency not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update action dependency
      tags:
      - Actions
    post:
      operationId: v2_createActionDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            dependency_type:
              default: finish_to_start
              description: Type of dependency relationship
              enum:
              - finish_to_start
              - start_to_start
              - finish_to_finish
              - start_to_finish
              - as_soon_as_possible
              type: string
            lag_days:
              default: 0
              description: Number of lag days for the dependency
              type: integer
            predecessor_action_id:
              description: ID of the predecessor action (Task A)
              type: string
            successor_action_id:
              description: ID of the successor action (Task B)
              type: string
          required:
          - predecessor_action_id
          - successor_action_id
          type: object
      responses:
        201:
          description: Action dependency created successfully
          schema:
            properties:
              dependency_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create action dependency
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/constraints:
    delete:
      operationId: v2_deleteActionConstraint
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: ID of the constraint to delete
        in: query
        name: constraintId
        required: true
        type: string
      responses:
        200:
          description: Action constraint deleted successfully
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Constraint not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete action constraint
      tags:
      - Actions
    get:
      operationId: v2_getActionConstraints
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional action ID to get constraints for specific action
        in: query
        name: actionId
        required: false
        type: string
      - description: Optional constraint type filter
        in: query
        name: constraintType
        required: false
        type: string
      - description: Optional priority filter
        in: query
        name: priority
        required: false
        type: string
      responses:
        200:
          description: Successfully retrieved action constraints
          schema:
            properties:
              constraints:
                items:
                  properties:
                    action_id:
                      type: string
                    constraint_id:
                      type: string
                    constraint_type:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    created_by:
                      type: string
                    description:
                      type: string
                    due_date:
                      format: date-time
                      type: string
                    impact:
                      type: integer
                    owner:
                      type: string
                    priority:
                      type: string
                    related_task_id:
                      type: string
                  type: object
                type: array
              count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get action constraints
      tags:
      - Actions
    patch:
      operationId: v2_updateActionConstraint
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: ID of the constraint to update
        in: query
        name: constraintId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            constraint_type:
              description: Type of constraint
              type: string
            description:
              description: Description of the constraint
              type: string
            due_date:
              description: Due date for the constraint
              format: date-time
              type: string
            impact:
              description: Impact level (1-5 scale)
              maximum: 5
              minimum: 1
              type: integer
            owner:
              description: Owner of the constraint
              type: string
            priority:
              description: Priority level of the constraint
              enum:
              - Low
              - Medium
              - High
              - Critical
              type: string
            related_task_id:
              description: Related task identifier
              type: string
          type: object
      responses:
        200:
          description: Action constraint updated successfully
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Constraint not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update action constraint
      tags:
      - Actions
    post:
      operationId: v2_createActionConstraint
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            action_id:
              description: ID of the scheduling task action
              type: string
            constraint_type:
              description: Type of constraint
              type: string
            description:
              description: Description of the constraint
              type: string
            due_date:
              description: Due date for the constraint
              format: date-time
              type: string
            impact:
              default: 3
              description: Impact level (1-5 scale)
              maximum: 5
              minimum: 1
              type: integer
            owner:
              description: Owner of the constraint
              type: string
            priority:
              default: Medium
              description: Priority level of the constraint
              enum:
              - Low
              - Medium
              - High
              - Critical
              type: string
            related_task_id:
              description: Related task identifier
              type: string
          required:
          - action_id
          - constraint_type
          - description
          type: object
      responses:
        201:
          description: Action constraint created successfully
          schema:
            properties:
              constraint_id:
                type: string
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create action constraint
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/critical-path:
    get:
      description: Calculates critical path method (CPM) for scheduling tasks including
        early/late start times, float values, and critical path identification. Automatically
        fetches all scheduling tasks from Firestore.
      operationId: v2_calculateCriticalPath
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Critical path calculation successful
        400:
          description: Invalid request parameters
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: No scheduling tasks found for project
        409:
          description: Cycle detected in dependencies
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Calculate Critical Path Method for project actions
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/fetch-all:
    get:
      description: Fetches all scheduling task actions in a single response by performing
        backend pagination loops. Uses the robust fetch_all=true parameter implementation
        with sensible safety limits.
      operationId: v2_fetchAllSchedulingTasks
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Filter by action status
        in: query
        name: action_status
        required: false
        type: string
      - description: Filter by action category (e.g. 'Scheduling Task')
        in: query
        name: action_category
        required: false
        type: string
      - description: Filter by assignee
        in: query
        name: assignee_individual
        required: false
        type: string
      - description: Filter by task status
        in: query
        name: task_status
        required: false
        type: string
      - description: Filter by progress type
        in: query
        name: progress_type
        required: false
        type: string
      - description: Filter by trade
        in: query
        name: trade
        required: false
        type: string
      - description: Filter by subcontractor
        in: query
        name: subcontractor
        required: false
        type: string
      - description: Search query string
        in: query
        name: q
        required: false
        type: string
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: All scheduling tasks fetched successfully
          schema:
            properties:
              actions:
                description: All matching scheduling task actions
                items:
                  type: object
                type: array
              fetch_all:
                description: Always true for this endpoint
                type: boolean
              pages_fetched:
                description: Number of pages processed by backend
                type: integer
              source:
                description: Data source indicator (firestore_batch)
                type: string
              total_count:
                description: Total number of items returned
                type: integer
            type: object
        400:
          description: Invalid request parameters
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: No scheduling tasks found for project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Fetch all scheduling tasks using backend pagination
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/network-diagram:
    post:
      description: Optimized bulk data fetching for network diagram visualization.
        Replaces N+1 dependency queries with single bulk operation. Fetches critical
        path actions and their dependencies in one request, including related tasks.
      operationId: v2_getNetworkDiagram
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      - description: Network diagram request body
        in: body
        name: networkDiagramRequest
        required: true
        schema:
          properties:
            criticalPathActionIds:
              description: Array of critical path action IDs to include
              items:
                type: string
              type: array
            includeRelatedTasks:
              default: true
              description: Whether to include related tasks (predecessors/successors)
              type: boolean
            layoutHints:
              description: Optional layout positioning hints
              properties:
                criticalPathY:
                  type: number
                nodeSpacing:
                  type: number
              type: object
          required:
          - criticalPathActionIds
          type: object
      responses:
        200:
          description: Network diagram data retrieved successfully
          schema:
            properties:
              edges:
                items:
                  properties:
                    dependencyType:
                      type: string
                    id:
                      type: string
                    isCritical:
                      type: boolean
                    lagDays:
                      type: number
                    source:
                      type: string
                    target:
                      type: string
                  type: object
                type: array
              layoutSuggestions:
                properties:
                  nodeSpacing:
                    type: number
                  positions:
                    type: object
                type: object
              metadata:
                properties:
                  criticalTaskCount:
                    type: integer
                  relatedTaskCount:
                    type: integer
                  totalDependencies:
                    type: integer
                  totalTaskCount:
                    type: integer
                type: object
              nodes:
                items:
                  properties:
                    actionData:
                      type: object
                    duration:
                      type: integer
                    endDate:
                      type: string
                    id:
                      type: string
                    isCritical:
                      type: boolean
                    isMilestone:
                      type: boolean
                    isRelated:
                      type: boolean
                    predecessors:
                      items:
                        type: string
                      type: array
                    startDate:
                      type: string
                    successors:
                      items:
                        type: string
                      type: array
                    taskName:
                      type: string
                  type: object
                type: array
              requestMetadata:
                properties:
                  includeRelatedTasks:
                    type: boolean
                  projectId:
                    type: string
                  requestedCriticalActions:
                    type: integer
                  timestamp:
                    type: string
                  workspaceId:
                    type: string
                type: object
            type: object
        400:
          description: Invalid request parameters or validation failed
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: No scheduling tasks found for project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get optimized network diagram data for critical path visualization
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/project-constraints-delete:
    delete:
      description: Bulk delete all action constraints for a workspace and project.
        Uses Firestore batch operations for efficient processing of large datasets
        (processes in batches of 500 documents).
      operationId: v2_deleteAllActionConstraints
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successfully deleted constraints
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Constraints not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete all action constraints
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/project-dependencies-delete:
    delete:
      description: Bulk delete all action dependencies for a workspace and project.
        Includes cleanup of embedded dependency data in action documents.
      operationId: v2_deleteAllActionDependencies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successfully deleted dependencies
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Dependencies not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete all action dependencies
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/project-scheduling-tasks-delete:
    delete:
      description: Delete all actions with action_category = 'Scheduling Task' for
        a specific workspace and project. This operation performs soft delete using
        Firestore batch operations for efficient processing of large datasets (processes
        in batches of 500 documents).
      operationId: v2_deleteProjectSchedulingTasks
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Bulk deletion completed successfully
          schema:
            properties:
              deleted_count:
                description: Number of actions successfully deleted
                type: integer
              failed_count:
                description: Number of failed deletions (only present if failures
                  occurred)
                type: integer
              failed_document_ids:
                description: List of document IDs that failed to delete (only present
                  if failures occurred)
                items:
                  type: string
                type: array
              message:
                description: Summary message of the operation
                type: string
              success:
                description: Overall success status
                type: boolean
              total_found:
                description: Total number of scheduling task actions found
                type: integer
            type: object
        400:
          description: Invalid request parameters
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: No scheduling task actions found for the specified workspace
            and project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Bulk delete all scheduling task actions
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/tasks:
    get:
      operationId: v2_getActionTasksByWorkspaceIdAndProjectId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got tasks from a project
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Actions with category = Tasks by workspaceId and ProjectId
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}:
    get:
      operationId: v2_getSingleAction
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get an action
      tags:
      - Actions
    patch:
      operationId: v2_updateSingleAction
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: formData
        name: body
        required: true
        type: string
      responses:
        200:
          description: Successfully updated action
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update fields in existing action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/associations/{associationIdentifier}:
    get:
      operationId: v2_getActionAssociation
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - description: The association_source_table_key
        in: query
        name: association_source_table_key
        required: false
        type: string
      - description: The association_row_table_key
        in: query
        name: association_row_table_key
        required: false
        type: string
      - description: The association type
        in: query
        name: association_type
        required: false
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Find an association
      tags:
      - Actions
      x-min-permissions: isRevitUser
    post:
      operationId: v2_postActionAssociation
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            association_row_table_key:
              description: The key for association row table
              type: string
            association_source_table_key:
              description: The key for association source table
              type: string
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add an association to an action
      tags:
      - Actions
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/associations/{associationIdentifier}/{associationId}:
    delete:
      operationId: v2_deleteActionAssociation
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: associationIdentifier
        required: true
        type: string
      - description: ID of the association to remove
        in: path
        name: associationId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove an existing association
      tags:
      - Actions
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/attachments:
    get:
      operationId: v2_getActionAttachments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got attachments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get attachments for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionAttachments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - attachments
          type: object
      responses:
        200:
          description: Successfully got attachments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add attachments to action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/comments:
    get:
      operationId: v2_getActionComments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: query
        name: withAttachments
        required: false
        type: boolean
      responses:
        200:
          description: Successfully got comments
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get comments for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
            comment:
              description: The comment to add
              type: string
          required:
          - comment
          type: object
      responses:
        200:
          description: Successfully created comment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create comment for an action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/comments/{commentId}:
    get:
      operationId: v2_getActionComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: commentId
        required: true
        type: integer
      - in: query
        name: withAttachments
        required: false
        type: boolean
      responses:
        200:
          description: Successfully got comment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get comment for an action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/comments/{commentId}/attachments:
    post:
      operationId: v2_postActionCommentAttachments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: path
        name: commentId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: A list of attachment objects
              items:
                properties:
                  cde_id:
                    description: CDE id corresponding to file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - attachments
          type: object
      responses:
        200:
          description: Successfully added attachment
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add attachments to action coment
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/watchers:
    get:
      operationId: v2_getActionWatchers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      responses:
        200:
          description: Successfully got watchers
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get watchers for an action
      tags:
      - Actions
    post:
      operationId: v2_postActionWatcher
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            watcher:
              description: The email of the watcher
              type: string
          required:
          - watcher
          type: object
      responses:
        200:
          description: Successfully added watcher
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Add watcher to action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/actions/{actionId}/watchers/{watcherId}:
    delete:
      operationId: v2_deleteActionWatcher
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: actionId
        required: true
        type: integer
      - description: email of watcher
        in: path
        name: watcherId
        required: true
        type: string
      responses:
        200:
          description: Successfully removed watcher
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove watcher from action
      tags:
      - Actions
  /v2/workspaces/{workspaceId}/projects/{projectId}/activity:
    get:
      operationId: v2_getUserActivity
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get User Activity
      tags:
      - Admin
  /v2/workspaces/{workspaceId}/projects/{projectId}/buildings:
    get:
      description: Returns all building records for a project.
      operationId: v2_getBuildings
      parameters:
      - description: The workspace name or identifier.
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier.
        in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: A list of building records.
        401:
          description: Unauthorized.
        500:
          description: Internal Server Error.
      security:
      - JWT_v2: []
      summary: Get buildings by project ID
      tags:
      - Buildings
    post:
      consumes:
      - application/json
      description: Creates a new building record. The only required field is `building_name`.
      operationId: v2_postBuildings
      parameters:
      - description: The workspace name or identifier.
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier.
        in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            building_name:
              description: The name of the building (e.g., "Main Building").
              type: string
          required:
          - building_name
          type: object
      responses:
        201:
          description: Building successfully created.
        400:
          description: Bad Request.
        401:
          description: Unauthorized.
        500:
          description: Internal Server Error.
      security:
      - JWT_v2: []
      summary: Create a new building in a project
      tags:
      - Buildings
  /v2/workspaces/{workspaceId}/projects/{projectId}/buildings/{buildingId}:
    get:
      description: Returns the building details for the given building ID.
      operationId: v2_getBuildingById
      parameters:
      - description: The workspace name or identifier.
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier.
        in: path
        name: projectId
        required: true
        type: integer
      - description: The building identifier.
        in: path
        name: buildingId
        required: true
        type: integer
      responses:
        200:
          description: Building record retrieved successfully.
        401:
          description: Unauthorized.
        404:
          description: Building not found.
        500:
          description: Internal Server Error.
      security:
      - JWT_v2: []
      summary: Get a building by ID
      tags:
      - Buildings
    patch:
      consumes:
      - application/json
      description: Updates the building record identified by buildingId. Only the
        `building_name` field will be updated.
      operationId: v2_patchBuilding
      parameters:
      - description: The workspace name or identifier.
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier.
        in: path
        name: projectId
        required: true
        type: integer
      - description: The building identifier.
        in: path
        name: buildingId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            building_name:
              description: The new name for the building.
              type: string
          required:
          - building_name
          type: object
      responses:
        200:
          description: Building updated successfully.
        400:
          description: Bad Request.
        401:
          description: Unauthorized.
        404:
          description: No record updated. Possibly invalid buildingId or projectId.
        500:
          description: Internal Server Error.
      security:
      - JWT_v2: []
      summary: Edit a building by ID
      tags:
      - Buildings
  /v2/workspaces/{workspaceId}/projects/{projectId}/cde:
    get:
      operationId: v2_getCdeDocs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successfully returns CDE docs
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get CDE docs
      tags:
      - Get Data
    post:
      operationId: v2_postCde
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_type:
              description: The type of CDE upload
              type: string
            files:
              description: A list of file objects
              items:
                properties:
                  filename:
                    description: The name of the file
                    type: string
                  filetype:
                    description: The type of the file
                    type: string
                required:
                - filename
                - filetype
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Successfully returns CDE urls
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed urls for cde
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/cde/process:
    post:
      operationId: v2_processCDE
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              description: A list of file objects
              items:
                properties:
                  cde_id:
                    description: The CDE ID of the file
                    type: integer
                required:
                - cde_id
                type: object
              type: array
          required:
          - files
          type: object
      responses:
        200:
          description: Successfully processed files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Process files uploaded to CDE
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/cde/{cdeId}:
    delete:
      description: Invalidates a CDE entry for failed uploads
      operationId: v2_invalidateCdeEntry
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: cdeId
        required: true
        type: integer
      responses:
        200:
          description: Successfully invalidated CDE entry
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Invalidate CDE Entry
      tags:
      - Upload Data
    get:
      operationId: v2_getCdeFile
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional filter for CDE status (e.g. active, archived)
        in: query
        name: cde_status
        required: false
        type: string
      - in: path
        name: cdeId
        required: true
        type: integer
      responses:
        200:
          description: Successfully returns CDE url
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed url to access cde file
      tags:
      - Get Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/cde/{cdeId}/metadata:
    put:
      operationId: v2_putCdeMetadata
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            metadata_key:
              description: The key of the metadata
              type: string
            metadata_value:
              description: The value of the metadata
              type: string
          required:
          - metadata_key
          - metadata_value
          type: object
      responses:
        200:
          description: Successfully updated CDE metadata
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update CDE metadata
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/cde/{cdeId}/status:
    put:
      operationId: v2_putCdeStatus
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: cdeId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_status:
              description: New CDE status (e.g. active, archived)
              type: string
          required:
          - cde_status
          type: object
      responses:
        200:
          description: Successfully updated CDE status
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update CDE status
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/cloudstoragebucket:
    get:
      description: Creates a new cloud storage bucket
      operationId: v2_getCloudStorageBucket
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Created Cloud Storage Bucket Name
          schema:
            type: string
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a cloud storage bucket for single-use and return its name
      tags:
      - Navis Integration
    post:
      consumes:
      - application/json
      description: Creates a new cloud storage bucket for a project and initialises
        files expected to arrive in bucket.
      operationId: v2_postCloudStorageBucket
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            collectorKeys:
              description: A list of collector keys (strings)
            fileIds:
              description: A list of file ids (integers)
          required:
          - collectorKeys
          - fileIds
          type: object
      responses:
        200:
          description: Created Cloud Storage Bucket Name
          schema:
            type: string
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a cloud storage bucket for expected files and return its name
      tags:
      - Navis Integration
  /v2/workspaces/{workspaceId}/projects/{projectId}/comments:
    delete:
      description: Soft delete a comment by ID
      operationId: v2_deleteComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: query
        name: commentId
        required: true
        type: string
      responses:
        200:
          description: Comment successfully deleted
      security:
      - JWT_v2: []
      summary: Delete a comment
      tags:
      - Comments
    get:
      description: Retrieve project-level comments or a specific comment by ID
      operationId: v2_getComments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: query
        name: commentId
        type: string
      - in: query
        name: q
        type: string
      - in: query
        name: page
        type: string
      - in: query
        name: limit
        type: string
      - in: query
        name: relatedDocumentId
        type: string
      - in: query
        name: includeReplies
        type: string
      - in: query
        name: nested
        type: string
      - in: query
        name: parentCommentId
        type: string
      - in: query
        name: threadId
        type: string
      - in: query
        name: maxDepth
        type: string
      responses:
        200:
          description: Successfully retrieved project-level comments
      security:
      - JWT_v2: []
      summary: Get project-level comments
      tags:
      - Comments
    patch:
      description: Update a comment by ID
      operationId: v2_updateComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: query
        name: commentId
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
      responses:
        200:
          description: Comment updated successfully
      security:
      - JWT_v2: []
      summary: Update a comment
      tags:
      - Comments
    post:
      description: Create a new comment
      operationId: v2_createComment
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        schema:
          type: object
      responses:
        201:
          description: Comment created successfully
      security:
      - JWT_v2: []
      summary: Create a comment
      tags:
      - Comments
  /v2/workspaces/{workspaceId}/projects/{projectId}/correspondence:
    post:
      operationId: v2_logCorrespondence
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: array of attachment objects
              items:
                properties:
                  cde_id:
                    description: The CDE ID corresponding to attachment
                    type: integer
                required:
                - cde_id
                type: object
              type: array
            date_sent:
              description: datetime in ISO format
              type: string
            html_content:
              description: The html content of the email
              type: string
            recipients:
              description: array of recipient objects
              items:
                properties:
                  email:
                    description: The email of the recipient
                    type: string
                  name:
                    description: The name of the recipient
                    type: string
                  type:
                    description: The type of recipient ('to', 'cc', 'bcc')
                    type: string
                required:
                - email
                - name
                - type
                type: object
              type: array
            sender_email:
              description: The email of the sender
              type: string
            sender_name:
              description: The name of the sender
              type: string
            subject:
              description: The email subject
              type: string
            text_content:
              description: The text content of the email
              type: string
          required:
          - subject
          - date_sent
          - text_content
          - html_content
          - sender_email
          - sender_name
          - recipients
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Log a correspondence in Deep Space
      tags:
      - Correspondence Logging
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/aggregate:
    post:
      operationId: v2_postCostAggregateProject
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            project_level:
              description: Endpoints that require project_id
              items:
                properties:
                  endpoint:
                    description: Target endpoint name
                    enum:
                    - budget-items
                    - invoices
                    - orders
                    - variation-requests
                    - approvals
                    - claims
                    - attachments
                    - line-items
                    - contracts
                    - payment-schedules
                    - retentions
                    type: string
                  params:
                    additionalProperties: true
                    description: Parameters for the endpoint
                    properties:
                      method:
                        default: GET
                        type: string
                      project_id:
                        description: Project identifier (will use URL projectId if
                          not specified)
                        type: integer
                      sub_path:
                        default: ''
                        type: string
                    type: object
                required:
                - endpoint
                type: object
              type: array
            workspace_level:
              description: Endpoints that don't require project_id
              items:
                properties:
                  endpoint:
                    description: Target endpoint name
                    enum:
                    - cost-codes
                    - budget-categories
                    type: string
                  params:
                    additionalProperties: true
                    description: Parameters for the endpoint
                    properties:
                      method:
                        default: GET
                        type: string
                      sub_path:
                        default: ''
                        type: string
                    type: object
                required:
                - endpoint
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successful response with aggregated data
          schema:
            properties:
              project_level:
                additionalProperties:
                  properties:
                    data:
                      description: Response data from the endpoint
                      type: object
                    error:
                      description: Error message if endpoint failed
                      type: string
                    status_code:
                      description: HTTP status code from the endpoint
                      type: integer
                  type: object
                description: Results from project-level endpoints
                type: object
              workspace_level:
                additionalProperties:
                  properties:
                    data:
                      description: Response data from the endpoint
                      type: object
                    error:
                      description: Error message if endpoint failed
                      type: string
                    status_code:
                      description: HTTP status code from the endpoint
                      type: integer
                  type: object
                description: Results from workspace-level endpoints
                type: object
            type: object
        400:
          description: Bad request - invalid request body or parameters
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
          schema:
            properties:
              message:
                type: string
            type: object
        405:
          description: Method not allowed
          schema:
            properties:
              message:
                type: string
            type: object
        500:
          description: Internal Server Error
          schema:
            properties:
              message:
                type: string
            type: object
      security:
      - JWT_v2: []
      summary: Aggregate Cost Data from Multiple Endpoints (Project Level)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals:
    get:
      operationId: v2_getCostApprovals
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                approval_by_company_id:
                  description: Internal identifier for the approving company
                approval_by_user_email:
                  description: Email of the user who submitted the approval
                approval_date:
                  description: Date of the approval
                approval_identifier:
                  description: User-friendly identifier for cost approval
                approval_status:
                  description: Status of the approval
                cost_approval_num:
                  description: Internal identifier for cost approval
                cost_num:
                  description: ID of the cost the approval is for
                cost_table:
                  description: Table the approval is for
                note:
                  description: Note added to the approval
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Approvals
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/claims:
    get:
      operationId: v2_getCostClaimApprovals
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                approval_by_company_id:
                  description: Internal identifier for the approving company
                approval_by_user_email:
                  description: Email of the user who submitted the approval
                approval_date:
                  description: Date of the approval
                approval_identifier:
                  description: User-friendly identifier for cost approval
                approval_status:
                  description: Status of the approval
                cost_approval_num:
                  description: Internal identifier for cost approval
                cost_num:
                  description: ID of the cost the approval is for
                cost_table:
                  description: Table the approval is for
                note:
                  description: Note added to the approval
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Claim Approvals
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostClaimApproval
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_by_company_id:
              description: Internal identifier for the approving company
            approval_status:
              description: Status of the approval
            cost_num:
              description: ID of the cost the approval is for
            note:
              description: Note added to the approval
          required:
          - cost_num
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Claim Approval
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/claims/{costApprovalId}:
    get:
      operationId: v2_getCostClaimApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Claim Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostClaimApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_status:
              description: Status of the approval
            note:
              description: Note added to the approval
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Claim Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/invoices:
    get:
      operationId: v2_getCostInvoiceApprovals
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                approval_by_company_id:
                  description: Internal identifier for the approving company
                approval_by_user_email:
                  description: Email of the user who submitted the approval
                approval_date:
                  description: Date of the approval
                approval_identifier:
                  description: User-friendly identifier for cost approval
                approval_status:
                  description: Status of the approval
                cost_approval_num:
                  description: Internal identifier for cost approval
                cost_num:
                  description: ID of the cost the approval is for
                cost_table:
                  description: Table the approval is for
                note:
                  description: Note added to the approval
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoice Approvals
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostInvoiceApproval
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_by_company_id:
              description: Internal identifier for the approving company
            approval_status:
              description: Status of the approval
            cost_num:
              description: ID of the cost the approval is for
            note:
              description: Note added to the approval
          required:
          - cost_num
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Invoice Approval
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/invoices/{costApprovalId}:
    get:
      operationId: v2_getCostInvoiceApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoice Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostInvoiceApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_status:
              description: Status of the approval
            note:
              description: Note added to the approval
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Invoice Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/variation-requests:
    get:
      operationId: v2_getCostVariationRequestApprovals
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                approval_by_company_id:
                  description: Internal identifier for the approving company
                approval_by_user_email:
                  description: Email of the user who submitted the approval
                approval_date:
                  description: Date of the approval
                approval_identifier:
                  description: User-friendly identifier for cost approval
                approval_status:
                  description: Status of the approval
                cost_approval_num:
                  description: Internal identifier for cost approval
                cost_num:
                  description: ID of the cost the approval is for
                cost_table:
                  description: Table the approval is for
                note:
                  description: Note added to the approval
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Request Approvals
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostVariationRequestApproval
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_by_company_id:
              description: Internal identifier for the approving company
            approval_status:
              description: Status of the approval
            cost_num:
              description: ID of the cost the approval is for
            note:
              description: Note added to the approval
          required:
          - cost_num
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Variation Request Approval
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/approvals/variation-requests/{costApprovalId}:
    get:
      operationId: v2_getCostVariationRequestApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Request Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostVariationRequestApprovalById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costApprovalId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_status:
              description: Status of the approval
            note:
              description: Note added to the approval
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              approval_by_company_id:
                description: Internal identifier for the approving company
              approval_by_user_email:
                description: Email of the user who submitted the approval
              approval_date:
                description: Date of the approval
              approval_identifier:
                description: User-friendly identifier for cost approval
              approval_status:
                description: Status of the approval
              cost_approval_num:
                description: Internal identifier for cost approval
              cost_num:
                description: ID of the cost the approval is for
              cost_table:
                description: Table the approval is for
              note:
                description: Note added to the approval
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Variation Request Approval By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/attachments/{costObjectType}/{costObjectNum}:
    post:
      operationId: v2_postCostAttachments
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costObjectType
        required: true
        type: string
      - in: path
        name: costObjectNum
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Attachment
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions:
    get:
      operationId: v2_getBOQVersions
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: status
        type: string
      - in: query
        name: q
        type: string
      - in: query
        name: includeBoqs
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              items:
                items:
                  properties:
                    boq_version_id:
                      description: BOQ Version ID
                    boqs:
                      type: array
                    boqs_count:
                      type: integer
                    markup:
                      type: array
                    project_id:
                      description: Project ID
                    status:
                      description: Status
                    version_code:
                      description: Version code
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQ Versions
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBOQVersion
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            contingency:
              type: number
            markup:
              type: array
            overheads:
              type: number
            preliminaries:
              type: number
            profit_margin:
              type: number
            status:
              type: string
            version_code:
              type: string
          required:
          - version_code
          - status
          type: object
      responses:
        201:
          description: BOQ Version successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create BOQ Version
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}:
    delete:
      operationId: v2_deleteBOQVersionById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      responses:
        200:
          description: BOQ Version successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete BOQ Version By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getBOQVersionById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: query
        name: includeBoqs
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQ Version By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBOQVersionById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            contingency:
              type: number
            markup:
              type: array
            overheads:
              type: number
            preliminaries:
              type: number
            profit_margin:
              type: number
            status:
              type: string
            version_code:
              type: string
          type: object
      responses:
        200:
          description: BOQ Version successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update BOQ Version By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/boqs:
    get:
      operationId: v2_getBOQs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: status
        type: string
      - in: query
        name: budget_category
        type: string
      - in: query
        name: q
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQs
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBOQ
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            budget_category:
              type: string
            items:
              type: array
            qto_id:
              type: string
            qto_name:
              type: string
            status:
              type: string
          required:
          - qto_name
          - budget_category
          - status
          type: object
      responses:
        201:
          description: BOQ successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create BOQ
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/boqs/{boqId}:
    delete:
      operationId: v2_deleteBOQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      responses:
        200:
          description: BOQ successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete BOQ By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getBOQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQ By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBOQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: BOQ successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update BOQ By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/boqs/{boqId}/items:
    get:
      operationId: v2_getBOQItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQ Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBOQItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        201:
          description: BOQ Item successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create BOQ Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/boqs/{boqId}/items/{itemId}:
    delete:
      operationId: v2_deleteBOQItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: BOQ Item successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete BOQ Item By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getBOQItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get BOQ Item By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBOQItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: boqId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: BOQ Item successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update BOQ Item By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/compare-with-qto:
    get:
      operationId: v2_getBOQCompareWithQTO
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      responses:
        200:
          description: Comparison completed successfully
          schema:
            properties:
              boqs_with_differences:
                type: integer
              differences:
                items:
                  type: object
                type: array
              message:
                type: string
              total_boqs_compared:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Compare BOQ with QTO
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/markup:
    get:
      operationId: v2_getBOQVersionMarkup
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Version Markup List
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBOQVersionMarkup
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            budget_category_id:
              type: string
            contingency:
              type: number
            overheads:
              type: number
            preliminaries:
              type: number
            profit_margin:
              type: number
          required:
          - budget_category_id
          - preliminaries
          - overheads
          - profit_margin
          - contingency
          type: object
      responses:
        201:
          description: Markup successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Version Markup
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/markup/{budgetCategoryId}:
    delete:
      operationId: v2_deleteBOQVersionMarkupByBudgetCategoryId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: budgetCategoryId
        required: true
        type: string
      responses:
        200:
          description: Markup successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Markup not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Version Markup By Budget Category ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getBOQVersionMarkupByBudgetCategoryId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: budgetCategoryId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Markup not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Version Markup By Budget Category ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBOQVersionMarkupByBudgetCategoryId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: path
        name: budgetCategoryId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            budget_category_id:
              type: string
            contingency:
              type: number
            overheads:
              type: number
            preliminaries:
              type: number
            profit_margin:
              type: number
          required:
          - budget_category_id
          - preliminaries
          - overheads
          - profit_margin
          - contingency
          type: object
      responses:
        200:
          description: Markup successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Markup not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Version Markup By Budget Category ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/boq-versions/{versionId}/sync-from-qto:
    post:
      operationId: v2_postBOQSyncFromQTO
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: versionId
        required: true
        type: string
      - in: body
        name: body
        required: false
        schema:
          properties:
            qto_ids:
              items:
                type: string
              type: array
            sync_mode:
              type: string
          type: object
      responses:
        200:
          description: QTO sync completed successfully
          schema:
            properties:
              details:
                type: array
              message:
                type: string
              summary:
                type: object
            type: object
        207:
          description: QTO sync completed with errors
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Sync QTO to BOQ
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/budget-import:
    post:
      operationId: v2_postBudgetImport
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Excel file (.xlsx or .xls) containing Budget and Cost Codes sheets
        in: formData
        name: file
        required: true
        type: string
      responses:
        201:
          description: Budget import completed successfully
          schema:
            properties:
              data:
                properties:
                  budget_items:
                    description: Array of imported budget items
                    items:
                      properties:
                        cost_budget_identifier:
                          description: User-friendly identifier for cost budget item
                          type: string
                        cost_budget_item_description:
                          description: Description of the cost budget item
                          type: string
                        cost_budget_item_name:
                          description: Name of the cost budget item
                          type: string
                        cost_budget_item_num:
                          description: Internal identifier for cost budget item
                          type: integer
                        cost_code_num:
                          description: Cost code number
                          type: integer
                        original_total_amount:
                          description: Original total amount of the cost budget item
                          type: number
                        total_amount:
                          description: Total amount of the cost budget item
                          type: number
                      type: object
                    type: array
                  imported_budget_items:
                    description: Number of budget items imported
                    type: integer
                type: object
              message:
                description: Success message
                type: string
            type: object
        400:
          description: Bad Request
          schema:
            properties:
              message:
                description: Error message
                type: string
            type: object
        401:
          description: Unauthorized
        403:
          description: Forbidden - Insufficient permissions
        405:
          description: Method Not Allowed
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Import Budget Items from Excel File
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/budget-items:
    get:
      operationId: v2_getBudgetItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                cost_budget_identifier:
                  description: User-friendly identifier for cost budget item
                cost_budget_item_description:
                  description: Description of the cost budget item
                cost_budget_item_name:
                  description: Name of the cost budget item
                cost_budget_item_num:
                  description: Internal identifier for cost budget item
                cost_code_num:
                  description: Cost code number
                ds_wbs_id:
                  description: WBS ID of the cost budget item
                original_total_amount:
                  description: Original total amount of the cost budget item
                qty:
                  description: Quantity of the cost budget item
                total_amount:
                  description: Total amount of the cost budget item
                unit_amount:
                  description: Unit amount of the cost budget item
                unit_of_measure:
                  description: Unit of measure of the cost budget item
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBudgetItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_item_client_id:
              description: Client ID of the cost budget item
            cost_budget_item_description:
              description: Description of the cost budget item
            cost_budget_item_name:
              description: Name of the cost budget item
            cost_code_num:
              description: Cost code number
            ds_wbs_id:
              description: WBS ID of the cost budget item
            qty:
              description: Quantity of the cost budget item
            total_amount:
              description: Total amount of the cost budget item
            unit_amount:
              description: Unit amount of the cost budget item
            unit_of_measure:
              description: Unit of measure of the cost budget item
          required:
          - cost_budget_item_name
          - cost_code_num
          - total_amount
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              cost_budget_identifier:
                description: User-friendly identifier for cost budget item
              cost_budget_item_description:
                description: Description of the cost budget item
              cost_budget_item_name:
                description: Name of the cost budget item
              cost_budget_item_num:
                description: Internal identifier for cost budget item
              cost_code_num:
                description: Cost code number
              ds_wbs_id:
                description: WBS ID of the cost budget item
              original_total_amount:
                description: Original total amount of the cost budget item
              qty:
                description: Quantity of the cost budget item
              total_amount:
                description: Total amount of the cost budget item
              unit_amount:
                description: Unit amount of the cost budget item
              unit_of_measure:
                description: Unit of measure of the cost budget item
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Budget Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/budget-items/{costBudgetItemId}:
    get:
      operationId: v2_getBudgetItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costBudgetItemId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              cost_budget_identifier:
                description: User-friendly identifier for cost budget item
              cost_budget_item_description:
                description: Description of the cost budget item
              cost_budget_item_name:
                description: Name of the cost budget item
              cost_budget_item_num:
                description: Internal identifier for cost budget item
              cost_code_num:
                description: Cost code number
              ds_wbs_id:
                description: WBS ID of the cost budget item
              original_total_amount:
                description: Original total amount of the cost budget item
              qty:
                description: Quantity of the cost budget item
              total_amount:
                description: Total amount of the cost budget item
              unit_amount:
                description: Unit amount of the cost budget item
              unit_of_measure:
                description: Unit of measure of the cost budget item
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBudgetItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costBudgetItemId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_budget_item_description:
              description: Description of the cost budget item
            cost_budget_item_name:
              description: Name of the cost budget item
            cost_code_num:
              description: Cost code number
            ds_wbs_id:
              description: WBS ID of the cost budget item
            qty:
              description: Quantity of the cost budget item
            total_amount:
              description: Total amount of the cost budget item
            unit_amount:
              description: Unit amount of the cost budget item
            unit_of_measure:
              description: Unit of measure of the cost budget item
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              cost_budget_identifier:
                description: User-friendly identifier for cost budget item
              cost_budget_item_description:
                description: Description of the cost budget item
              cost_budget_item_name:
                description: Name of the cost budget item
              cost_budget_item_num:
                description: Internal identifier for cost budget item
              cost_code_num:
                description: Cost code number
              ds_wbs_id:
                description: WBS ID of the cost budget item
              original_total_amount:
                description: Original total amount of the cost budget item
              qty:
                description: Quantity of the cost budget item
              total_amount:
                description: Total amount of the cost budget item
              unit_amount:
                description: Unit amount of the cost budget item
              unit_of_measure:
                description: Unit of measure of the cost budget item
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Budget Item By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/budget-snapshots:
    get:
      operationId: v2_getBudgetSnapshots
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                cost_budget_snapshot_id:
                  description: Internal identifier for cost budget snapshot
                items:
                  items:
                    properties:
                      cost_budget_item_num:
                        description: internal ID of the budget item
                      qty:
                        description: quantity of the budget item
                      total_amount:
                        description: total amount of the budget item
                      unit_amount:
                        description: unit amount of the budget item
                      unit_of_measure:
                        description: unit of measure of the budget item
                    type: object
                  type: array
                snapshot_by_user_id:
                  description: User ID of the user who created the snapshot
                snapshot_name:
                  description: Name of the snapshot
                snapshot_on_date:
                  description: Date of the snapshot
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Snapshots
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postBudgetSnapshot
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            snapshot_name:
              description: Name of snapshot
          required:
          - snapshot_name
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              cost_budget_snapshot_id:
                description: Internal identifier for cost budget snapshot
              items:
                items:
                  properties:
                    cost_budget_item_num:
                      description: internal ID of the budget item
                    qty:
                      description: quantity of the budget item
                    total_amount:
                      description: total amount of the budget item
                    unit_amount:
                      description: unit amount of the budget item
                    unit_of_measure:
                      description: unit of measure of the budget item
                  type: object
                type: array
              snapshot_by_user_id:
                description: User ID of the user who created the snapshot
              snapshot_name:
                description: Name of the snapshot
              snapshot_on_date:
                description: Date of the snapshot
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Budget Snapshot
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/budget-snapshots/{costBudgetSnapshotId}:
    get:
      operationId: v2_getBudgetSnapshotById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costBudgetSnapshotId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              cost_budget_snapshot_id:
                description: Internal identifier for cost budget snapshot
              items:
                items:
                  properties:
                    cost_budget_item_num:
                      description: internal ID of the budget item
                    qty:
                      description: quantity of the budget item
                    total_amount:
                      description: total amount of the budget item
                    unit_amount:
                      description: unit amount of the budget item
                    unit_of_measure:
                      description: unit of measure of the budget item
                  type: object
                type: array
              snapshot_by_user_id:
                description: User ID of the user who created the snapshot
              snapshot_name:
                description: Name of the snapshot
              snapshot_on_date:
                description: Date of the snapshot
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Budget Snapshot By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchBudgetSnapshotById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costBudgetSnapshotId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            snapshot_name:
              description: Name of snapshot
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              cost_budget_snapshot_id:
                description: Internal identifier for cost budget snapshot
              snapshot_by_user_id:
                description: User ID of the user who created the snapshot
              snapshot_name:
                description: Name of the snapshot
              snapshot_on_date:
                description: Date of the snapshot
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Budget Snapshot By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/claims:
    get:
      operationId: v2_getCostClaims
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the claim
                claim_date:
                  description: Date of the claim
                claim_identifer:
                  description: User-friendly identifier for cost claim
                claim_name:
                  description: Name of the cost claim
                claim_period_end:
                  description: End of the claim period
                claim_period_start:
                  description: Start of the claim period
                claim_type:
                  description: Type of cost claim - progress or deposit
                claimant_company_id:
                  description: Internal identifier for the company claiming
                cost_claim_num:
                  description: Internal identifier for cost claim
                created_by_user_email:
                  description: Email of the user who created the claim
                currency:
                  description: Currency of the claim
                date_created:
                  description: Date the cost claim was created
                date_modified:
                  description: Date the cost claim was last modified
                description:
                  description: Description for the claim
                related_cost_order_num:
                  description: Id of the related cost order the claim is against
                status:
                  description: Status of the claim
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Claims
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/claims/deposit:
    get:
      operationId: v2_getCostDepositClaims
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the claim
                claim_date:
                  description: Date of the claim
                claim_identifer:
                  description: User-friendly identifier for cost claim
                claim_name:
                  description: Name of the cost claim
                claim_period_end:
                  description: End of the claim period
                claim_period_start:
                  description: Start of the claim period
                claim_type:
                  description: Type of cost claim - progress or deposit
                claimant_company_id:
                  description: Internal identifier for the company claiming
                cost_claim_num:
                  description: Internal identifier for cost claim
                created_by_user_email:
                  description: Email of the user who created the claim
                currency:
                  description: Currency of the claim
                date_created:
                  description: Date the cost claim was created
                date_modified:
                  description: Date the cost claim was last modified
                description:
                  description: Description for the claim
                related_cost_order_num:
                  description: Id of the related cost order the claim is against
                status:
                  description: Status of the claim
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Deposit Claims
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostDepositClaim
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost claim
            claim_date:
              description: Date of the claim
            claim_name:
              description: Name of the cost claim
            claim_period_end:
              description: End of the claim period
            claim_period_start:
              description: Start of the claim period
            cost_claim_client_id:
              description: Provided identifier for cost claim
            currency:
              description: Currency of the cost claim
            description:
              description: Description for the claim
            related_cost_order_num:
              description: Id of the related cost order the claim is against
            status:
              description: Status of the claim
          required:
          - claim_name
          - amount
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Deposit Claim
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/claims/deposit/{costClaimId}:
    get:
      operationId: v2_getCostDepositClaimById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costClaimId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Deposit Claim By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostDepositClaimById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costClaimId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost claim
            claim_date:
              description: Date of the claim
            claim_name:
              description: Name of the cost claim
            claim_period_end:
              description: End of the claim period
            claim_period_start:
              description: Start of the claim period
            currency:
              description: Currency of the cost claim
            description:
              description: Description for the claim
            status:
              description: Status of the claim
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Deposit Claim By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/claims/progress:
    get:
      operationId: v2_getCostProgressClaims
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the claim
                claim_date:
                  description: Date of the claim
                claim_identifer:
                  description: User-friendly identifier for cost claim
                claim_name:
                  description: Name of the cost claim
                claim_period_end:
                  description: End of the claim period
                claim_period_start:
                  description: Start of the claim period
                claim_type:
                  description: Type of cost claim - progress or deposit
                claimant_company_id:
                  description: Internal identifier for the company claiming
                cost_claim_num:
                  description: Internal identifier for cost claim
                created_by_user_email:
                  description: Email of the user who created the claim
                currency:
                  description: Currency of the claim
                date_created:
                  description: Date the cost claim was created
                date_modified:
                  description: Date the cost claim was last modified
                description:
                  description: Description for the claim
                related_cost_order_num:
                  description: Id of the related cost order the claim is against
                status:
                  description: Status of the claim
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Progress Claims
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostProgressClaim
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost claim
            claim_date:
              description: Date of the claim
            claim_name:
              description: Name of the cost claim
            claim_period_end:
              description: End of the claim period
            claim_period_start:
              description: Start of the claim period
            cost_claim_client_id:
              description: Provided identifier for cost claim
            currency:
              description: Currency of the cost claim
            description:
              description: Description for the claim
            related_cost_order_num:
              description: Id of the related cost order the claim is against
            status:
              description: Status of the claim
          required:
          - claim_name
          - amount
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Progress Claim
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/claims/progress/{costClaimId}:
    get:
      operationId: v2_getCostProgressClaimById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costClaimId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Progress Claim By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostProgressClaimById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costClaimId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost claim
            claim_date:
              description: Date of the claim
            claim_name:
              description: Name of the cost claim
            claim_period_end:
              description: End of the claim period
            claim_period_start:
              description: Start of the claim period
            currency:
              description: Currency of the cost claim
            description:
              description: Description for the claim
            status:
              description: Status of the claim
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the claim
              claim_date:
                description: Date of the claim
              claim_identifer:
                description: User-friendly identifier for cost claim
              claim_name:
                description: Name of the cost claim
              claim_period_end:
                description: End of the claim period
              claim_period_start:
                description: Start of the claim period
              claim_type:
                description: Type of cost claim - progress or deposit
              claimant_company_id:
                description: Internal identifier for the company claiming
              cost_claim_num:
                description: Internal identifier for cost claim
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the claim
              date_created:
                description: Date the cost claim was created
              date_modified:
                description: Date the cost claim was last modified
              description:
                description: Description for the claim
              related_cost_order_num:
                description: Id of the related cost order the claim is against
              status:
                description: Status of the claim
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Progress Claim By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/contracts:
    get:
      operationId: v2_getCostContracts
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Get specific contract by ID
        in: query
        name: costContractId
        required: false
        type: integer
      - description: Filter by contract type (SUBCONTRACT/HEAD)
        in: query
        name: contractType
        required: false
        type: string
      - description: Filter by contract status (Draft/Active/Completed/Cancelled)
        in: query
        name: contractStatus
        required: false
        type: string
      - description: Filter by contract risk (Low/Medium/High)
        in: query
        name: contractRisk
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                attachments:
                  description: Array of attachments associated with the contract
                  items:
                    properties:
                      cde_id:
                        description: Attachment identifier
                      created_by_company_id:
                        description: Company ID of user who created the attachment
                      created_by_user_email:
                        description: Email of user who created the attachment
                    type: object
                  type: array
                award_date:
                  description: Date the contract was awarded
                contract_currency:
                  description: Currency of the cost contract
                contract_identifier:
                  description: User-friendly identifier for cost contract
                contract_risk:
                  description: Risk level of the contract (Low/Medium/High)
                contract_status:
                  description: Status of the contract (Draft/Active/Completed/Cancelled)
                contract_type:
                  description: Type of contract (SUBCONTRACT/HEAD)
                contract_value:
                  description: Value of the cost contract
                cost_contract_name:
                  description: Name of the cost contract
                cost_contract_num:
                  description: Internal identifier for cost contract
                cost_contract_scope_of_work:
                  description: Scope of work for the cost contract
                created_at:
                  description: Date the contract was created
                created_by_user_id:
                  description: User ID of the person who created the contract
                dlp_end:
                  description: Defects liability period end date
                issuing_company_id:
                  description: Internal identifier for the issuing company
                pc_date:
                  description: Practical completion date
                receiving_company_id:
                  description: Internal identifier for the receiving company
                retention_cap_value:
                  description: Retention cap value
                start_date:
                  description: Start date of the contract
                trade:
                  description: Trade associated with the contract
                updated_at:
                  description: Date the contract was last updated
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Contracts
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostContract
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            award_date:
              description: Date the contract was awarded
            contract_currency:
              description: Currency of the cost contract
            contract_risk:
              description: Risk level of the contract (Low/Medium/High)
            contract_status:
              description: Status of the contract (Draft/Active/Completed/Cancelled)
            contract_type:
              description: Type of contract (SUBCONTRACT/HEAD)
            contract_value:
              description: Value of the cost contract
            cost_contract_client_id:
              description: Provided identifier for cost contract
            cost_contract_name:
              description: Name of the cost contract
            cost_contract_scope_of_work:
              description: Scope of work for the cost contract
            dlp_end:
              description: Defects liability period end date
            pc_date:
              description: Practical completion date
            receiving_company_id:
              description: Internal identifier for the receiving company
            retention_cap_value:
              description: Retention cap value
            start_date:
              description: Start date of the contract
            trade:
              description: Trade associated with the contract
          required:
          - cost_contract_name
          - cost_contract_scope_of_work
          - contract_value
          - receiving_company_id
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              award_date:
                description: Date the contract was awarded
              contract_currency:
                description: Currency of the cost contract
              contract_identifier:
                description: User-friendly identifier for cost contract
              contract_risk:
                description: Risk level of the contract (Low/Medium/High)
              contract_status:
                description: Status of the contract (Draft/Active/Completed/Cancelled)
              contract_type:
                description: Type of contract (SUBCONTRACT/HEAD)
              contract_value:
                description: Value of the cost contract
              cost_contract_name:
                description: Name of the cost contract
              cost_contract_num:
                description: Internal identifier for cost contract
              cost_contract_scope_of_work:
                description: Scope of work for the cost contract
              created_at:
                description: Date the contract was created
              created_by_user_id:
                description: User ID of the person who created the contract
              dlp_end:
                description: Defects liability period end date
              issuing_company_id:
                description: Internal identifier for the issuing company
              pc_date:
                description: Practical completion date
              receiving_company_id:
                description: Internal identifier for the receiving company
              retention_cap_value:
                description: Retention cap value
              start_date:
                description: Start date of the contract
              trade:
                description: Trade associated with the contract
              updated_at:
                description: Date the contract was last updated
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Contract
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/contracts/{costContractId}:
    get:
      operationId: v2_getCostContractById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costContractId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              attachments:
                description: Array of attachments associated with the contract
                items:
                  properties:
                    cde_id:
                      description: Attachment identifier
                    created_by_company_id:
                      description: Company ID of user who created the attachment
                    created_by_user_email:
                      description: Email of user who created the attachment
                  type: object
                type: array
              award_date:
                description: Date the contract was awarded
              contract_currency:
                description: Currency of the cost contract
              contract_identifier:
                description: User-friendly identifier for cost contract
              contract_risk:
                description: Risk level of the contract (Low/Medium/High)
              contract_status:
                description: Status of the contract (Draft/Active/Completed/Cancelled)
              contract_type:
                description: Type of contract (SUBCONTRACT/HEAD)
              contract_value:
                description: Value of the cost contract
              cost_contract_name:
                description: Name of the cost contract
              cost_contract_num:
                description: Internal identifier for cost contract
              cost_contract_scope_of_work:
                description: Scope of work for the cost contract
              created_at:
                description: Date the contract was created
              created_by_user_id:
                description: User ID of the person who created the contract
              dlp_end:
                description: Defects liability period end date
              issuing_company_id:
                description: Internal identifier for the issuing company
              pc_date:
                description: Practical completion date
              receiving_company_id:
                description: Internal identifier for the receiving company
              retention_cap_value:
                description: Retention cap value
              start_date:
                description: Start date of the contract
              trade:
                description: Trade associated with the contract
              updated_at:
                description: Date the contract was last updated
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Contract By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostContractById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costContractId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            award_date:
              description: Date the contract was awarded
            contract_currency:
              description: Currency of the cost contract
            contract_risk:
              description: Risk level of the contract (Low/Medium/High)
            contract_status:
              description: Status of the contract (Draft/Active/Completed/Cancelled)
            contract_type:
              description: Type of contract (SUBCONTRACT/HEAD)
            contract_value:
              description: Value of the cost contract
            cost_contract_client_id:
              description: Provided identifier for cost contract
            cost_contract_name:
              description: Name of the cost contract
            cost_contract_scope_of_work:
              description: Scope of work for the cost contract
            dlp_end:
              description: Defects liability period end date
            pc_date:
              description: Practical completion date
            receiving_company_id:
              description: Internal identifier for the receiving company
            retention_cap_value:
              description: Retention cap value
            start_date:
              description: Start date of the contract
            trade:
              description: Trade associated with the contract
          type: object
      responses:
        200:
          description: Object successfully edited
          schema:
            properties:
              award_date:
                description: Date the contract was awarded
              contract_currency:
                description: Currency of the cost contract
              contract_identifier:
                description: User-friendly identifier for cost contract
              contract_risk:
                description: Risk level of the contract (Low/Medium/High)
              contract_status:
                description: Status of the contract (Draft/Active/Completed/Cancelled)
              contract_type:
                description: Type of contract (SUBCONTRACT/HEAD)
              contract_value:
                description: Value of the cost contract
              cost_contract_name:
                description: Name of the cost contract
              cost_contract_num:
                description: Internal identifier for cost contract
              cost_contract_scope_of_work:
                description: Scope of work for the cost contract
              created_at:
                description: Date the contract was created
              created_by_user_id:
                description: User ID of the person who created the contract
              dlp_end:
                description: Defects liability period end date
              issuing_company_id:
                description: Internal identifier for the issuing company
              pc_date:
                description: Practical completion date
              receiving_company_id:
                description: Internal identifier for the receiving company
              retention_cap_value:
                description: Retention cap value
              start_date:
                description: Start date of the contract
              trade:
                description: Trade associated with the contract
              updated_at:
                description: Date the contract was last updated
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Cost Contract By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/invoices:
    get:
      operationId: v2_getCostInvoices
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the invoice
                cost_invoice_num:
                  description: Internal identifier for invoice
                cost_payment_schedule_num:
                  description: Id of the related payment schedule the invoice is against
                created_by_user_email:
                  description: Email of the user who created the claim
                currency:
                  description: Currency of the invoice
                date_created:
                  description: Date the invoice was created
                date_modified:
                  description: Date the invoice was last modified
                description:
                  description: Description for the invoice
                invoice_date:
                  description: Date of the invoice
                invoice_due_date:
                  description: Due date of the invoice
                invoice_identifier:
                  description: User-friendly identifier for invoice
                invoice_name:
                  description: Name of the invoice
                invoice_period_end:
                  description: End of the invoice period
                invoice_period_start:
                  description: Start of the invoice period
                invoice_to_company_id:
                  description: Internal identifier for the company being invoiced
                invoicer_company_id:
                  description: Internal identifier for the company invoicing
                marked_as_paid_by_user_email:
                  description: Email of the user who marked the invoice as paid
                marked_as_paid_date:
                  description: Date the invoice was marked as paid
                related_cost_claim_num:
                  description: Id of the related cost claim the invoice is against
                related_cost_order_num:
                  description: Id of the related cost order the invoice is against
                specified_paid_date:
                  description: Date the invoice was specified as paid
                status:
                  description: Status of the invoice
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoices
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostInvoice
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the invoice
            cost_invoice_client_id:
              description: User-friendly identifier for invoice
            cost_payment_schedule_num:
              description: Id of the related payment schedule the invoice is against
            currency:
              description: Currency of the invoice
            description:
              description: Description for the invoice
            invoice_date:
              description: Date of the invoice
            invoice_due_date:
              description: Due date of the invoice
            invoice_name:
              description: Name of the invoice
            invoice_period_end:
              description: End of the invoice period
            invoice_period_start:
              description: Start of the invoice period
            invoice_to_company_id:
              description: Internal identifier for the company being invoiced
            related_cost_claim_num:
              description: Id of the related cost claim the invoice is against
            related_cost_order_num:
              description: Id of the related cost order the invoice is against
            status:
              description: Status of the invoice
          required:
          - invoice_name
          - amount
          - invoice_to_company_id
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the invoice
              cost_invoice_num:
                description: Internal identifier for invoice
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the invoice
              date_created:
                description: Date the invoice was created
              date_modified:
                description: Date the invoice was last modified
              description:
                description: Description for the invoice
              invoice_date:
                description: Date of the invoice
              invoice_due_date:
                description: Due date of the invoice
              invoice_identifier:
                description: User-friendly identifier for invoice
              invoice_name:
                description: Name of the invoice
              invoice_period_end:
                description: End of the invoice period
              invoice_period_start:
                description: Start of the invoice period
              invoice_to_company_id:
                description: Internal identifier for the company being invoiced
              invoicer_company_id:
                description: Internal identifier for the company invoicing
              marked_as_paid_by_user_email:
                description: Email of the user who marked the invoice as paid
              marked_as_paid_date:
                description: Date the invoice was marked as paid
              related_cost_claim_num:
                description: Id of the related cost claim the invoice is against
              related_cost_order_num:
                description: Id of the related cost order the invoice is against
              specified_paid_date:
                description: Date the invoice was specified as paid
              status:
                description: Status of the invoice
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Invoice
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/invoices/{costInvoiceId}:
    get:
      operationId: v2_getCostInvoiceById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costInvoiceId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the invoice
              cost_invoice_num:
                description: Internal identifier for invoice
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the invoice
              date_created:
                description: Date the invoice was created
              date_modified:
                description: Date the invoice was last modified
              description:
                description: Description for the invoice
              invoice_date:
                description: Date of the invoice
              invoice_due_date:
                description: Due date of the invoice
              invoice_identifier:
                description: User-friendly identifier for invoice
              invoice_name:
                description: Name of the invoice
              invoice_period_end:
                description: End of the invoice period
              invoice_period_start:
                description: Start of the invoice period
              invoice_to_company_id:
                description: Internal identifier for the company being invoiced
              invoicer_company_id:
                description: Internal identifier for the company invoicing
              marked_as_paid_by_user_email:
                description: Email of the user who marked the invoice as paid
              marked_as_paid_date:
                description: Date the invoice was marked as paid
              related_cost_claim_num:
                description: Id of the related cost claim the invoice is against
              related_cost_order_num:
                description: Id of the related cost order the invoice is against
              specified_paid_date:
                description: Date the invoice was specified as paid
              status:
                description: Status of the invoice
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoice By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostInvoiceById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costInvoiceId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the invoice
            currency:
              description: Currency of the invoice
            description:
              description: Description for the invoice
            invoice_date:
              description: Date of the invoice
            invoice_due_date:
              description: Due date of the invoice
            invoice_name:
              description: Name of the invoice
            invoice_period_end:
              description: End of the invoice period
            invoice_period_start:
              description: Start of the invoice period
            specified_paid_date:
              description: Date the invoice was specified as paid
            status:
              description: Status of the invoice
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the invoice
              cost_invoice_num:
                description: Internal identifier for invoice
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the invoice
              date_created:
                description: Date the invoice was created
              date_modified:
                description: Date the invoice was last modified
              description:
                description: Description for the invoice
              invoice_date:
                description: Date of the invoice
              invoice_due_date:
                description: Due date of the invoice
              invoice_identifier:
                description: User-friendly identifier for invoice
              invoice_name:
                description: Name of the invoice
              invoice_period_end:
                description: End of the invoice period
              invoice_period_start:
                description: Start of the invoice period
              invoice_to_company_id:
                description: Internal identifier for the company being invoiced
              invoicer_company_id:
                description: Internal identifier for the company invoicing
              marked_as_paid_by_user_email:
                description: Email of the user who marked the invoice as paid
              marked_as_paid_date:
                description: Date the invoice was marked as paid
              related_cost_claim_num:
                description: Id of the related cost claim the invoice is against
              related_cost_order_num:
                description: Id of the related cost order the invoice is against
              specified_paid_date:
                description: Date the invoice was specified as paid
              status:
                description: Status of the invoice
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Invoice By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/issues:
    get:
      operationId: v2_getCostIssues
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional issue ID to fetch specific issue
        in: query
        name: issueId
        required: false
        type: string
      - description: Filter by status
        in: query
        name: status
        required: false
        type: string
      - description: Filter by severity
        in: query
        name: severity
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                assignee:
                  description: Issue assignee
                  type: string
                created_at:
                  description: Created timestamp
                  format: date-time
                  type: string
                creator_name:
                  description: Creator name
                  type: string
                description:
                  description: Issue description
                  type: string
                id:
                  description: Issue identifier
                  type: string
                project_id:
                  description: Project ID
                  type: integer
                related_document_num:
                  description: Related document number
                  type: string
                severity:
                  description: Issue severity
                  type: string
                status:
                  description: Issue status
                  type: string
                title:
                  description: Issue title
                  type: string
                type:
                  description: Issue type
                  type: string
                updated_at:
                  description: Updated timestamp
                  format: date-time
                  type: string
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Issues
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostIssues
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            assignee:
              description: Issue assignee
              type: string
            creator_name:
              description: Creator name
              type: string
            description:
              description: Issue description
              type: string
            related_document_num:
              description: Related document number
              type: string
            severity:
              description: Issue severity
              type: string
            status:
              description: Issue status
              type: string
            title:
              description: Issue title
              type: string
            type:
              description: Issue type
              type: string
          required:
          - title
          - description
          - status
          - severity
          type: object
      responses:
        201:
          description: Issue successfully created
          schema:
            properties:
              data:
                properties:
                  assignee:
                    description: Issue assignee
                    type: string
                  created_at:
                    description: Created timestamp
                    format: date-time
                    type: string
                  creator_name:
                    description: Creator name
                    type: string
                  description:
                    description: Issue description
                    type: string
                  id:
                    description: Issue identifier
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  related_document_num:
                    description: Related document number
                    type: string
                  severity:
                    description: Issue severity
                    type: string
                  status:
                    description: Issue status
                    type: string
                  title:
                    description: Issue title
                    type: string
                  type:
                    description: Issue type
                    type: string
                  updated_at:
                    description: Updated timestamp
                    format: date-time
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input or missing required fields
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Issue
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/issues/{issueId}:
    delete:
      operationId: v2_deleteCostIssueById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: string
      responses:
        200:
          description: Issue successfully deleted
          schema:
            properties:
              data:
                properties:
                  id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Issue not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Cost Issue By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostIssueById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: issueId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assignee:
              description: Issue assignee
              type: string
            creator_name:
              description: Creator name
              type: string
            description:
              description: Issue description
              type: string
            related_document_num:
              description: Related document number
              type: string
            severity:
              description: Issue severity
              type: string
            status:
              description: Issue status
              type: string
            title:
              description: Issue title
              type: string
            type:
              description: Issue type
              type: string
          type: object
      responses:
        201:
          description: Issue successfully updated
          schema:
            properties:
              data:
                properties:
                  assignee:
                    description: Issue assignee
                    type: string
                  created_at:
                    description: Created timestamp
                    format: date-time
                    type: string
                  creator_name:
                    description: Creator name
                    type: string
                  description:
                    description: Issue description
                    type: string
                  id:
                    description: Issue identifier
                    type: string
                  project_id:
                    description: Project ID
                    type: integer
                  related_document_num:
                    description: Related document number
                    type: string
                  severity:
                    description: Issue severity
                    type: string
                  status:
                    description: Issue status
                    type: string
                  title:
                    description: Issue title
                    type: string
                  type:
                    description: Issue type
                    type: string
                  updated_at:
                    description: Updated timestamp
                    format: date-time
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input
        401:
          description: Unauthorized
        404:
          description: Issue not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Cost Issue By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/claim:
    get:
      operationId: v2_getCostClaimLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional line item ID to fetch specific line item
        in: query
        name: lineItemId
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                claim_remaining_percentage:
                  description: Remaining claim percentage (0-100)
                  type: number
                cost_claim_line_description:
                  description: Description of the claim line item
                  type: string
                cost_claim_line_name:
                  description: Name of the claim line item
                  type: string
                cost_claim_line_num:
                  description: Internal identifier for claim line item
                  type: integer
                cost_claim_num:
                  description: Related claim number
                  type: integer
                line_item_identifier:
                  description: User-friendly identifier for claim line item
                  type: string
                qty:
                  description: Quantity
                  type: number
                related_cost_order_line_num:
                  description: Related order line item number
                  type: integer
                related_order_line_name:
                  description: Name of related order line item
                  type: string
                total_amount:
                  description: Total amount for the line item
                  type: number
                unit_amount:
                  description: Unit amount
                  type: number
                unit_of_measure:
                  description: Unit of measure
                  type: string
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Claim Line Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostClaimLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            items:
              items:
                properties:
                  claim_remaining_percentage:
                    description: Remaining claim percentage (0-100)
                    maximum: 100
                    minimum: 0
                    type: number
                  cost_claim_line_client_id:
                    description: Client-defined identifier for claim line item
                    type: string
                  cost_claim_line_description:
                    description: Description of the claim line item
                    type: string
                  cost_claim_line_name:
                    description: Name of the claim line item
                    type: string
                  cost_claim_num:
                    description: Related claim number
                    type: integer
                  qty:
                    description: Quantity
                    type: number
                  related_cost_order_line_num:
                    description: Related order line item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                required:
                - cost_claim_line_name
                - cost_claim_line_description
                - cost_claim_num
                - total_amount
                - claim_remaining_percentage
                type: object
              type: array
          type: object
      responses:
        201:
          description: Line item(s) successfully created
          schema:
            properties:
              data:
                items:
                  properties:
                    claim_remaining_percentage:
                      description: Remaining claim percentage (0-100)
                      type: number
                    cost_claim_line_description:
                      description: Description of the claim line item
                      type: string
                    cost_claim_line_name:
                      description: Name of the claim line item
                      type: string
                    cost_claim_line_num:
                      description: Internal identifier for claim line item
                      type: integer
                    cost_claim_num:
                      description: Related claim number
                      type: integer
                    line_item_identifier:
                      description: User-friendly identifier for claim line item
                      type: string
                    qty:
                      description: Quantity
                      type: number
                    related_cost_order_line_num:
                      description: Related order line item number
                      type: integer
                    related_order_line_name:
                      description: Name of related order line item
                      type: string
                    total_amount:
                      description: Total amount for the line item
                      type: number
                    unit_amount:
                      description: Unit amount
                      type: number
                    unit_of_measure:
                      description: Unit of measure
                      type: string
                  type: object
                type: array
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input or missing required fields
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Claim Line Item(s)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/claim/{lineItemId}:
    patch:
      operationId: v2_patchCostClaimLineItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: lineItemId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            related_cost_order_line_num:
              description: Related order line item number
              type: integer
          type: object
      responses:
        201:
          description: Line item successfully updated
          schema:
            properties:
              data:
                properties:
                  claim_remaining_percentage:
                    description: Remaining claim percentage (0-100)
                    type: number
                  cost_claim_line_description:
                    description: Description of the claim line item
                    type: string
                  cost_claim_line_name:
                    description: Name of the claim line item
                    type: string
                  cost_claim_line_num:
                    description: Internal identifier for claim line item
                    type: integer
                  cost_claim_num:
                    description: Related claim number
                    type: integer
                  line_item_identifier:
                    description: User-friendly identifier for claim line item
                    type: string
                  qty:
                    description: Quantity
                    type: number
                  related_cost_order_line_num:
                    description: Related order line item number
                    type: integer
                  related_order_line_name:
                    description: Name of related order line item
                    type: string
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input
        401:
          description: Unauthorized
        404:
          description: Line item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Claim Line Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/invoice:
    get:
      operationId: v2_getCostInvoiceLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional line item ID to fetch specific line item
        in: query
        name: lineItemId
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                cost_invoice_line_description:
                  description: Description of the invoice line item
                  type: string
                cost_invoice_line_name:
                  description: Name of the invoice line item
                  type: string
                cost_invoice_line_num:
                  description: Internal identifier for invoice line item
                  type: integer
                cost_invoice_num:
                  description: Related invoice number
                  type: integer
                line_item_identifier:
                  description: User-friendly identifier for invoice line item
                  type: string
                qty:
                  description: Quantity
                  type: number
                related_claim_line_name:
                  description: Name of related claim line item
                  type: string
                related_cost_claim_line_num:
                  description: Related claim line item number
                  type: integer
                total_amount:
                  description: Total amount for the line item
                  type: number
                unit_amount:
                  description: Unit amount
                  type: number
                unit_of_measure:
                  description: Unit of measure
                  type: string
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoice Line Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostInvoiceLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            items:
              items:
                properties:
                  cost_invoice_line_client_id:
                    description: Client-defined identifier for invoice line item
                    type: string
                  cost_invoice_line_description:
                    description: Description of the invoice line item
                    type: string
                  cost_invoice_line_name:
                    description: Name of the invoice line item
                    type: string
                  cost_invoice_num:
                    description: Related invoice number
                    type: integer
                  qty:
                    description: Quantity
                    type: number
                  related_cost_claim_line_num:
                    description: Related claim line item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                required:
                - cost_invoice_line_name
                - cost_invoice_line_description
                - cost_invoice_num
                - total_amount
                type: object
              type: array
          type: object
      responses:
        201:
          description: Line item(s) successfully created
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_invoice_line_description:
                      description: Description of the invoice line item
                      type: string
                    cost_invoice_line_name:
                      description: Name of the invoice line item
                      type: string
                    cost_invoice_line_num:
                      description: Internal identifier for invoice line item
                      type: integer
                    cost_invoice_num:
                      description: Related invoice number
                      type: integer
                    line_item_identifier:
                      description: User-friendly identifier for invoice line item
                      type: string
                    qty:
                      description: Quantity
                      type: number
                    related_claim_line_name:
                      description: Name of related claim line item
                      type: string
                    related_cost_claim_line_num:
                      description: Related claim line item number
                      type: integer
                    total_amount:
                      description: Total amount for the line item
                      type: number
                    unit_amount:
                      description: Unit amount
                      type: number
                    unit_of_measure:
                      description: Unit of measure
                      type: string
                  type: object
                type: array
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input or missing required fields
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Invoice Line Item(s)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/invoice/{lineItemId}:
    patch:
      operationId: v2_patchCostInvoiceLineItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: lineItemId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            related_cost_claim_line_num:
              description: Related claim line item number
              type: integer
          type: object
      responses:
        201:
          description: Line item successfully updated
          schema:
            properties:
              data:
                properties:
                  cost_invoice_line_description:
                    description: Description of the invoice line item
                    type: string
                  cost_invoice_line_name:
                    description: Name of the invoice line item
                    type: string
                  cost_invoice_line_num:
                    description: Internal identifier for invoice line item
                    type: integer
                  cost_invoice_num:
                    description: Related invoice number
                    type: integer
                  line_item_identifier:
                    description: User-friendly identifier for invoice line item
                    type: string
                  qty:
                    description: Quantity
                    type: number
                  related_claim_line_name:
                    description: Name of related claim line item
                    type: string
                  related_cost_claim_line_num:
                    description: Related claim line item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input
        401:
          description: Unauthorized
        404:
          description: Line item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Invoice Line Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/order:
    get:
      operationId: v2_getCostOrderLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional line item ID to fetch specific line item
        in: query
        name: lineItemId
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                cost_budget_item_name:
                  description: Name of related budget item
                  type: string
                cost_code_num:
                  description: Cost code number
                  type: string
                cost_order_line_description:
                  description: Description of the order line item
                  type: string
                cost_order_line_name:
                  description: Name of the order line item
                  type: string
                cost_order_line_num:
                  description: Internal identifier for order line item
                  type: integer
                cost_order_num:
                  description: Related order number
                  type: integer
                line_item_identifier:
                  description: User-friendly identifier for order line item
                  type: string
                qty:
                  description: Quantity
                  type: number
                related_cost_budget_item_num:
                  description: Related budget item number
                  type: integer
                total_amount:
                  description: Total amount for the line item
                  type: number
                unit_amount:
                  description: Unit amount
                  type: number
                unit_of_measure:
                  description: Unit of measure
                  type: string
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Order Line Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostOrderLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            items:
              items:
                properties:
                  cost_order_line_client_id:
                    description: Client-defined identifier for order line item
                    type: string
                  cost_order_line_description:
                    description: Description of the order line item
                    type: string
                  cost_order_line_name:
                    description: Name of the order line item
                    type: string
                  cost_order_num:
                    description: Related order number
                    type: integer
                  qty:
                    description: Quantity
                    type: number
                  related_cost_budget_item_num:
                    description: Related budget item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                required:
                - cost_order_line_name
                - cost_order_line_description
                - cost_order_num
                - total_amount
                type: object
              type: array
          type: object
      responses:
        201:
          description: Line item(s) successfully created
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_budget_item_name:
                      description: Name of related budget item
                      type: string
                    cost_code_num:
                      description: Cost code number
                      type: string
                    cost_order_line_description:
                      description: Description of the order line item
                      type: string
                    cost_order_line_name:
                      description: Name of the order line item
                      type: string
                    cost_order_line_num:
                      description: Internal identifier for order line item
                      type: integer
                    cost_order_num:
                      description: Related order number
                      type: integer
                    line_item_identifier:
                      description: User-friendly identifier for order line item
                      type: string
                    qty:
                      description: Quantity
                      type: number
                    related_cost_budget_item_num:
                      description: Related budget item number
                      type: integer
                    total_amount:
                      description: Total amount for the line item
                      type: number
                    unit_amount:
                      description: Unit amount
                      type: number
                    unit_of_measure:
                      description: Unit of measure
                      type: string
                  type: object
                type: array
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input or missing required fields
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Order Line Item(s)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/order/{lineItemId}:
    patch:
      operationId: v2_patchCostOrderLineItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: lineItemId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            related_cost_budget_item_num:
              description: Related budget item number
              type: integer
          type: object
      responses:
        201:
          description: Line item successfully updated
          schema:
            properties:
              data:
                properties:
                  cost_budget_item_name:
                    description: Name of related budget item
                    type: string
                  cost_code_num:
                    description: Cost code number
                    type: string
                  cost_order_line_description:
                    description: Description of the order line item
                    type: string
                  cost_order_line_name:
                    description: Name of the order line item
                    type: string
                  cost_order_line_num:
                    description: Internal identifier for order line item
                    type: integer
                  cost_order_num:
                    description: Related order number
                    type: integer
                  line_item_identifier:
                    description: User-friendly identifier for order line item
                    type: string
                  qty:
                    description: Quantity
                    type: number
                  related_cost_budget_item_num:
                    description: Related budget item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input
        401:
          description: Unauthorized
        404:
          description: Line item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Order Line Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/variation:
    get:
      operationId: v2_getCostVariationLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Optional line item ID to fetch specific line item
        in: query
        name: lineItemId
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                cost_budget_item_name:
                  description: Name of related budget item
                  type: string
                cost_code_num:
                  description: Cost code number
                  type: string
                cost_variation_line_description:
                  description: Description of the variation line item
                  type: string
                cost_variation_line_name:
                  description: Name of the variation line item
                  type: string
                cost_variation_line_num:
                  description: Internal identifier for variation line item
                  type: integer
                cost_variation_num:
                  description: Related variation number
                  type: integer
                line_item_identifier:
                  description: User-friendly identifier for variation line item
                  type: string
                qty:
                  description: Quantity
                  type: number
                related_cost_budget_item_num:
                  description: Related budget item number
                  type: integer
                total_amount:
                  description: Total amount for the line item
                  type: number
                unit_amount:
                  description: Unit amount
                  type: number
                unit_of_measure:
                  description: Unit of measure
                  type: string
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Line Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostVariationLineItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            items:
              items:
                properties:
                  cost_variation_line_client_id:
                    description: Client-defined identifier for variation line item
                    type: string
                  cost_variation_line_description:
                    description: Description of the variation line item
                    type: string
                  cost_variation_line_name:
                    description: Name of the variation line item
                    type: string
                  cost_variation_num:
                    description: Related variation number
                    type: integer
                  qty:
                    description: Quantity
                    type: number
                  related_cost_budget_item_num:
                    description: Related budget item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                required:
                - cost_variation_line_name
                - cost_variation_line_description
                - cost_variation_num
                - total_amount
                type: object
              type: array
          type: object
      responses:
        201:
          description: Line item(s) successfully created
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_budget_item_name:
                      description: Name of related budget item
                      type: string
                    cost_code_num:
                      description: Cost code number
                      type: string
                    cost_variation_line_description:
                      description: Description of the variation line item
                      type: string
                    cost_variation_line_name:
                      description: Name of the variation line item
                      type: string
                    cost_variation_line_num:
                      description: Internal identifier for variation line item
                      type: integer
                    cost_variation_num:
                      description: Related variation number
                      type: integer
                    line_item_identifier:
                      description: User-friendly identifier for variation line item
                      type: string
                    qty:
                      description: Quantity
                      type: number
                    related_cost_budget_item_num:
                      description: Related budget item number
                      type: integer
                    total_amount:
                      description: Total amount for the line item
                      type: number
                    unit_amount:
                      description: Unit amount
                      type: number
                    unit_of_measure:
                      description: Unit of measure
                      type: string
                  type: object
                type: array
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input or missing required fields
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Variation Line Item(s)
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/line-items/variation/{lineItemId}:
    patch:
      operationId: v2_patchCostVariationLineItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: lineItemId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            related_cost_budget_item_num:
              description: Related budget item number
              type: integer
          type: object
      responses:
        201:
          description: Line item successfully updated
          schema:
            properties:
              data:
                properties:
                  cost_budget_item_name:
                    description: Name of related budget item
                    type: string
                  cost_code_num:
                    description: Cost code number
                    type: string
                  cost_variation_line_description:
                    description: Description of the variation line item
                    type: string
                  cost_variation_line_name:
                    description: Name of the variation line item
                    type: string
                  cost_variation_line_num:
                    description: Internal identifier for variation line item
                    type: integer
                  cost_variation_num:
                    description: Related variation number
                    type: integer
                  line_item_identifier:
                    description: User-friendly identifier for variation line item
                    type: string
                  qty:
                    description: Quantity
                    type: number
                  related_cost_budget_item_num:
                    description: Related budget item number
                    type: integer
                  total_amount:
                    description: Total amount for the line item
                    type: number
                  unit_amount:
                    description: Unit amount
                    type: number
                  unit_of_measure:
                    description: Unit of measure
                    type: string
                type: object
              message:
                type: string
              updated_objects:
                type: array
            type: object
        400:
          description: Bad Request - Invalid input
        401:
          description: Unauthorized
        404:
          description: Line item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Variation Line Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/orders:
    get:
      operationId: v2_getCostOrders
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the cost order
                cost_contract_num:
                  description: Internal identifier for the associated cost contract
                cost_order_name:
                  description: Name of the cost order
                cost_order_num:
                  description: Internal identifier for cost order
                cost_order_type:
                  description: Type of cost order - either purchase or Variation
                created_by_user_email:
                  description: Email of the user who created the cost order
                currency:
                  description: Currency of the cost order
                date_created:
                  description: Date the cost order was created
                issuing_company_id:
                  description: Internal identifier for the issuing company
                order_identifier:
                  description: User-friendly identifier for cost order
                receiving_company_id:
                  description: Internal identifier for the receiving company
                remaining_amount:
                  description: Remaining amount of the cost order (if manually entered)
                retention_percent:
                  description: Retention percentage
                scope_of_work:
                  description: Scope of work for the cost order
                status:
                  description: Status of the cost order
                work_end_date:
                  description: End date of the work
                work_start_date:
                  description: Start date of the work
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Purchase & Variation Orders
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/orders/purchase:
    get:
      operationId: v2_getCostPurchaseOrders
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the cost order
                cost_order_name:
                  description: Name of the cost order
                cost_order_num:
                  description: Internal identifier for cost order
                cost_order_type:
                  description: Type of cost order - either purchase or Variation
                created_by_user_email:
                  description: Email of the user who created the cost order
                currency:
                  description: Currency of the cost order
                date_created:
                  description: Date the cost order was created
                issuing_company_id:
                  description: Internal identifier for the issuing company
                order_identifier:
                  description: User-friendly identifier for cost order
                receiving_company_id:
                  description: Internal identifier for the receiving company
                remaining_amount:
                  description: Remaining amount of the cost order (if manually entered)
                retention_percent:
                  description: Retention percentage
                scope_of_work:
                  description: Scope of work for the cost order
                status:
                  description: Status of the cost order
                work_end_date:
                  description: End date of the work
                work_start_date:
                  description: Start date of the work
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Purchase Orders
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postCostPurchaseOrder
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost order
            cost_order_client_id:
              description: Provided identifier for cost order
            cost_order_name:
              description: Name of the cost order
            currency:
              description: Currency of the cost order
            receiving_company_id:
              description: Internal identifier for the receiving company
            remaining_amount:
              description: Remaining amount of the cost order (if manually entered)
            retention_percent:
              description: Retention percentage
            scope_of_work:
              description: Scope of work for the cost order
            status:
              description: Status of the cost order
            work_end_date:
              description: End date of the work
            work_start_date:
              description: Start date of the work
          required:
          - cost_order_name
          - amount
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_contract_num:
                description: Internal identifier for the associated cost contract
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Purchase Order
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/orders/purchase/{costOrderId}:
    get:
      operationId: v2_getCostPurchaseOrderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costOrderId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Purchase Order By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostPurchaseOrderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costOrderId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost order
            cost_order_client_id:
              description: Provided identifier for cost order
            cost_order_name:
              description: Name of the cost order
            currency:
              description: Currency of the cost order
            receiving_company_id:
              description: Internal identifier for the receiving company
            remaining_amount:
              description: Remaining amount of the cost order (if manually entered)
            retention_percent:
              description: Retention percentage
            scope_of_work:
              description: Scope of work for the cost order
            status:
              description: Status of the cost order
            work_end_date:
              description: End date of the work
            work_start_date:
              description: Start date of the work
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_contract_num:
                description: Internal identifier for the associated cost contract
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Purchase Order By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/orders/variation:
    get:
      operationId: v2_getCostVariationOrders
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the cost order
                cost_order_name:
                  description: Name of the cost order
                cost_order_num:
                  description: Internal identifier for cost order
                cost_order_type:
                  description: Type of cost order - either purchase or Variation
                created_by_user_email:
                  description: Email of the user who created the cost order
                currency:
                  description: Currency of the cost order
                date_created:
                  description: Date the cost order was created
                issuing_company_id:
                  description: Internal identifier for the issuing company
                order_identifier:
                  description: User-friendly identifier for cost order
                receiving_company_id:
                  description: Internal identifier for the receiving company
                remaining_amount:
                  description: Remaining amount of the cost order (if manually entered)
                retention_percent:
                  description: Retention percentage
                scope_of_work:
                  description: Scope of work for the cost order
                status:
                  description: Status of the cost order
                work_end_date:
                  description: End date of the work
                work_start_date:
                  description: Start date of the work
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Orders
      tags:
      - Cost
      x-ds-test-enabled: true
    post:
      operationId: v2_postCostVariationOrder
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost order
            cost_order_client_id:
              description: Provided identifier for cost order
            cost_order_name:
              description: Name of the cost order
            currency:
              description: Currency of the cost order
            receiving_company_id:
              description: Internal identifier for the receiving company
            remaining_amount:
              description: Remaining amount of the cost order (if manually entered)
            retention_percent:
              description: Retention percentage
            scope_of_work:
              description: Scope of work for the cost order
            status:
              description: Status of the cost order
            work_end_date:
              description: End date of the work
            work_start_date:
              description: Start date of the work
          required:
          - cost_order_name
          - amount
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_contract_num:
                description: Internal identifier for the associated cost contract
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Variation Order
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/orders/variation/{costOrderId}:
    get:
      operationId: v2_getCostVariationOrderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costOrderId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Order By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostVariationOrderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costOrderId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the cost order
            cost_order_client_id:
              description: Provided identifier for cost order
            cost_order_name:
              description: Name of the cost order
            currency:
              description: Currency of the cost order
            receiving_company_id:
              description: Internal identifier for the receiving company
            remaining_amount:
              description: Remaining amount of the cost order (if manually entered)
            retention_percent:
              description: Retention percentage
            scope_of_work:
              description: Scope of work for the cost order
            status:
              description: Status of the cost order
            work_end_date:
              description: End date of the work
            work_start_date:
              description: Start date of the work
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the cost order
              cost_contract_num:
                description: Internal identifier for the associated cost contract
              cost_order_name:
                description: Name of the cost order
              cost_order_num:
                description: Internal identifier for cost order
              cost_order_type:
                description: Type of cost order - either purchase or Variation
              created_by_user_email:
                description: Email of the user who created the cost order
              currency:
                description: Currency of the cost order
              date_created:
                description: Date the cost order was created
              issuing_company_id:
                description: Internal identifier for the issuing company
              order_identifier:
                description: User-friendly identifier for cost order
              receiving_company_id:
                description: Internal identifier for the receiving company
              remaining_amount:
                description: Remaining amount of the cost order (if manually entered)
              retention_percent:
                description: Retention percentage
              scope_of_work:
                description: Scope of work for the cost order
              status:
                description: Status of the cost order
              work_end_date:
                description: End date of the work
              work_start_date:
                description: Start date of the work
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Variation Order By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/package-items:
    get:
      operationId: v2_getCostPackageItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Filter by parent package ID
        in: query
        name: costPackageNum
        required: false
        type: string
      - enum:
        - non-compliant
        - compliant
        - partially compliant
        in: query
        name: status
        required: false
        type: string
      - description: Search query
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_package_item_name:
                      type: string
                    cost_package_item_num:
                      type: string
                    cost_package_num:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    created_by_user_id:
                      type: string
                    description:
                      type: string
                    project_id:
                      type: integer
                    reviewer:
                      type: string
                    status:
                      enum:
                      - non-compliant
                      - compliant
                      - partially compliant
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                    updated_by_user_id:
                      type: string
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Package Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createCostPackageItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_package_item_name:
              type: string
            cost_package_num:
              type: string
            description:
              type: string
            reviewer:
              type: string
            status:
              enum:
              - non-compliant
              - compliant
              - partially compliant
              type: string
          required:
          - cost_package_item_name
          - cost_package_num
          - status
          - description
          type: object
      responses:
        201:
          description: Package item created successfully
          schema:
            properties:
              data:
                properties:
                  cost_package_item_name:
                    type: string
                  cost_package_item_num:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  description:
                    type: string
                  project_id:
                    type: integer
                  reviewer:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Package Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/package-items/{packageItemId}:
    delete:
      operationId: v2_deleteCostPackageItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageItemId
        required: true
        type: string
      responses:
        200:
          description: Package item deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Package item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Cost Package Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getCostPackageItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageItemId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  cost_package_item_name:
                    type: string
                  cost_package_item_num:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  description:
                    type: string
                  project_id:
                    type: integer
                  reviewer:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Package item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Package Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateCostPackageItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageItemId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_package_item_name:
              type: string
            cost_package_num:
              type: string
            description:
              type: string
            reviewer:
              type: string
            status:
              enum:
              - non-compliant
              - compliant
              - partially compliant
              type: string
          type: object
      responses:
        200:
          description: Package item updated successfully
          schema:
            properties:
              data:
                properties:
                  cost_package_item_name:
                    type: string
                  cost_package_item_num:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  description:
                    type: string
                  project_id:
                    type: integer
                  reviewer:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Package item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Cost Package Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/packages:
    get:
      operationId: v2_getCostPackages
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - enum:
        - not started
        - in review
        - approved with comments
        - approved
        in: query
        name: status
        required: false
        type: string
      - enum:
        - Structural
        - MEP
        - Fire Engineering
        - Architecture
        - Civil
        in: query
        name: discipline
        required: false
        type: string
      - description: Search query
        in: query
        name: q
        required: false
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    cost_package_name:
                      type: string
                    cost_package_num:
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    created_by_user_id:
                      type: string
                    discipline:
                      enum:
                      - Structural
                      - MEP
                      - Fire Engineering
                      - Architecture
                      - Civil
                      type: string
                    documents:
                      items:
                        properties:
                          cde_id:
                            type: string
                          cde_link:
                            type: string
                          display_file_name:
                            type: string
                          file_type:
                            type: string
                        type: object
                      type: array
                    due_date:
                      format: date-time
                      type: string
                    issues:
                      items:
                        properties:
                          id:
                            type: string
                          severity:
                            type: string
                          status:
                            type: string
                          title:
                            type: string
                        type: object
                      type: array
                    project_id:
                      type: integer
                    revision:
                      enum:
                      - Rev A
                      - Rev B
                      - Rev C
                      type: string
                    status:
                      enum:
                      - not started
                      - in review
                      - approved with comments
                      - approved
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                    updated_by_user_id:
                      type: string
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Packages
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createCostPackage
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_package_name:
              type: string
            discipline:
              enum:
              - Structural
              - MEP
              - Fire Engineering
              - Architecture
              - Civil
              type: string
            due_date:
              format: date-time
              type: string
            revision:
              enum:
              - Rev A
              - Rev B
              - Rev C
              type: string
            status:
              enum:
              - not started
              - in review
              - approved with comments
              - approved
              type: string
          required:
          - cost_package_name
          - discipline
          - revision
          - status
          type: object
      responses:
        201:
          description: Cost package created successfully
          schema:
            properties:
              data:
                properties:
                  cost_package_name:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  discipline:
                    type: string
                  documents:
                    items:
                      type: object
                    type: array
                  due_date:
                    format: date-time
                    type: string
                  issues:
                    items:
                      type: object
                    type: array
                  project_id:
                    type: integer
                  revision:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Cost Package
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/packages/{packageId}:
    delete:
      operationId: v2_deleteCostPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageId
        required: true
        type: string
      responses:
        200:
          description: Package deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Cost Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getCostPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  cost_package_name:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  discipline:
                    type: string
                  documents:
                    items:
                      type: object
                    type: array
                  due_date:
                    format: date-time
                    type: string
                  issues:
                    items:
                      type: object
                    type: array
                  project_id:
                    type: integer
                  revision:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateCostPackageById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: packageId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_package_name:
              type: string
            discipline:
              enum:
              - Structural
              - MEP
              - Fire Engineering
              - Architecture
              - Civil
              type: string
            due_date:
              format: date-time
              type: string
            revision:
              enum:
              - Rev A
              - Rev B
              - Rev C
              type: string
            status:
              enum:
              - not started
              - in review
              - approved with comments
              - approved
              type: string
          type: object
      responses:
        200:
          description: Package updated successfully
          schema:
            properties:
              data:
                properties:
                  cost_package_name:
                    type: string
                  cost_package_num:
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  created_by_user_id:
                    type: string
                  discipline:
                    type: string
                  documents:
                    items:
                      type: object
                    type: array
                  due_date:
                    format: date-time
                    type: string
                  issues:
                    items:
                      type: object
                    type: array
                  project_id:
                    type: integer
                  revision:
                    type: string
                  status:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  updated_by_user_id:
                    type: string
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Package not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Cost Package By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/payment-schedules:
    get:
      operationId: v2_getPaymentSchedules
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    attachments:
                      items:
                        properties:
                          cde_id:
                            type: string
                          created_by_company_id:
                            type: integer
                          created_by_user_email:
                            type: string
                        type: object
                      type: array
                    cost_payment_schedule_num:
                      type: integer
                    created_by_user_id:
                      type: string
                    currency:
                      type: string
                    due_date:
                      format: date
                      type: string
                    issued_date:
                      format: date
                      type: string
                    issuing_company_id:
                      type: integer
                    receiving_company_id:
                      type: integer
                    related_cost_claim_num:
                      type: integer
                    retention_amount:
                      format: float
                      type: number
                    schedule_identifier:
                      type: string
                    scheduled_amount:
                      format: float
                      type: number
                    withholdings:
                      items:
                        properties:
                          amount:
                            format: float
                            type: number
                          reason:
                            type: string
                        type: object
                      type: array
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Payment Schedules
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createPaymentSchedule
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            cost_payment_schedule_client_id:
              type: string
            currency:
              default: AUD
              type: string
            due_date:
              format: date
              type: string
            issued_date:
              format: date
              type: string
            issuing_company_id:
              type: integer
            receiving_company_id:
              type: integer
            related_cost_claim_num:
              type: integer
            retention_amount:
              format: float
              type: number
            scheduled_amount:
              format: float
              type: number
            withholdings:
              items:
                properties:
                  amount:
                    format: float
                    type: number
                  reason:
                    type: string
                required:
                - reason
                - amount
                type: object
              type: array
          required:
          - scheduled_amount
          - retention_amount
          - issuing_company_id
          - receiving_company_id
          - due_date
          - issued_date
          - related_cost_claim_num
          type: object
      responses:
        201:
          description: Payment schedule created successfully
          schema:
            properties:
              data:
                properties:
                  attachments:
                    items:
                      properties:
                        cde_id:
                          type: string
                        created_by_company_id:
                          type: integer
                        created_by_user_email:
                          type: string
                      type: object
                    type: array
                  cost_payment_schedule_num:
                    type: integer
                  created_by_user_id:
                    type: string
                  currency:
                    type: string
                  due_date:
                    format: date
                    type: string
                  issued_date:
                    format: date
                    type: string
                  issuing_company_id:
                    type: integer
                  receiving_company_id:
                    type: integer
                  related_cost_claim_num:
                    type: integer
                  retention_amount:
                    format: float
                    type: number
                  schedule_identifier:
                    type: string
                  scheduled_amount:
                    format: float
                    type: number
                  withholdings:
                    items:
                      properties:
                        amount:
                          format: float
                          type: number
                        reason:
                          type: string
                      type: object
                    type: array
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Payment Schedule
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/payment-schedules/{paymentScheduleId}:
    get:
      operationId: v2_getPaymentScheduleById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: paymentScheduleId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  attachments:
                    items:
                      properties:
                        cde_id:
                          type: string
                        created_by_company_id:
                          type: integer
                        created_by_user_email:
                          type: string
                      type: object
                    type: array
                  cost_payment_schedule_num:
                    type: integer
                  created_by_user_id:
                    type: string
                  currency:
                    type: string
                  due_date:
                    format: date
                    type: string
                  issued_date:
                    format: date
                    type: string
                  issuing_company_id:
                    type: integer
                  receiving_company_id:
                    type: integer
                  related_cost_claim_num:
                    type: integer
                  retention_amount:
                    format: float
                    type: number
                  schedule_identifier:
                    type: string
                  scheduled_amount:
                    format: float
                    type: number
                  withholdings:
                    items:
                      properties:
                        amount:
                          format: float
                          type: number
                        reason:
                          type: string
                      type: object
                    type: array
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Payment schedule not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Payment Schedule By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updatePaymentScheduleById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: paymentScheduleId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            currency:
              type: string
            due_date:
              format: date
              type: string
            issued_date:
              format: date
              type: string
            retention_amount:
              format: float
              type: number
            scheduled_amount:
              format: float
              type: number
            withholdings:
              items:
                properties:
                  amount:
                    format: float
                    type: number
                  reason:
                    type: string
                required:
                - reason
                - amount
                type: object
              type: array
          type: object
      responses:
        200:
          description: Payment schedule updated successfully
          schema:
            properties:
              data:
                properties:
                  attachments:
                    items:
                      properties:
                        cde_id:
                          type: string
                        created_by_company_id:
                          type: integer
                        created_by_user_email:
                          type: string
                      type: object
                    type: array
                  cost_payment_schedule_num:
                    type: integer
                  created_by_user_id:
                    type: string
                  currency:
                    type: string
                  due_date:
                    format: date
                    type: string
                  issued_date:
                    format: date
                    type: string
                  issuing_company_id:
                    type: integer
                  receiving_company_id:
                    type: integer
                  related_cost_claim_num:
                    type: integer
                  retention_amount:
                    format: float
                    type: number
                  schedule_identifier:
                    type: string
                  scheduled_amount:
                    format: float
                    type: number
                  withholdings:
                    items:
                      properties:
                        amount:
                          format: float
                          type: number
                        reason:
                          type: string
                      type: object
                    type: array
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Payment schedule not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Payment Schedule By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/qto:
    get:
      operationId: v2_getQTOs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: QTO type filter
        in: query
        name: type
        required: false
        type: string
      - description: QTO status filter
        enum:
        - in_progress
        - completed
        in: query
        name: status
        required: false
        type: string
      - description: Search query
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - default: 50
        description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  properties:
                    author:
                      type: string
                    comments_count:
                      type: integer
                    created_at:
                      format: date-time
                      type: string
                    estimate_id:
                      type: string
                    files_count:
                      type: integer
                    items:
                      items:
                        type: object
                      type: array
                    items_count:
                      type: integer
                    project_id:
                      type: integer
                    qto_id:
                      type: string
                    qto_name:
                      type: string
                    status:
                      type: string
                    type:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get QTOs
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createQTO
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            author:
              description: Author of the QTO
              type: string
            estimate_id:
              description: Link to estimate
              type: string
            items:
              description: Array of QTO items (optional)
              items:
                properties:
                  assigned_user:
                    type: string
                  breakdown:
                    items:
                      properties:
                        description:
                          type: string
                        formula:
                          type: string
                        result:
                          type: string
                      type: object
                    type: array
                  code:
                    type: string
                  cost_code_id:
                    type: string
                  location:
                    type: string
                  notes:
                    type: string
                  qto_item_name:
                    type: string
                  quantity:
                    type: number
                  specifications:
                    items:
                      properties:
                        content:
                          type: string
                        title:
                          type: string
                      type: object
                    type: array
                  unit:
                    type: string
                  unit_rate:
                    type: number
                  volume:
                    type: number
                type: object
              type: array
            qto_name:
              description: Name of the QTO
              type: string
            status:
              description: QTO status
              enum:
              - in_progress
              - completed
              type: string
            type:
              description: Type/category of QTO
              type: string
          required:
          - qto_name
          - type
          - status
          type: object
      responses:
        201:
          description: QTO created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create QTO
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/qto/{qtoId}:
    delete:
      operationId: v2_deleteQTOById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      responses:
        200:
          description: QTO deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: QTO not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete QTO By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getQTOById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  author:
                    type: string
                  comments:
                    type: array
                  comments_count:
                    type: integer
                  created_at:
                    format: date-time
                    type: string
                  estimate_id:
                    type: string
                  files:
                    type: array
                  files_count:
                    type: integer
                  items:
                    items:
                      type: object
                    type: array
                  items_count:
                    type: integer
                  project_id:
                    type: integer
                  qto_id:
                    type: string
                  qto_name:
                    type: string
                  status:
                    type: string
                  type:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: QTO not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get QTO By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateQTOById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            author:
              type: string
            estimate_id:
              type: string
            items:
              description: Complete items array replacement
              items:
                type: object
              type: array
            qto_name:
              type: string
            status:
              enum:
              - in_progress
              - completed
              type: string
            type:
              type: string
          type: object
      responses:
        200:
          description: QTO updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: QTO not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update QTO By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/qto/{qtoId}/items:
    get:
      operationId: v2_getQTOItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: QTO not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get QTO Items
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createQTOItem
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_user:
              type: string
            breakdown:
              items:
                properties:
                  description:
                    type: string
                  formula:
                    type: string
                  result:
                    type: string
                type: object
              type: array
            code:
              type: string
            cost_code_id:
              type: string
            location:
              type: string
            notes:
              type: string
            qto_item_name:
              type: string
            quantity:
              type: number
            specifications:
              items:
                properties:
                  content:
                    type: string
                  title:
                    type: string
                type: object
              type: array
            unit:
              type: string
            unit_rate:
              type: number
            volume:
              type: number
          type: object
      responses:
        201:
          description: QTO item created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: QTO not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create QTO Item
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/qto/{qtoId}/items/{itemId}:
    delete:
      operationId: v2_deleteQTOItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: QTO item deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: QTO or item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete QTO Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getQTOItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: QTO or item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get QTO Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateQTOItemById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: qtoId
        required: true
        type: string
      - in: path
        name: itemId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            assigned_user:
              type: string
            breakdown:
              type: array
            code:
              type: string
            cost_code_id:
              type: string
            location:
              type: string
            notes:
              type: string
            qto_item_name:
              type: string
            quantity:
              type: number
            specifications:
              type: array
            unit:
              type: string
            unit_rate:
              type: number
            volume:
              type: number
          type: object
      responses:
        200:
          description: QTO item updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: QTO or item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update QTO Item By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/retentions:
    get:
      operationId: v2_getRetentionReleases
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                created_at:
                  description: Date retention release was created
                created_by_user_id:
                  description: User ID who created retention release
                id:
                  description: Internal identifier for retention release (UUID)
                marked_as_released_by_user_id:
                  description: User ID who marked retention as released
                milestone_name:
                  description: Name of the milestone
                retention_amount:
                  description: Retention amount
                retention_percentage:
                  description: Retention percentage
                retention_reference_no:
                  description: Reference number for retention
                retention_release_date:
                  description: Date when retention is released
                retention_released_by_company_id:
                  description: ID of company releasing retention
                retention_released_to_company_id:
                  description: ID of company receiving retention
                status:
                  description: Status of retention (pending/released/scheduled)
                updated_at:
                  description: Date retention release was last updated
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Retention Releases
      tags:
      - Cost
      x-min-permissions: isCostUser
    post:
      operationId: v2_postRetentionRelease
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            marked_as_released_by_user_id:
              description: User ID who marked retention as released
            milestone_name:
              description: Name of the milestone
            retention_amount:
              description: Retention amount
            retention_percentage:
              description: Retention percentage
            retention_reference_no:
              description: Reference number for retention
            retention_release_date:
              description: Date when retention is released
            retention_released_by_company_id:
              description: ID of company releasing retention
            retention_released_to_company_id:
              description: ID of company receiving retention
            status:
              default: pending
              description: Status of retention (pending/released/scheduled)
          required:
          - milestone_name
          - retention_amount
          - retention_released_by_company_id
          - retention_released_to_company_id
          type: object
      responses:
        201:
          description: Retention release created successfully
          schema:
            properties:
              data:
                properties:
                  created_at:
                    description: Date retention release was created
                  created_by_user_id:
                    description: User ID who created retention release
                  id:
                    description: Internal identifier for retention release
                  marked_as_released_by_user_id:
                    description: User ID who marked retention as released
                  milestone_name:
                    description: Name of the milestone
                  retention_amount:
                    description: Retention amount
                  retention_percentage:
                    description: Retention percentage
                  retention_reference_no:
                    description: Reference number for retention
                  retention_release_date:
                    description: Date when retention is released
                  retention_released_by_company_id:
                    description: ID of company releasing retention
                  retention_released_to_company_id:
                    description: ID of company receiving retention
                  status:
                    description: Status of retention (pending/released/scheduled)
                  updated_at:
                    description: Date retention release was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Retention Release
      tags:
      - Cost
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/retentions/{retentionId}:
    get:
      operationId: v2_getRetentionReleaseById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: retentionId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  created_at:
                    description: Date retention release was created
                  created_by_user_id:
                    description: User ID who created retention release
                  id:
                    description: Internal identifier for retention release
                  marked_as_released_by_user_id:
                    description: User ID who marked retention as released
                  milestone_name:
                    description: Name of the milestone
                  retention_amount:
                    description: Retention amount
                  retention_percentage:
                    description: Retention percentage
                  retention_reference_no:
                    description: Reference number for retention
                  retention_release_date:
                    description: Date when retention is released
                  retention_released_by_company_id:
                    description: ID of company releasing retention
                  retention_released_to_company_id:
                    description: ID of company receiving retention
                  status:
                    description: Status of retention (pending/released/scheduled)
                  updated_at:
                    description: Date retention release was last updated
                type: object
              message:
                description: Response message
            type: object
        401:
          description: Unauthorized
        404:
          description: Retention release not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Retention Release By Id
      tags:
      - Cost
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchRetentionReleaseById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: retentionId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            marked_as_released_by_user_id:
              description: User ID who marked retention as released
            milestone_name:
              description: Name of the milestone
            retention_amount:
              description: Retention amount
            retention_percentage:
              description: Retention percentage
            retention_reference_no:
              description: Reference number for retention
            retention_release_date:
              description: Date when retention is released
            retention_released_by_company_id:
              description: ID of company releasing retention
            retention_released_to_company_id:
              description: ID of company receiving retention
            status:
              description: Status of retention (pending/released/scheduled)
          type: object
      responses:
        201:
          description: Retention release updated successfully
          schema:
            properties:
              data:
                properties:
                  created_at:
                    description: Date retention release was created
                  created_by_user_id:
                    description: User ID who created retention release
                  id:
                    description: Internal identifier for retention release
                  marked_as_released_by_user_id:
                    description: User ID who marked retention as released
                  milestone_name:
                    description: Name of the milestone
                  retention_amount:
                    description: Retention amount
                  retention_percentage:
                    description: Retention percentage
                  retention_reference_no:
                    description: Reference number for retention
                  retention_release_date:
                    description: Date when retention is released
                  retention_released_by_company_id:
                    description: ID of company releasing retention
                  retention_released_to_company_id:
                    description: ID of company receiving retention
                  status:
                    description: Status of retention (pending/released/scheduled)
                  updated_at:
                    description: Date retention release was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Retention release not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Retention Release By Id
      tags:
      - Cost
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop:
    get:
      operationId: v2_getSOPs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: query
        name: page
        type: integer
      - in: query
        name: limit
        type: integer
      - in: query
        name: status
        type: string
      - in: query
        name: q
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    change_requests:
                      type: array
                    deliverables:
                      type: array
                    dependencies:
                      type: array
                    description:
                      description: SOP description
                    id:
                      description: SOP ID
                    linked_rfqs:
                      type: array
                    linked_subcontracts:
                      type: array
                    milestones:
                      type: array
                    original_budget:
                      description: Original budget
                    progress:
                      description: Progress percentage
                    revised_budget:
                      description: Revised budget
                    status:
                      description: SOP status
                    title:
                      description: SOP title
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOPs
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOP
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            approval_required:
              type: boolean
            description:
              type: string
            end_date:
              type: string
            original_budget:
              type: number
            priority_level:
              type: string
            progress:
              type: number
            responsible_party:
              type: string
            revised_budget:
              type: number
            start_date:
              type: string
            status:
              type: string
            title:
              type: string
          required:
          - title
          - description
          type: object
      responses:
        201:
          description: SOP successfully created
          schema:
            properties:
              data:
                properties:
                  description:
                    description: SOP description
                  id:
                    description: SOP ID
                  title:
                    description: SOP title
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}:
    delete:
      operationId: v2_deleteSOPById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: SOP successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getSOPById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  change_requests:
                    type: array
                  deliverables:
                    type: array
                  dependencies:
                    type: array
                  description:
                    description: SOP description
                  id:
                    description: SOP ID
                  linked_rfqs:
                    type: array
                  linked_subcontracts:
                    type: array
                  milestones:
                    type: array
                  progress:
                    description: Progress percentage
                  status:
                    description: SOP status
                  title:
                    description: SOP title
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: SOP successfully updated
          schema:
            properties:
              data:
                properties:
                  description:
                    description: SOP description
                  id:
                    description: SOP ID
                  title:
                    description: SOP title
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP By ID
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/change_requests:
    get:
      operationId: v2_getSOPChangeRequests
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Change Requests
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPChangeRequest
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            approved_date:
              type: string
            cost_impact:
              type: number
            description:
              type: string
            impact_assessment:
              type: string
            reason:
              type: string
            requested_date:
              type: string
            schedule_impact:
              type: string
            status:
              type: string
          required:
          - description
          - requested_date
          type: object
      responses:
        201:
          description: Change request successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Change Request
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/change_requests/{changeRequestId}:
    delete:
      operationId: v2_deleteSOPChangeRequest
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: changeRequestId
        required: true
        type: string
      responses:
        200:
          description: Change request successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Change Request
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPChangeRequest
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: changeRequestId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Change request successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Change Request
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/deliverables:
    get:
      operationId: v2_getSOPDeliverables
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Deliverables
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPDeliverable
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              type: string
            due_date:
              type: string
            name:
              type: string
            responsible_party:
              type: string
            status:
              type: string
          required:
          - name
          - due_date
          type: object
      responses:
        201:
          description: Deliverable successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Deliverable
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/deliverables/{deliverableId}:
    delete:
      operationId: v2_deleteSOPDeliverable
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: deliverableId
        required: true
        type: string
      responses:
        200:
          description: Deliverable successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Deliverable
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPDeliverable
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: deliverableId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Deliverable successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Deliverable
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/dependencies:
    get:
      operationId: v2_getSOPDependencies
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Dependencies
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            dependency_type:
              type: string
            lag_time:
              type: number
            predecessor_task:
              type: string
            successor_task:
              type: string
          required:
          - predecessor_task
          - successor_task
          type: object
      responses:
        201:
          description: Dependency successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Dependency
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/dependencies/{dependencyId}:
    delete:
      operationId: v2_deleteSOPDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: dependencyId
        required: true
        type: string
      responses:
        200:
          description: Dependency successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Dependency
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPDependency
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: dependencyId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Dependency successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Dependency
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/linked_rfqs:
    get:
      operationId: v2_getSOPLinkedRFQs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Linked RFQs
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPLinkedRFQ
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            notes:
              type: string
            relationship_type:
              type: string
            rfq_id:
              type: string
          required:
          - rfq_id
          type: object
      responses:
        201:
          description: Linked RFQ successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Linked RFQ
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/linked_rfqs/{linkedRfqId}:
    delete:
      operationId: v2_deleteSOPLinkedRFQ
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: linkedRfqId
        required: true
        type: string
      responses:
        200:
          description: Linked RFQ successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Linked RFQ
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPLinkedRFQ
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: linkedRfqId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Linked RFQ successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Linked RFQ
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/linked_subcontracts:
    get:
      operationId: v2_getSOPLinkedSubcontracts
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Linked Subcontracts
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPLinkedSubcontract
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            contract_id:
              type: string
            notes:
              type: string
            relationship_type:
              type: string
          required:
          - contract_id
          type: object
      responses:
        201:
          description: Linked subcontract successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Linked Subcontract
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/linked_subcontracts/{linkedSubcontractId}:
    delete:
      operationId: v2_deleteSOPLinkedSubcontract
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: linkedSubcontractId
        required: true
        type: string
      responses:
        200:
          description: Linked subcontract successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Linked Subcontract
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPLinkedSubcontract
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: linkedSubcontractId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Linked subcontract successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Linked Subcontract
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/milestones:
    get:
      operationId: v2_getSOPMilestones
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get SOP Milestones
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postSOPMilestone
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              type: string
            due_date:
              type: string
            name:
              type: string
            progress:
              type: number
            status:
              type: string
          required:
          - name
          - due_date
          type: object
      responses:
        201:
          description: Milestone successfully created
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create SOP Milestone
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/sop/{sopId}/milestones/{milestoneId}:
    delete:
      operationId: v2_deleteSOPMilestone
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: milestoneId
        required: true
        type: string
      responses:
        200:
          description: Milestone successfully deleted
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete SOP Milestone
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchSOPMilestone
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: sopId
        required: true
        type: string
      - in: path
        name: milestoneId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        200:
          description: Milestone successfully updated
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update SOP Milestone
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/tenders:
    get:
      operationId: v2_getTenders
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - enum:
        - commercial
        - residential
        - infrastructure
        - education
        - healthcare
        - industrial
        - retail
        - other
        in: query
        name: type
        required: false
        type: string
      - enum:
        - will_bid
        - undecided
        in: query
        name: bid_status
        required: false
        type: string
      - enum:
        - in_progress
        - review
        - new
        in: query
        name: tender_status
        required: false
        type: string
      - enum:
        - open
        - invited
        - shortlisted
        in: query
        name: stage
        required: false
        type: string
      - description: Include related project information
        in: query
        name: includeProjectInfo
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              count:
                type: integer
              items:
                items:
                  properties:
                    bid_status:
                      type: string
                    client_contact:
                      description: Denormalized client contact for display
                      type: string
                    client_id:
                      description: Reference to workspace client (Firestore document
                        ID)
                      type: string
                    client_name:
                      description: Denormalized client name for display
                      type: string
                    created_at:
                      format: date-time
                      type: string
                    description:
                      type: string
                    due_date:
                      format: date-time
                      type: string
                    estimator:
                      description: Optional estimator name or identifier
                      type: string
                    id:
                      type: string
                    location:
                      type: string
                    name:
                      type: string
                    project_id:
                      type: string
                    stage:
                      type: string
                    tags:
                      type: array
                    teams:
                      type: array
                    tender_status:
                      type: string
                    type:
                      type: string
                    updated_at:
                      format: date-time
                      type: string
                    value:
                      type: number
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tenders
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createTender
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            bid_status:
              enum:
              - will_bid
              - undecided
              type: string
            client_contact:
              description: Denormalized client contact for display
              type: string
            client_id:
              description: Reference to workspace client (Firestore document ID, 32-char
                hex string)
              type: string
            client_name:
              description: Denormalized client name for display
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            estimator:
              description: Optional estimator name or identifier
              type: string
            location:
              type: string
            name:
              type: string
            notes:
              type: string
            project_info:
              type: object
            stage:
              enum:
              - open
              - invited
              - shortlisted
              type: string
            tags:
              items:
                properties:
                  tag_id:
                    type: string
                  tag_name:
                    type: string
                type: object
              type: array
            teams:
              items:
                properties:
                  name:
                    type: string
                  role:
                    type: string
                  user_email:
                    type: string
                  user_id:
                    type: string
                type: object
              type: array
            tender_status:
              enum:
              - in_progress
              - review
              - new
              type: string
            type:
              enum:
              - commercial
              - residential
              - infrastructure
              - education
              - healthcare
              - industrial
              - retail
              - other
              type: string
            value:
              type: number
          required:
          - name
          - type
          - bid_status
          - tender_status
          - stage
          type: object
      responses:
        201:
          description: Tender created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Tender
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/tenders/enums:
    get:
      operationId: v2_getTenderEnums
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              bid_statuses:
                type: array
              stages:
                type: array
              tender_statuses:
                type: array
              tender_types:
                type: array
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender Enums
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/tenders/{tenderId}:
    delete:
      operationId: v2_deleteTenderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: tenderId
        required: true
        type: string
      responses:
        200:
          description: Tender deleted successfully
          schema:
            properties:
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete Tender By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getTenderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: tenderId
        required: true
        type: string
      - description: Include related project information
        in: query
        name: includeProjectInfo
        required: false
        type: boolean
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  bid_status:
                    type: string
                  client_contact:
                    description: Denormalized client contact for display
                    type: string
                  client_id:
                    description: Reference to workspace client (Firestore document
                      ID)
                    type: string
                  client_name:
                    description: Denormalized client name for display
                    type: string
                  created_at:
                    format: date-time
                    type: string
                  description:
                    type: string
                  due_date:
                    format: date-time
                    type: string
                  estimator:
                    description: Optional estimator name or identifier
                    type: string
                  id:
                    type: string
                  location:
                    type: string
                  name:
                    type: string
                  notes:
                    type: string
                  project_id:
                    type: string
                  stage:
                    type: string
                  tags:
                    type: array
                  teams:
                    type: array
                  tender_status:
                    type: string
                  type:
                    type: string
                  updated_at:
                    format: date-time
                    type: string
                  value:
                    type: number
                type: object
              message:
                type: string
            type: object
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Tender By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateTenderById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: tenderId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bid_status:
              enum:
              - will_bid
              - undecided
              type: string
            client_contact:
              description: Denormalized client contact for display
              type: string
            client_id:
              description: Reference to workspace client (Firestore document ID, 32-char
                hex string)
              type: string
            client_name:
              description: Denormalized client name for display
              type: string
            description:
              type: string
            due_date:
              format: date-time
              type: string
            estimator:
              description: Optional estimator name or identifier
              type: string
            location:
              type: string
            name:
              type: string
            notes:
              type: string
            stage:
              enum:
              - open
              - invited
              - shortlisted
              type: string
            tags:
              type: array
            teams:
              type: array
            tender_status:
              enum:
              - in_progress
              - review
              - new
              type: string
            type:
              enum:
              - commercial
              - residential
              - infrastructure
              - education
              - healthcare
              - industrial
              - retail
              - other
              type: string
            value:
              type: number
          type: object
      responses:
        200:
          description: Tender updated successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Tender not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update Tender By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/user:
    get:
      operationId: v2_getCostUserDetails
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              id_company:
                description: Company id
              is_primary_company:
                description: Bool representing if user is primary company
              username:
                description: Email of user that made request
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Cost User details
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/variation-requests:
    get:
      operationId: v2_getCostVariationRequests
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                amount:
                  description: Amount of the variation request
                cost_variation_req_num:
                  description: Internal identifier for variation request
                created_by_user_email:
                  description: Email of the user who created the claim
                currency:
                  description: Currency of the variation request
                date_created:
                  description: Date the variation request was created
                date_modified:
                  description: Date the variation request was last modified
                description:
                  description: Description for the variation request
                related_cost_claim_num:
                  description: Id of the related cost claim the variation request
                    is raised from
                related_cost_order_num:
                  description: Id of the related cost order the variation request
                    is raised from
                status:
                  description: Status of the variation request
                variation_order_num:
                  description: Internal identifier for the variation order created
                    from approved request
                variation_req_by_company_id:
                  description: Internal identifier for the company raising the variation
                    request
                variation_req_identifer:
                  description: User-friendly identifier for variation request
                variation_req_name:
                  description: Name of the variation request
                variation_req_to_company_id:
                  description: Internal identifier for the company the variation request
                    is raised to
                work_end_date:
                  description: Start of work period for variation request
                work_start_date:
                  description: Start of work period for variation request
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Variation Requests
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_postVariationRequest
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the variation request
            cost_variation_req_client_id:
              description: User-friendly identifier for variation request
            currency:
              description: Currency of the variation request
            description:
              description: Description for the variation request
            related_cost_claim_num:
              description: Id of the related cost claim the variation request is raised
                from
            related_cost_order_num:
              description: Id of the related cost order the variation request is raised
                from
            status:
              description: Status of the variation request
            variation_req_name:
              description: Name of the variation request
            variation_req_to_company_id:
              description: Internal identifier for the company the variation request
                is raised to
            work_end_date:
              description: Start of work period for variation request
            work_start_date:
              description: Start of work period for variation request
          required:
          - variation_req_name
          - amount
          - variation_req_to_company_id
          type: object
      responses:
        201:
          description: Object successfully created
          schema:
            properties:
              amount:
                description: Amount of the variation request
              cost_variation_req_num:
                description: Internal identifier for variation request
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the variation request
              date_created:
                description: Date the variation request was created
              date_modified:
                description: Date the variation request was last modified
              description:
                description: Description for the variation request
              related_cost_claim_num:
                description: Id of the related cost claim the variation request is
                  raised from
              related_cost_order_num:
                description: Id of the related cost order the variation request is
                  raised from
              status:
                description: Status of the variation request
              variation_order_num:
                description: Internal identifier for the variation order created from
                  approved request
              variation_req_by_company_id:
                description: Internal identifier for the company raising the variation
                  request
              variation_req_identifer:
                description: User-friendly identifier for variation request
              variation_req_name:
                description: Name of the variation request
              variation_req_to_company_id:
                description: Internal identifier for the company the variation request
                  is raised to
              work_end_date:
                description: Start of work period for variation request
              work_start_date:
                description: Start of work period for variation request
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create Variation Request
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/cost/variation-requests/{costVariationReqId}:
    get:
      operationId: v2_getCostVariationRequestById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costVariationReqId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              amount:
                description: Amount of the variation request
              cost_variation_req_num:
                description: Internal identifier for variation request
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the variation request
              date_created:
                description: Date the variation request was created
              date_modified:
                description: Date the variation request was last modified
              description:
                description: Description for the variation request
              related_cost_claim_num:
                description: Id of the related cost claim the variation request is
                  raised from
              related_cost_order_num:
                description: Id of the related cost order the variation request is
                  raised from
              status:
                description: Status of the variation request
              variation_order_num:
                description: Internal identifier for the variation order created from
                  approved request
              variation_req_by_company_id:
                description: Internal identifier for the company raising the variation
                  request
              variation_req_identifer:
                description: User-friendly identifier for variation request
              variation_req_name:
                description: Name of the variation request
              variation_req_to_company_id:
                description: Internal identifier for the company the variation request
                  is raised to
              work_end_date:
                description: Start of work period for variation request
              work_start_date:
                description: Start of work period for variation request
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Invoice By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_patchCostVariationReqById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: costVariationReqId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            amount:
              description: Amount of the variation request
            currency:
              description: Currency of the variation request
            description:
              description: Description for the variation request
            status:
              description: Status of the variation request
            variation_order_num:
              description: Internal identifier for the variation order created from
                approved request
            variation_req_name:
              description: Name of the variation request
            work_end_date:
              description: Start of work period for variation request
            work_start_date:
              description: Start of work period for variation request
          type: object
      responses:
        201:
          description: Object successfully edited
          schema:
            properties:
              amount:
                description: Amount of the variation request
              cost_variation_req_num:
                description: Internal identifier for variation request
              created_by_user_email:
                description: Email of the user who created the claim
              currency:
                description: Currency of the variation request
              date_created:
                description: Date the variation request was created
              date_modified:
                description: Date the variation request was last modified
              description:
                description: Description for the variation request
              related_cost_claim_num:
                description: Id of the related cost claim the variation request is
                  raised from
              related_cost_order_num:
                description: Id of the related cost order the variation request is
                  raised from
              status:
                description: Status of the variation request
              variation_order_num:
                description: Internal identifier for the variation order created from
                  approved request
              variation_req_by_company_id:
                description: Internal identifier for the company raising the variation
                  request
              variation_req_identifer:
                description: User-friendly identifier for variation request
              variation_req_name:
                description: Name of the variation request
              variation_req_to_company_id:
                description: Internal identifier for the company the variation request
                  is raised to
              work_end_date:
                description: Start of work period for variation request
              work_start_date:
                description: Start of work period for variation request
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit Variation Request By Id
      tags:
      - Cost
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/data:
    get:
      operationId: v2_getSupportedUploads
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: List of supported upload formats
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get supported upload formats
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/data/any:
    post:
      operationId: v2_uploadAnyData
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: formData
        name: file
        required: true
        type: string
      - in: header
        name: X-Horizon-Product
        required: false
        type: string
      responses:
        200:
          description: File uploaded successfully
        400:
          description: Bad request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload any data file
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/data/{data_classification}:
    get:
      operationId: v2_getClassificationFormats
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: data_classification
        required: true
        type: string
      responses:
        200:
          description: List of supported formats for the classification
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get supported formats for data classification
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/data/{data_classification}/{data_source}/{export_type}/{export_version}:
    post:
      operationId: v2_uploadClassifiedData
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: data_classification
        required: true
        type: string
      - in: path
        name: data_source
        required: true
        type: string
      - in: path
        name: export_type
        required: true
        type: string
      - in: path
        name: export_version
        required: true
        type: string
      - in: formData
        name: file
        required: true
        type: string
      - in: header
        name: X-Horizon-Product
        required: false
        type: string
      responses:
        200:
          description: File uploaded and processed successfully
        400:
          description: Bad request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload classified data file
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/download/{ds_data_type}:
    get:
      operationId: v2_getProjectDownload
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: ds_data_type
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Download a file from the project
      tags:
      - Download
  /v2/workspaces/{workspaceId}/projects/{projectId}/files:
    get:
      operationId: v2_v2_getFiles
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Filter by file category
        in: query
        name: category
        required: false
        type: string
      - description: Filter by file type
        in: query
        name: file_type
        required: false
        type: string
      - description: Filter by related document ID
        in: query
        name: related_document_id
        required: false
        type: string
      - description: Include all versions for each file in response
        in: query
        name: include_versions
        required: false
        type: boolean
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get list of files
      tags:
      - Get Data
    post:
      operationId: v2_v2_postFiles
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Action type (signed-urls, process)
        in: query
        name: action
        required: false
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            files:
              description: Array of file objects
              items:
                properties:
                  category:
                    type: string
                  file_size_bytes:
                    type: integer
                  filename:
                    type: string
                  filetype:
                    type: string
                  related_document_id:
                    type: string
                type: object
              type: array
          type: object
      responses:
        200:
          description: Successfully returns signed URLs or processes files
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get signed URLs for file upload or create file metadata
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/files/{fileId}:
    delete:
      operationId: v2_v2_deleteFile
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully deleted file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete file
      tags:
      - Upload Data
    get:
      operationId: v2_v2_getFile
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: fileId
        required: true
        type: string
      responses:
        200:
          description: Successfully returns file details
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get single file details
      tags:
      - Get Data
    patch:
      operationId: v2_v2_patchFile
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            category:
              type: string
            description:
              type: string
            display_name:
              type: string
            related_document_id:
              type: string
          type: object
      responses:
        200:
          description: Successfully updated file
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update file metadata
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/files/{fileId}/navis/{collectorKey}:
    post:
      consumes:
      - application/json
      operationId: v2_navisfileupload
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: The file id
        in: path
        name: fileId
        required: true
        type: string
      - description: The collector key
        in: path
        name: collectorKey
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bucket_name:
              description: The name of the cloud storage bucket
            crawlKey:
              description: The crawl key
            end_time:
              description: 'Datetime value of end of navis extraction - expected format:
                %d/%m/%Y %I:%M:%S %p'
            start_time:
              description: 'Datetime value of start of navis extraction - expected
                format: %d/%m/%Y %I:%M:%S %p'
          required:
          - start_time
          - end_time
          - bucket_name
          - crawlKey
          type: object
      responses:
        200:
          description: Successfully uploaded navis data
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload navis data to Deep Space at the file level
      tags:
      - Navis Integration
  /v2/workspaces/{workspaceId}/projects/{projectId}/files/{fileId}/new-version:
    post:
      operationId: v2_v2_postFileNewVersionProjectLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: fileId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            change_description:
              description: Description of changes made
              type: string
            file_size_bytes:
              description: Size of the file in bytes
              type: integer
            file_url:
              description: URL of the uploaded file
              type: string
            new_filename:
              description: Filename for the new version
              type: string
          type: object
      responses:
        200:
          description: Successfully uploaded new version
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload new version of project-level file
      tags:
      - Upload Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/files/{fileId}/versions:
    get:
      operationId: v2_v2_getFileVersionsProjectLevel
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: fileId
        required: true
        type: string
      - description: Page number for pagination
        in: query
        name: page
        required: false
        type: integer
      - description: Number of items per page
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successfully returns file versions
        401:
          description: Unauthorized
        404:
          description: File not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get project-level file version history
      tags:
      - Get Data
  /v2/workspaces/{workspaceId}/projects/{projectId}/hz-msprojectupload:
    delete:
      description: Delete all scheduling tasks, WBS items, resources, constraints,
        and dependencies for a project
      operationId: v2_cleanAllProjectData
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Successfully cleaned all project data
        207:
          description: Partially completed - some operations failed
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Clean all project data
      tags:
      - MS Project Upload
    post:
      consumes:
      - multipart/form-data
      description: Upload and process MS Project XML files for Firestore scheduling
        data integration
      operationId: v2_uploadMSProjectXML
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: MS Project XML file
        format: binary
        in: formData
        name: file
        required: true
        type: string
      - default: true
        description: Whether to create WBS structure
        in: formData
        name: create_wbs
        required: false
        type: boolean
      - default: false
        description: Whether to overwrite existing items
        in: formData
        name: overwrite_existing
        required: false
        type: boolean
      - description: Horizon product identifier
        in: header
        name: X-Horizon-Product
        required: false
        type: string
      produces:
      - application/json
      responses:
        200:
          description: MS Project file processed successfully
          schema:
            properties:
              dependencies_created:
                description: Number of dependencies created in Firestore
                type: integer
              message:
                type: string
              processing_details:
                properties:
                  create_wbs:
                    type: boolean
                  file_type:
                    type: string
                  overwrite_existing:
                    type: boolean
                  total_items_created:
                    type: integer
                type: object
              resources_created:
                description: Number of resources created in Firestore
                type: integer
              resources_parsed:
                description: Number of resources parsed from XML
                type: integer
              success:
                type: boolean
              task_mapping:
                description: Mapping of MS Project task UIDs to Firestore action IDs
                type: object
              tasks_created:
                description: Number of actions created in Firestore
                type: integer
              tasks_parsed:
                description: Number of tasks parsed from XML
                type: integer
              warnings:
                description: Processing warnings if any
                items:
                  type: string
                type: array
              wbs_items_created:
                description: Number of WBS items created in Firestore
                type: integer
            type: object
        400:
          description: Bad request - Invalid file or parameters
          schema:
            properties:
              error:
                description: Error message
                type: string
              step:
                description: Processing step where error occurred
                type: string
              success:
                example: false
                type: boolean
            type: object
        401:
          description: Unauthorized - Invalid or missing authentication
        413:
          description: Payload too large - File size exceeds limits
        415:
          description: Unsupported media type - File must be XML format
        422:
          description: Unprocessable entity - Valid file but processing failed
          schema:
            properties:
              conversion_summary:
                description: Summary of conversion results if available
                type: object
              error:
                description: Processing error details
                type: string
              parse_summary:
                description: Summary of parsed data if available
                type: object
              step:
                enum:
                - xml_parsing
                - firestore_conversion
                - firestore_write
                type: string
              success:
                example: false
                type: boolean
            type: object
        500:
          description: Internal server error
          schema:
            properties:
              error:
                description: Server error message
                type: string
              success:
                example: false
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Upload MS Project XML file
      tags:
      - MS Project Upload
  /v2/workspaces/{workspaceId}/projects/{projectId}/implementation:
    get:
      operationId: v2_getProjectImplementationChecklist
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            items:
              properties:
                check_name:
                  description: Name of implementation check
                check_result:
                  description: Yes/No result if check passed
                check_workload:
                  description: Implementation Workload (eg. BIM, Material Tracking...)
                first_metric:
                  description: Text describing a metric related to the check (eg.
                    There were 10 Required Parameters found)
                help_link:
                  description: Link to Deep Space knowledgebase for the check
                help_text:
                  description: Help text for the check
                scope:
                  description: Implementation Scope (eg. Project)
              type: object
            type: array
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Project Implementation Checklist
      tags:
      - implementation
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations:
    get:
      operationId: v2_getProjectIntegrations
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get integrations on a project
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}:
    get:
      operationId: v2_getProjectIntegrationFields
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get mapping fields for an integration
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
    patch:
      operationId: v2_patchProjectIntegration
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            mappingFieldValue1:
              description: The first mapping field value
              type: string
            mappingFieldValue2:
              description: The first mapping field value
              type: string
          required:
          - mappingFieldValue1
          - mappingFieldValue2
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update an integration configuration on a project
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
    post:
      operationId: v2_postProjectIntegration
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing configuration values, differs depending
            on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Configure an integration on a project
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}/advanced-config:
    delete:
      operationId: v2_deleteProjectIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Integration successfully disconnected and configuration deleted
        401:
          description: Unauthorized
        404:
          description: Advanced configuration not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete advanced configuration and disconnect integration on a project
      tags:
      - External Integrations
    get:
      operationId: v2_getProjectIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get advanced configuration for an integration on a project
      tags:
      - External Integrations
    patch:
      operationId: v2_patchProjectIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing advanced configuration values, differs
            depending on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update advanced configuration for an integration on a project
      tags:
      - External Integrations
    post:
      operationId: v2_postProjectIntegrationAdvancedConfig
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: json object containing advanced configuration values, differs
            depending on integration
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create advanced configuration for an integration on a project
      tags:
      - External Integrations
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}/advanced-config/mapping:
    get:
      operationId: v2_getProjectIntegrationAdvancedConfigMapping
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successfully retrieved mapping data from external provider
          schema:
            properties:
              accounts:
                description: Chart of Accounts from external provider
                type: array
              tracking_categories:
                description: Tracking Categories from external provider
                type: array
            type: object
        401:
          description: Unauthorized
        404:
          description: Integration not found or not configured
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get mapping data (Chart of Accounts and Tracking Categories) for advanced
        config setup on a project
      tags:
      - External Integrations
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}/refresh:
    post:
      operationId: v2_postProjectIntegrationRefresh
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Refresh access token for an integration on a project
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}/sync:
    post:
      operationId: v2_postProjectIntegrationSync
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Sync data for an integration on a project
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/integrations/{integrationId}/webhook:
    post:
      operationId: v2_postProjectIntegrationWebhook
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: integrationId
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      summary: Webhook endpoint for a project-level integration
      tags:
      - External Integrations
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/jobs:
    get:
      operationId: v2_getJobs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Get jobs associated with a specific app
        in: query
        name: app
        required: false
        type: string
      responses:
        202:
          description: Job started, returns job guid
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get supported jobs
      tags:
      - Jobs
  /v2/workspaces/{workspaceId}/projects/{projectId}/jobs/{job_guid}/status:
    get:
      operationId: v2_getJobStatus
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: job_guid
        required: true
        type: integer
      responses:
        202:
          description: Returns job status
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get job status
      tags:
      - Jobs
  /v2/workspaces/{workspaceId}/projects/{projectId}/jobs/{job_id}:
    post:
      operationId: v2_startJob
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: job_id
        required: true
        type: integer
      responses:
        202:
          description: Job started, returns job guid
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Start a new job
      tags:
      - Jobs
  /v2/workspaces/{workspaceId}/projects/{projectId}/link/{linkType}:
    get:
      operationId: v2_getProjectLinkType
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: linkType
        required: true
        type: string
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get specified link type for a project
      tags:
      - Links
      x-min-permissions: isRevitUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/logout/{userId}:
    post:
      description: Used to track logout times, mainly for concurrent seat licenses
      operationId: v2_logoutUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: email
        in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Logout a user for a certain project
      tags:
      - Users
  /v2/workspaces/{workspaceId}/projects/{projectId}/menu:
    get:
      description: Returns the menu structure for a project based on the project's
        template
      operationId: v2_getMenu
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Menu structure for the project
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get menu structure for a project
      tags:
      - Info
  /v2/workspaces/{workspaceId}/projects/{projectId}/milestone:
    get:
      operationId: v2_getMilestones
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: A list of current milestones
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get list of current milestones
      tags:
      - Milestones
    post:
      operationId: v2_postMilestone
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            discipline:
              description: The date of the milestone, expected format 'yyyy-mm-dd'
              type: string
            filename:
              description: The name of the milestone
              type: string
          required:
          - milestone_name
          - milestone_date
          type: object
      responses:
        201:
          description: Successfully created new milestone
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create new milestone
      tags:
      - Milestones
  /v2/workspaces/{workspaceId}/projects/{projectId}/navis/{collectorKey}:
    post:
      consumes:
      - application/json
      operationId: v2_navisprojectupload
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: The collector key
        in: path
        name: collectorKey
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            bucket_name:
              description: The name of the cloud storage bucket
            crawlKey:
              description: The crawl key
            end_time:
              description: 'Datetime value of end of navis extraction - expected format:
                %d/%m/%Y %I:%M:%S %p'
            start_time:
              description: 'Datetime value of start of navis extraction - expected
                format: %d/%m/%Y %I:%M:%S %p'
          required:
          - start_time
          - end_time
          - bucket_name
          - crawlKey
          type: object
      responses:
        200:
          description: Successfully uploaded navis data
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Upload navis data to Deep Space at the project level
      tags:
      - Navis Integration
  /v2/workspaces/{workspaceId}/projects/{projectId}/notifications:
    get:
      operationId: v2_getProjectNotifications
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - description: User ID to get notifications for (admin only)
        in: query
        name: user_id
        required: false
        type: string
      - default: 50
        description: Number of notifications to return
        in: query
        name: limit
        required: false
        type: integer
      - default: 0
        description: Number of notifications to skip
        in: query
        name: offset
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  type: object
                type: array
              limit:
                type: integer
              message:
                type: string
              offset:
                type: integer
              total:
                type: integer
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get project-level notifications for the authenticated user
      tags:
      - Notifications
    patch:
      operationId: v2_acknowledgeProjectNotifications
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            notification_ids:
              description: Array of notification IDs to mark as read
              items:
                type: integer
              type: array
          required:
          - notification_ids
          type: object
      responses:
        200:
          description: Notifications acknowledged successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Acknowledge/read project-level notifications for the authenticated
        user
      tags:
      - Notifications
    post:
      operationId: v2_createProjectNotification
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            attachments:
              description: Array of CDE IDs to attach
              items:
                type: string
              type: array
            email:
              default: true
              description: Whether to send via email
              type: boolean
            importance:
              default: notification
              description: Importance level of the notification
              enum:
              - notification
              - warning
              - alert
              type: string
            inApp:
              default: true
              description: Whether to send in-app notification
              type: boolean
            jsonFields:
              description: JSON fields to populate the template
              type: object
            notificationTemplateId:
              description: ID of the notification template to use
              type: string
            recipients:
              properties:
                bcc:
                  description: Blind carbon copy recipients
                  items:
                    type: string
                  type: array
                cc:
                  description: Carbon copy recipients
                  items:
                    type: string
                  type: array
                to:
                  description: Primary recipients
                  items:
                    type: string
                  type: array
              required:
              - to
              type: object
            scheduledToSendDate:
              description: When to send the notification (optional)
              format: date-time
              type: string
          required:
          - notificationTemplateId
          - recipients
          type: object
      responses:
        201:
          description: Notification created successfully
          schema:
            properties:
              data:
                type: object
              message:
                type: string
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        403:
          description: Forbidden (admin access required)
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a project-level notification (admin only)
      tags:
      - Notifications
  /v2/workspaces/{workspaceId}/projects/{projectId}/outseta:
    patch:
      consumes:
      - application/json
      operationId: v2_patchProjectOutseta
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            webflow_collection_id:
              description: The webflow collection id
              type: string
          required:
          - webflow_collection_id
          type: object
      responses:
        200:
          description: Account successfully updated
        400:
          description: Bad Request
        401:
          description: Insufficent permissions
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update an outseta account
      tags:
      - Outseta
      x-min-permissions: admin
    post:
      consumes:
      - application/json
      operationId: v2_postProjectOutseta
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            billing_stage:
              description: The billing stage of the project (Outseta)
              type: string
            ds_license_type:
              description: The license type of the project
              type: string
            primary_contact_email:
              description: Primary contact (Outseta) for the project
              type: string
            project_weekly_notifications:
              description: dictionary of days of the week as bools
              properties:
                Friday:
                  type: boolean
                Monday:
                  type: boolean
                Saturday:
                  type: boolean
                Sunday:
                  type: boolean
                Thursday:
                  type: boolean
                Tuesday:
                  type: boolean
                Wednesday:
                  type: boolean
              type: object
          required:
          - primary_contact_email
          - billing_stage
          - project_weekly_notifications
          - ds_license_type
          type: object
      responses:
        201:
          description: Account successfully created
        400:
          description: Bad Request
        401:
          description: Insufficent permissions
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create an outseta account for a project
      tags:
      - Outseta
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/projects/{projectId}/parameters:
    get:
      description: Get list of unique parameters from all parameter sets for a project
      operationId: v2_getParameters
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: A list of parameters
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get parameters for project
      tags:
      - Info
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/apps/{contentPack}:
    post:
      operationId: v2_postPowerBiApps
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: contentPack
        required: true
        type: string
      responses:
        202:
          description: App deployment initiated
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Deploy power bi apps by content pack
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/deploy/apps:
    post:
      operationId: v2_deployPbiApp
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            content_pack:
              type: string
            id_dashboard_deployment_job:
              type: integer
          required:
          - id_dashboard_deployment_job
          - content_pack
          type: object
      responses:
        200:
          description: Deployment initiated
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Deploy power bi app
      tags:
      - Power BI
      x-min-permissions: admin
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/embedded/apps/{appName}:
    get:
      operationId: v2_getEmbeddedPbiApp
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: appName
        required: true
        type: string
      responses:
        200:
          description: App returned
        401:
          description: Unauthorized
        404:
          description: App not found in project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get PBI Embedded App
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/filters:
    get:
      operationId: v2_getPbiFilters
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Filters for pbi
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get filters for power bi
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/refresh/apps:
    get:
      operationId: v2_getPowerBiApps
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get power bi apps & latest refresh dates in a project
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/refresh/apps/{appName}:
    post:
      operationId: v2_refreshPowerBiApp
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: appName
        required: true
        type: string
      responses:
        200:
          description: App refresh initiated
        204:
          description: App refresh not iniated for some reason (eg. already in progress)
        401:
          description: Unauthorized
        404:
          description: App not found in project
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Refresh Power BI app in project
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects/{projectId}/powerbi/syncback/apps/{appName}:
    post:
      operationId: v2_syncbackPbiApp
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: appName
        required: true
        type: string
      responses:
        200:
          description: Syncback complete
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Run syncback for power bi app
      tags:
      - Power BI
  /v2/workspaces/{workspaceId}/projects/{projectId}/project-resources-delete:
    delete:
      description: Bulk delete all resources for a workspace and project. Uses Firestore
        batch operations for efficient processing of large datasets (processes in
        batches of 500 documents).
      operationId: v2_deleteAllResources
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successfully deleted resources
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: Resources not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete all resources
      tags:
      - Resources
  /v2/workspaces/{workspaceId}/projects/{projectId}/project-wbs-delete:
    delete:
      description: Bulk delete all WBS items for a workspace and project. Uses Firestore
        batch operations for efficient processing of large datasets (processes in
        batches of 500 documents).
      operationId: v2_deleteAllWbsItems
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Successfully deleted WBS items
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: WBS items not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete all WBS items
      tags:
      - WBS
      x-min-permissions: isProjectManager
  /v2/workspaces/{workspaceId}/projects/{projectId}/reports/wip/claims-by-month:
    get:
      description: Returns claims grouped by month with variance from previous month
      operationId: v2_getMonthlyClaims
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project ID
        in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Monthly aggregated claims data
          schema:
            properties:
              data:
                properties:
                  periodClaims:
                    items:
                      properties:
                        claimCount:
                          type: integer
                        claimDate:
                          type: string
                        claimValue:
                          type: number
                        id:
                          type: string
                        period:
                          type: string
                        status:
                          type: string
                        varianceFromPrevious:
                          type: object
                      type: object
                    type: array
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get monthly aggregated claims for a project
      tags:
      - Reports
  /v2/workspaces/{workspaceId}/projects/{projectId}/resources:
    get:
      description: Retrieves resources for a specific project within a workspace.
        Supports both legacy and Firestore implementations.
      operationId: v2_getProjectResources
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Optional header to enable Firestore-based implementation
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: false
        type: string
      - description: Search query for resource name, type, or description (Firestore
          only)
        in: query
        name: q
        required: false
        type: string
      - description: Filter by resource type
        in: query
        name: resource_type
        required: false
        type: string
      - default: 100
        description: Maximum number of resources to return (Firestore only)
        in: query
        maximum: 1000
        minimum: 1
        name: limit
        required: false
        type: integer
      - default: 0
        description: Number of resources to skip for pagination (Firestore only)
        in: query
        minimum: 0
        name: offset
        required: false
        type: integer
      responses:
        200:
          description: Project resources retrieved successfully
        400:
          description: Invalid request parameters
        401:
          description: Unauthorized
        404:
          description: Project not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get project resources
      tags:
      - Resources
    post:
      description: Creates a new resource within a project. Supports both legacy and
        Firestore implementations via X-Horizon-Product header.
      operationId: v2_createProjectResource
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Optional header to enable Firestore-based implementation
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: false
        type: string
      - description: Resource creation data
        in: body
        name: body
        required: true
        schema:
          properties:
            allocate_place:
              description: Location where resource is allocated (Firestore only)
              type: string
            allocate_time:
              description: Time when resource should be allocated (Firestore only)
              format: date-time
              type: string
            allocation:
              description: Resource allocation percentage (Firestore only)
              maximum: 100
              minimum: 0
              type: number
            company_id:
              description: Associated company ID (Firestore only)
              type: integer
            description:
              description: Detailed resource description (Firestore only)
              type: string
            parent_resource_id:
              description: Parent resource ID for hierarchical organization
              type: string
            resource_mapping:
              description: Additional resource mapping data (legacy compatibility)
              properties:
                related_column:
                  description: Related database column
                  type: string
                related_table:
                  description: Related database table
                  type: string
              type: object
            resource_name:
              description: Name of the resource
              type: string
            resource_type:
              default: unknown
              description: Type of resource
              enum:
              - equipment
              - machinery
              - tool
              - material
              - labor
              - vehicle
              - unknown
              type: string
          required:
          - resource_name
          - resource_type
          type: object
      responses:
        201:
          description: Resource created successfully
        400:
          description: Invalid request data
        401:
          description: Unauthorized
        409:
          description: Resource already exists
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create a new resource
      tags:
      - Resources
  /v2/workspaces/{workspaceId}/projects/{projectId}/resources/{resourceId}:
    delete:
      description: Soft deletes a resource (sets is_deleted flag to true). Firestore
        implementation only - requires X-Horizon-Product header.
      operationId: v2_deleteResource
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Resource identifier
        in: path
        name: resourceId
        required: true
        type: string
      - description: Required header for Firestore-based resource deletion
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      - default: false
        description: Whether to permanently delete the resource (true) or soft delete
          (false)
        in: query
        name: hard_delete
        required: false
        type: boolean
      responses:
        200:
          description: Resource deleted successfully
        401:
          description: Unauthorized - Missing X-Horizon-Product header
        404:
          description: Resource not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete resource
      tags:
      - Resources
    get:
      description: Retrieves detailed information for a specific resource. Firestore
        implementation only - requires X-Horizon-Product header.
      operationId: v2_getResourceDetails
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Resource identifier
        in: path
        name: resourceId
        required: true
        type: string
      - description: Required header for Firestore-based resource details
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: Resource details retrieved successfully
        401:
          description: Unauthorized - Missing X-Horizon-Product header or invalid
            authentication
        404:
          description: Resource not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get specific resource details
      tags:
      - Resources
    patch:
      description: Partially updates an existing resource. Firestore implementation
        only - requires X-Horizon-Product header.
      operationId: v2_patchResource
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Resource identifier
        in: path
        name: resourceId
        required: true
        type: string
      - description: Required header for Firestore-based resource updates
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      - description: Partial resource update data
        in: body
        name: body
        required: true
        schema:
          properties:
            allocate_place:
              description: Updated allocation location
              type: string
            allocate_time:
              description: Updated allocation time
              format: date-time
              type: string
            allocation:
              description: Updated allocation percentage
              maximum: 100
              minimum: 0
              type: number
            company_id:
              description: Associated company ID (required for Subcontractor resources)
              type: integer
            description:
              description: Updated resource description
              type: string
            resource_name:
              description: Updated name of the resource
              type: string
            resource_type:
              description: Updated resource type
              enum:
              - equipment
              - machinery
              - tool
              - material
              - labor
              - vehicle
              - unknown
              type: string
          type: object
      responses:
        200:
          description: Resource updated successfully
        400:
          description: Invalid update data
        401:
          description: Unauthorized - Missing X-Horizon-Product header
        404:
          description: Resource not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Partially update resource
      tags:
      - Resources
    put:
      description: Updates an existing resource. Firestore implementation only - requires
        X-Horizon-Product header.
      operationId: v2_updateResource
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Resource identifier
        in: path
        name: resourceId
        required: true
        type: string
      - description: Required header for Firestore-based resource updates
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      - description: Resource update data
        in: body
        name: body
        required: true
        schema:
          properties:
            allocate_place:
              description: Updated allocation location
              type: string
            allocate_time:
              description: Updated allocation time
              format: date-time
              type: string
            allocation:
              description: Updated allocation percentage
              maximum: 100
              minimum: 0
              type: number
            company_id:
              description: Associated company ID (required for Subcontractor resources)
              type: integer
            description:
              description: Updated resource description
              type: string
            resource_name:
              description: Updated name of the resource
              type: string
            resource_type:
              description: Updated resource type
              enum:
              - equipment
              - machinery
              - tool
              - material
              - labor
              - vehicle
              - unknown
              type: string
          type: object
      responses:
        200:
          description: Resource updated successfully
        400:
          description: Invalid update data
        401:
          description: Unauthorized - Missing X-Horizon-Product header
        404:
          description: Resource not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update resource
      tags:
      - Resources
  /v2/workspaces/{workspaceId}/projects/{projectId}/rfq/responses:
    get:
      operationId: v2_getAllRFQResponsesByProject
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - description: Filter by supplier company ID
        in: query
        name: supplierCompanyId
        required: false
        type: integer
      - description: Filter by minimum evaluation score
        in: query
        name: evaluationScoreMin
        required: false
        type: number
      - description: Filter by maximum evaluation score
        in: query
        name: evaluationScoreMax
        required: false
        type: number
      - default: 1
        description: Page number for pagination
        format: int32
        in: query
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of items per page
        format: int32
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    clarifications:
                      description: Clarifications text
                      type: string
                    created_at:
                      description: Date response was created
                    created_by_user_id:
                      description: User ID who created response
                    duration:
                      description: Quoted duration in days
                      type: integer
                    evaluation_score:
                      description: Evaluation score out of 100
                      type: number
                    exclusions:
                      description: Exclusions text
                      type: string
                    id:
                      description: Internal identifier for RFQ response (UUID)
                    notes:
                      description: Additional notes
                      type: string
                    project_id:
                      description: Project ID this response belongs to
                    rfq_id:
                      description: RFQ ID this response belongs to
                    scope_of_work_quotes:
                      description: Array of quotes per scope of work item
                      items:
                        type: object
                      type: array
                    submitted_date:
                      description: Date when response was submitted
                    supplier_company_id:
                      description: Company ID of the supplier
                    supplier_company_name:
                      description: Supplier company name
                      type: string
                    total_amount:
                      description: Total quoted amount
                      type: number
                    updated_at:
                      description: Date response was last updated
                  type: object
                type: array
              limit:
                description: Items per page
                type: integer
              message:
                description: Response message
              page:
                description: Current page number
                type: integer
              total_count:
                description: Total number of items
                type: integer
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get All RFQ Responses By Project
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/rfq/rfqs:
    get:
      operationId: v2_getRFQs
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - description: Filter by RFQ title (case-sensitive search)
        in: query
        name: title
        required: false
        type: string
      - description: Filter by response format
        enum:
        - Standard price schedule
        - Detailed breakdown
        - Custom template
        in: query
        name: responseFormat
        required: false
        type: string
      - description: Filter by evaluation criteria
        enum:
        - Price (100%)
        - Price (70%), Quality (30%)
        - Price (60%), Experience (20%), Capacity (20%)
        in: query
        name: evaluationCriteria
        required: false
        type: string
      - description: Filter by project ID
        in: query
        name: filterProjectId
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        format: int32
        in: query
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of items per page
        format: int32
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    attached_documents:
                      description: Array of CDE IDs for attached documents
                      items:
                        type: string
                      type: array
                    created_at:
                      description: Date RFQ was created
                    created_by_user_id:
                      description: User ID who created RFQ
                    estimated_value:
                      description: Estimated value of the RFQ
                    evaluation_criteria:
                      description: Evaluation criteria for responses
                      enum:
                      - Price (100%)
                      - Price (70%), Quality (30%)
                      - Price (60%), Experience (20%), Capacity (20%)
                    id:
                      description: Internal identifier for RFQ (UUID)
                    response_due_date:
                      description: Date when responses are due
                    response_format:
                      description: Required response format
                      enum:
                      - Standard price schedule
                      - Detailed breakdown
                      - Custom template
                    scope_of_work:
                      description: Scope of work object with id and description
                      properties:
                        description:
                          description: Scope of work description
                        id:
                          description: Scope of work ID
                      type: object
                    suppliers:
                      description: Array of company IDs for suppliers
                      items:
                        type: integer
                      type: array
                    title:
                      description: RFQ title
                    updated_at:
                      description: Date RFQ was last updated
                  type: object
                type: array
              limit:
                description: Items per page
              message:
                description: Response message
              page:
                description: Current page number
              total_count:
                description: Total number of items
            type: object
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get RFQs (Requests for Quotation)
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createRFQ
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            attached_documents:
              description: Array of CDE IDs for attached documents
              items:
                type: string
              type: array
            estimated_value:
              description: Estimated value of the RFQ
              type: number
            evaluation_criteria:
              default: Price (100%)
              description: Evaluation criteria for responses
              enum:
              - Price (100%)
              - Price (70%), Quality (30%)
              - Price (60%), Experience (20%), Capacity (20%)
              type: string
            response_due_date:
              description: Date when responses are due (YYYY-MM-DD or DD/MM/YYYY format)
              type: string
            response_format:
              default: Standard price schedule
              description: Required response format
              enum:
              - Standard price schedule
              - Detailed breakdown
              - Custom template
              type: string
            scope_of_work:
              description: Scope of work object with id and description
              properties:
                description:
                  description: Scope of work description
                id:
                  description: Scope of work ID
              type: object
            suppliers:
              description: Array of company IDs for suppliers
              items:
                type: integer
              type: array
            title:
              description: RFQ title
              type: string
          required:
          - title
          - scope_of_work
          - response_due_date
          - estimated_value
          type: object
      responses:
        201:
          description: RFQ created successfully
          schema:
            properties:
              data:
                properties:
                  attached_documents:
                    description: Array of CDE IDs for attached documents
                  created_at:
                    description: Date RFQ was created
                  created_by_user_id:
                    description: User ID who created RFQ
                  estimated_value:
                    description: Estimated value of the RFQ
                  evaluation_criteria:
                    description: Evaluation criteria for responses
                  id:
                    description: Internal identifier for RFQ
                  response_due_date:
                    description: Date when responses are due
                  response_format:
                    description: Required response format
                  scope_of_work:
                    description: Scope of work object
                  suppliers:
                    description: Array of company IDs for suppliers
                  title:
                    description: RFQ title
                  updated_at:
                    description: Date RFQ was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create RFQ (Request for Quotation)
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/rfq/rfqs/{rfqId}:
    delete:
      operationId: v2_deleteRFQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      responses:
        200:
          description: RFQ deleted successfully
          schema:
            properties:
              message:
                description: Response message
            type: object
        401:
          description: Unauthorized
        404:
          description: RFQ not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete RFQ By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getRFQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  attached_documents:
                    description: Array of CDE IDs for attached documents
                  created_at:
                    description: Date RFQ was created
                  created_by_user_id:
                    description: User ID who created RFQ
                  estimated_value:
                    description: Estimated value of the RFQ
                  evaluation_criteria:
                    description: Evaluation criteria for responses
                  id:
                    description: Internal identifier for RFQ
                  response_due_date:
                    description: Date when responses are due
                  response_format:
                    description: Required response format
                  scope_of_work:
                    description: Scope of work object
                  suppliers:
                    description: Array of company IDs for suppliers
                  title:
                    description: RFQ title
                  updated_at:
                    description: Date RFQ was last updated
                type: object
              message:
                description: Response message
            type: object
        401:
          description: Unauthorized
        404:
          description: RFQ not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get RFQ By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateRFQById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            attached_documents:
              description: Array of CDE IDs for attached documents
              items:
                type: string
              type: array
            estimated_value:
              description: Estimated value of the RFQ
              type: number
            evaluation_criteria:
              description: Evaluation criteria for responses
              enum:
              - Price (100%)
              - Price (70%), Quality (30%)
              - Price (60%), Experience (20%), Capacity (20%)
              type: string
            response_due_date:
              description: Date when responses are due
              type: string
            response_format:
              description: Required response format
              enum:
              - Standard price schedule
              - Detailed breakdown
              - Custom template
              type: string
            scope_of_work:
              description: Scope of work object
              properties:
                description:
                  description: Scope of work description
                id:
                  description: Scope of work ID
              type: object
            suppliers:
              description: Array of company IDs for suppliers
              items:
                type: integer
              type: array
            title:
              description: RFQ title
              type: string
          type: object
      responses:
        200:
          description: RFQ updated successfully
          schema:
            properties:
              data:
                properties:
                  attached_documents:
                    description: Array of CDE IDs for attached documents
                  created_at:
                    description: Date RFQ was created
                  created_by_user_id:
                    description: User ID who created RFQ
                  estimated_value:
                    description: Estimated value of the RFQ
                  evaluation_criteria:
                    description: Evaluation criteria for responses
                  id:
                    description: Internal identifier for RFQ
                  response_due_date:
                    description: Date when responses are due
                  response_format:
                    description: Required response format
                  scope_of_work:
                    description: Scope of work object
                  suppliers:
                    description: Array of company IDs for suppliers
                  title:
                    description: RFQ title
                  updated_at:
                    description: Date RFQ was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: RFQ not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update RFQ By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/rfq/rfqs/{rfqId}/responses:
    get:
      operationId: v2_getRFQResponses
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - description: Filter by supplier company ID
        in: query
        name: supplierCompanyId
        required: false
        type: integer
      - description: Filter by minimum evaluation score
        in: query
        name: evaluationScoreMin
        required: false
        type: number
      - description: Filter by maximum evaluation score
        in: query
        name: evaluationScoreMax
        required: false
        type: number
      - default: 1
        description: Page number for pagination
        format: int32
        in: query
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of items per page
        format: int32
        in: query
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                items:
                  properties:
                    clarifications:
                      description: Array of clarifications
                      items:
                        type: string
                      type: array
                    created_at:
                      description: Date response was created
                    created_by_user_id:
                      description: User ID who created response
                    duration:
                      description: Quoted duration in days
                      type: integer
                    evaluation_score:
                      description: Evaluation score out of 100
                      type: number
                    exclusions:
                      description: Array of exclusions
                      items:
                        type: string
                      type: array
                    id:
                      description: Internal identifier for RFQ response (UUID)
                    notes:
                      description: Additional notes
                      type: string
                    rfq_id:
                      description: RFQ ID this response belongs to
                    scope_of_work_quotes:
                      description: Array of quotes per scope of work item
                      items:
                        properties:
                          quoted_value:
                            description: Quoted value for this scope
                            type: number
                          scope_id:
                            description: Scope of work ID
                        type: object
                      type: array
                    submitted_date:
                      description: Date when response was submitted
                    supplier_company_id:
                      description: Company ID of the supplier
                    total_amount:
                      description: Total quoted amount
                      type: number
                    updated_at:
                      description: Date response was last updated
                  type: object
                type: array
              limit:
                description: Items per page
              message:
                description: Response message
              page:
                description: Current page number
              total_count:
                description: Total number of items
            type: object
        401:
          description: Unauthorized
        404:
          description: RFQ not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get RFQ Responses
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    post:
      operationId: v2_createRFQResponse
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            clarifications:
              description: Array of clarifications (dot point list)
              items:
                type: string
              type: array
            duration:
              description: Quoted duration in days
              type: integer
            evaluation_score:
              description: Evaluation score out of 100 (0-100)
              maximum: 100
              minimum: 0
              type: number
            exclusions:
              description: Array of exclusions (dot point list)
              items:
                type: string
              type: array
            notes:
              description: Additional notes
              type: string
            scope_of_work_quotes:
              description: Array of quotes per scope of work item
              items:
                properties:
                  quoted_value:
                    description: Quoted value for this scope
                    type: number
                  scope_id:
                    description: Scope of work ID
                type: object
              type: array
            submitted_date:
              description: Date when response was submitted (YYYY-MM-DD or DD/MM/YYYY
                format)
              type: string
            supplier_company_id:
              description: Company ID of the supplier
              type: integer
            total_amount:
              description: Total quoted amount
              type: number
          required:
          - supplier_company_id
          - total_amount
          - duration
          type: object
      responses:
        201:
          description: RFQ response created successfully
          schema:
            properties:
              data:
                properties:
                  clarifications:
                    description: Array of clarifications
                  created_at:
                    description: Date response was created
                  created_by_user_id:
                    description: User ID who created response
                  duration:
                    description: Quoted duration in days
                  evaluation_score:
                    description: Evaluation score out of 100
                  exclusions:
                    description: Array of exclusions
                  id:
                    description: Internal identifier for RFQ response
                  notes:
                    description: Additional notes
                  rfq_id:
                    description: RFQ ID this response belongs to
                  scope_of_work_quotes:
                    description: Array of quotes per scope of work item
                  submitted_date:
                    description: Date when response was submitted
                  supplier_company_id:
                    description: Company ID of the supplier
                  total_amount:
                    description: Total quoted amount
                  updated_at:
                    description: Date response was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: RFQ not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create RFQ Response
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/rfq/rfqs/{rfqId}/responses/{responseId}:
    delete:
      operationId: v2_deleteRFQResponseById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - in: path
        name: responseId
        required: true
        type: string
      responses:
        200:
          description: RFQ response deleted successfully
          schema:
            properties:
              message:
                description: Response message
            type: object
        401:
          description: Unauthorized
        404:
          description: RFQ response not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete RFQ Response By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    get:
      operationId: v2_getRFQResponseById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - in: path
        name: responseId
        required: true
        type: string
      responses:
        200:
          description: Successful response
          schema:
            properties:
              data:
                properties:
                  clarifications:
                    description: Array of clarifications
                  created_at:
                    description: Date response was created
                  created_by_user_id:
                    description: User ID who created response
                  duration:
                    description: Quoted duration in days
                  evaluation_score:
                    description: Evaluation score out of 100
                  exclusions:
                    description: Array of exclusions
                  id:
                    description: Internal identifier for RFQ response
                  notes:
                    description: Additional notes
                  rfq_id:
                    description: RFQ ID this response belongs to
                  scope_of_work_quotes:
                    description: Array of quotes per scope of work item
                  submitted_date:
                    description: Date when response was submitted
                  supplier_company_id:
                    description: Company ID of the supplier
                  total_amount:
                    description: Total quoted amount
                  updated_at:
                    description: Date response was last updated
                type: object
              message:
                description: Response message
            type: object
        401:
          description: Unauthorized
        404:
          description: RFQ response not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get RFQ Response By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
    patch:
      operationId: v2_updateRFQResponseById
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: string
      - in: path
        name: rfqId
        required: true
        type: string
      - in: path
        name: responseId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            clarifications:
              description: Array of clarifications
              items:
                type: string
              type: array
            duration:
              description: Quoted duration in days
              type: integer
            evaluation_score:
              description: Evaluation score out of 100 (0-100)
              maximum: 100
              minimum: 0
              type: number
            exclusions:
              description: Array of exclusions
              items:
                type: string
              type: array
            notes:
              description: Additional notes
              type: string
            scope_of_work_quotes:
              description: Array of quotes per scope of work item
              items:
                properties:
                  quoted_value:
                    description: Quoted value for this scope
                    type: number
                  scope_id:
                    description: Scope of work ID
                type: object
              type: array
            submitted_date:
              description: Date when response was submitted
              type: string
            supplier_company_id:
              description: Company ID of the supplier
              type: integer
            total_amount:
              description: Total quoted amount
              type: number
          type: object
      responses:
        200:
          description: RFQ response updated successfully
          schema:
            properties:
              data:
                properties:
                  clarifications:
                    description: Array of clarifications
                  created_at:
                    description: Date response was created
                  created_by_user_id:
                    description: User ID who created response
                  duration:
                    description: Quoted duration in days
                  evaluation_score:
                    description: Evaluation score out of 100
                  exclusions:
                    description: Array of exclusions
                  id:
                    description: Internal identifier for RFQ response
                  notes:
                    description: Additional notes
                  rfq_id:
                    description: RFQ ID this response belongs to
                  scope_of_work_quotes:
                    description: Array of quotes per scope of work item
                  submitted_date:
                    description: Date when response was submitted
                  supplier_company_id:
                    description: Company ID of the supplier
                  total_amount:
                    description: Total quoted amount
                  updated_at:
                    description: Date response was last updated
                type: object
              message:
                description: Response message
            type: object
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: RFQ response not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Update RFQ Response By Id
      tags:
      - RFQ
      x-ds-test-enabled: true
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/sectors:
    get:
      operationId: v2_getSectors
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get Sectors
      tags:
      - Info
      x-min-permissions: isCostUser
  /v2/workspaces/{workspaceId}/projects/{projectId}/sourcefiles:
    get:
      description: Returns all sourcefiles details for a project
      operationId: v2_getSourceFiles
      parameters:
      - description: The workspace name or identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier
        in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: A list of sourcefiles
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get sourcefiles by project ID
      tags:
      - Files
    patch:
      consumes:
      - application/json
      description: "This endpoint allows partial updates for a single source file\
        \ or multiple source files in a project. **Single update** requires `idSourceFiles`\
        \ to be present; **batch update** requires `sourceFilesId` (array) and `fileDetail`\
        \ (object).  \n- **Single Update**  \n  Required: `idSourceFiles`.  \n  Optional\
        \ fields to update include `FileName`, `IsControlFile`, `building_id`, `file_discipline`,\n\
        \  `team_bim_id`, `is_tracking_model`, `IsRoomDefining`, `is_zone_model`,\
        \ `Active`.  \n  - If `FileName` is provided, it must be unique within the\
        \ workspace.  \n  - If `IsControlFile` is set to `1`, any other file in the\
        \ same project with `IsControlFile = 1`\n    will be reset to `0`.\n\n- **Batch\
        \ Update**  \n  Required: `sourceFilesId` (array of integers) and `fileDetail`\
        \ (object).  \n  Optional fields to update are `file_discipline`, `team_bim_id`,\
        \ `building_id`, `is_tracking_model`,\n  `IsRoomDefining`, `is_zone_model`,\
        \ `Active`.  \n  - `FileName` and `IsControlFile` are **not** updated in batch\
        \ mode.  \n"
      operationId: v2_patchSourceFile
      parameters:
      - description: The workspace name or identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          description: 'Either provide `idSourceFiles` for single updates or provide  `sourceFilesId`
            and `fileDetail` for batch updates.

            '
          properties:
            Active:
              description: Flag indicating if this sourcefile is active.
              enum:
              - 0
              - 1
              type: integer
            FileName:
              description: New filename (unique within the workspace). Only for single
                update.
              type: string
            IsControlFile:
              description: Flag indicating if this file is the control file (only
                for single update).
              enum:
              - 0
              - 1
              type: integer
            IsRoomDefining:
              description: Flag indicating if this file is room-defining.
              enum:
              - 0
              - 1
              type: integer
            building_id:
              description: The new building ID.
              type: integer
            fileDetail:
              description: Fields to apply to all source files in sourceFilesId (except
                FileName & IsControlFile).
              properties:
                Active:
                  description: Flag indicating if these sourcefiles are active.
                  enum:
                  - 0
                  - 1
                  type: integer
                IsRoomDefining:
                  description: Flag for room-defining, applied to all selected files.
                  enum:
                  - 0
                  - 1
                  type: integer
                building_id:
                  description: The new building ID for all selected files.
                  type: integer
                file_discipline:
                  description: The new discipline for all selected files.
                  type: string
                is_tracking_model:
                  description: Flag for tracking model, applied to all selected files.
                  enum:
                  - 0
                  - 1
                  type: integer
                is_zone_model:
                  description: Flag for zone model, applied to all selected files.
                  enum:
                  - 0
                  - 1
                  type: integer
                team_bim_id:
                  description: The new team BIM ID for all selected files.
                  type: integer
              type: object
            file_discipline:
              description: The new discipline.
              type: string
            idSourceFiles:
              description: The unique identifier of a single sourcefile to update.
              type: integer
            is_tracking_model:
              description: Flag indicating if this file is a tracking model.
              enum:
              - 0
              - 1
              type: integer
            is_zone_model:
              description: Flag indicating if this file is a zone model.
              enum:
              - 0
              - 1
              type: integer
            sourceFilesId:
              description: A list of file IDs for a batch update.
              items:
                type: integer
              type: array
            team_bim_id:
              description: The new team BIM ID.
              type: integer
          type: object
      responses:
        200:
          description: Sourcefile(s) updated successfully
          schema:
            description: Either "Updated record with idSourceFiles=xxx" for single
              update or "Updated N records" for batch updates.
            type: string
        400:
          description: Bad Request
        401:
          description: Unauthorized
        404:
          description: No record updated. Possibly invalid idSourceFiles or projectid.
        409:
          description: Filename already exists
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit a source file or multiple files in a project
      tags:
      - Files
    post:
      consumes:
      - application/json
      description: Creates a new sourcefile in a project with the provided filename
        and discipline
      operationId: v2_postSourceFiles
      parameters:
      - description: The workspace name or identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: The project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            discipline:
              description: The discipline of the sourcefile (e.g., "Architecture")
              type: string
            filename:
              description: The name of the sourcefile (e.g., "MyFile.rvt")
              type: string
          required:
          - filename
          - discipline
          type: object
      responses:
        201:
          description: Sourcefile successfully created
        400:
          description: Bad Request
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a sourcefile in a project
      tags:
      - Files
  /v2/workspaces/{workspaceId}/projects/{projectId}/teams:
    get:
      operationId: v2_getTeams
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: query
        name: includeDetails
        required: false
        type: boolean
      responses:
        200:
          description: list of teams
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get list of teams
      tags:
      - Teams
    post:
      operationId: v2_postTeam
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            company_id:
              description: The company id of the team (see GET /companies)
              type: integer
            discipline:
              description: The name of the team
              type: string
            pri_abbrev:
              description: The abbreviation of the team
              type: string
          required:
          - discipline
          - pri_abbrev
          - company_id
          type: object
      responses:
        200:
          description: new team created
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a new team
      tags:
      - Teams
  /v2/workspaces/{workspaceId}/projects/{projectId}/teams/bulk:
    post:
      operationId: v2_postTeamsBulk
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - description: The file to upload
        in: formData
        name: file
        required: true
        type: string
      responses:
        200:
          description: updates complete
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Bulk edit teams with template
      tags:
      - Teams
  /v2/workspaces/{workspaceId}/projects/{projectId}/teams/{teamId}:
    patch:
      operationId: v2_patchTeam
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: teamId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            company_id:
              description: The company id of the team (see GET /companies)
              type: integer
            discipline:
              description: The name of the team
              type: string
            pri_abbrev:
              description: The abbreviation of the team
              type: string
          type: object
      responses:
        200:
          description: team edited
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit a team
      tags:
      - Teams
  /v2/workspaces/{workspaceId}/projects/{projectId}/tokens/{tokenId}:
    get:
      operationId: v2_getProjectTokens
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: tokenId
        required: true
        type: string
      - description: Include isProjectManager flag in response
        in: query
        name: includeIsProjectManagerFlag
        required: false
        type: boolean
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get a token for a project
      tags:
      - Tokens
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals:
    get:
      description: Retrieve transmittals for a project with optional filters and pagination
      operationId: v2_listTransmittals
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Filter by status (draft, sent, closed)
        in: query
        name: status
        required: false
        type: string
      - description: Filter by WBS identifier
        in: query
        name: wbs_id
        required: false
        type: integer
      - description: Free text search across transmittal name and description
        in: query
        name: q
        required: false
        type: string
      - default: 1
        description: Page number for pagination
        in: query
        minimum: 1
        name: page
        required: false
        type: integer
      - default: 25
        description: Number of results per page
        in: query
        maximum: 100
        minimum: 1
        name: limit
        required: false
        type: integer
      responses:
        200:
          description: List of transmittals
          schema:
            properties:
              items:
                items:
                  type: object
                type: array
              limit:
                type: integer
              page:
                type: integer
              total_count:
                type: integer
            type: object
        400:
          description: Invalid request parameters
        403:
          description: Workspace or project access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: List transmittals
      tags:
      - Transmittals
    post:
      description: Create a new transmittal package for the project
      operationId: v2_createTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Optional description of the transmittal
              type: string
            transmittal_name:
              description: Name of the transmittal package
              type: string
            transmittal_number:
              description: Manual transmittal number (auto-generated if not provided)
              type: string
            wbs_id:
              description: WBS identifier for the transmittal (optional)
              type: integer
          required:
          - transmittal_name
          type: object
      responses:
        201:
          description: Transmittal created successfully
          schema:
            type: object
        400:
          description: Invalid request data
        403:
          description: Workspace or project access forbidden
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Create transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}:
    delete:
      description: Soft delete a transmittal (only if status is draft)
      operationId: v2_deleteTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      responses:
        200:
          description: Transmittal deleted successfully
        400:
          description: Cannot delete - transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Delete transmittal
      tags:
      - Transmittals
    get:
      description: Retrieve a specific transmittal by its unique identifier
      operationId: v2_getTransmittalById
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      responses:
        200:
          description: Transmittal details
          schema:
            type: object
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get transmittal by ID
      tags:
      - Transmittals
    put:
      description: Update an existing transmittal (only if status is draft)
      operationId: v2_updateTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              type: string
            transmittal_name:
              type: string
            transmittal_number:
              type: string
            wbs_id:
              type: integer
          type: object
      responses:
        200:
          description: Updated transmittal
          schema:
            type: object
        400:
          description: Invalid request data or transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Update transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/activity:
    get:
      description: Retrieve download activity log for the transmittal
      operationId: v2_getTransmittalActivity
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      responses:
        200:
          description: Transmittal activity log
          schema:
            properties:
              activity:
                items:
                  type: object
                type: array
              transmittal_id:
                type: string
            type: object
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get transmittal activity
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/documents:
    post:
      description: Add a CDE document to the transmittal package
      operationId: v2_addDocumentToTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_id:
              description: CDE document identifier
              type: string
          required:
          - cde_id
          type: object
      responses:
        200:
          description: Document added successfully
          schema:
            type: object
        400:
          description: Invalid CDE document or transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Add document to transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/documents/{cdeId}:
    delete:
      description: Remove a CDE document from the transmittal package
      operationId: v2_removeDocumentFromTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - description: CDE document identifier
        in: path
        name: cdeId
        required: true
        type: string
      responses:
        200:
          description: Document removed successfully
        400:
          description: Cannot remove - transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal or document not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Remove document from transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/recipients:
    post:
      description: Add a recipient to the transmittal package
      operationId: v2_addRecipientToTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            company:
              description: Recipient company (optional)
              type: string
            email:
              description: Recipient email address
              type: string
            kinde_id:
              description: Kinde user identifier
              type: string
            name:
              description: Recipient name
              type: string
          required:
          - kinde_id
          - email
          - name
          type: object
      responses:
        200:
          description: Recipient added successfully
          schema:
            type: object
        400:
          description: Invalid data or transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Add recipient to transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/recipients/{kindeId}:
    delete:
      description: Remove a recipient from the transmittal package
      operationId: v2_removeRecipientFromTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - description: Kinde user identifier
        in: path
        name: kindeId
        required: true
        type: string
      responses:
        200:
          description: Recipient removed successfully
        400:
          description: Cannot remove - transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal or recipient not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Remove recipient from transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/send:
    post:
      description: Send the transmittal package (locks it with purpose)
      operationId: v2_sendTransmittal
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            purpose:
              description: Purpose of transmittal
              enum:
              - For Construction
              - For Approval
              - For Information
              - For Review
              - For Comment
              - For Tender
              type: string
          required:
          - purpose
          type: object
      responses:
        200:
          description: Transmittal sent successfully
          schema:
            type: object
        400:
          description: Invalid request or transmittal already sent
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Send transmittal
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/transmittals/{transmittalId}/track-download:
    post:
      description: Record download activity when recipient downloads a document
      operationId: v2_trackTransmittalDownload
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: Transmittal unique identifier
        in: path
        name: transmittalId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            cde_id:
              description: CDE document identifier
              type: string
            ip_address:
              description: Optional IP address of downloader
              type: string
            kinde_id:
              description: Downloader Kinde user identifier
              type: string
          required:
          - cde_id
          - kinde_id
          type: object
      responses:
        200:
          description: Download tracked successfully
        400:
          description: Invalid request
        403:
          description: Workspace or project access forbidden
        404:
          description: Transmittal or document not found
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Track document download
      tags:
      - Transmittals
  /v2/workspaces/{workspaceId}/projects/{projectId}/users:
    get:
      description: Returns all users and user details for a project
      operationId: v2_getProjectUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get users in a project
      tags:
      - Users
    post:
      description: Creates a user if not already exista and invites to project
      operationId: v2_postProjectUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              description: The email of the user
              type: string
            isProjectManager:
              description: bool indicating whether the user is a project manager (default
                false)
              type: boolean
            isProjectViewer:
              description: bool indicating whether the user is a project viewer (default
                false)
              type: boolean
            isRevitUsers:
              description: bool indicating whether the user is a revit user (default
                false)
              type: boolean
            isWorkspaceDashboardViewer:
              description: bool indicating whether the user is a workspace viewer
                (default false)
              type: boolean
            isWorkspaceManager:
              description: bool indicating whether the user is a workspace manager
                (default false)
              type: boolean
            name:
              description: The name of the user like First Last
              type: string
            team_bim_id:
              description: The team id to add the user to on the project
              type: integer
          required:
          - email
          - name
          - team_bim_id
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Invite user to a project
      tags:
      - Users
  /v2/workspaces/{workspaceId}/projects/{projectId}/users/email:
    post:
      description: Resends project invite notification to an existing user
      operationId: v2_postProjectUsersEmail
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              description: The email of the user to resend project invite to
              type: string
          required:
          - email
          type: object
      responses:
        200:
          description: Project invite notification resent successfully
          schema:
            properties:
              data:
                properties:
                  kinde_id:
                    description: The Kinde ID of the user
                    type: string
                  message:
                    description: Additional message about the resend operation
                    type: string
                type: object
              message:
                description: Success message
                type: string
            type: object
        400:
          description: Bad Request - Invalid email, user not found, or user doesn't
            have project viewer permission
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Resend invite email to user in project
      tags:
      - Users
  /v2/workspaces/{workspaceId}/projects/{projectId}/users/{userId}:
    delete:
      description: Remove's a user's permissions and team assignment from a project
      operationId: v2_deleteProjectUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Remove a user from a project
      tags:
      - Users
    get:
      description: Returns user and details for specified project
      operationId: v2_getProjectUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get user in a project
      tags:
      - Users
    patch:
      description: Edit project-level attributes of a user
      operationId: v2_patchProjectUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: path
        name: userId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            isProjectManager:
              description: bool indicating whether the user is a project manager (default
                false)
              type: boolean
            isProjectTeam:
              description: bool indicating whether the user is a project team member
                (default false)
              type: boolean
            isProjectViewer:
              description: bool indicating whether the user is a project viewer (default
                false)
              type: boolean
            isRevitUsers:
              description: bool indicating whether the user is a revit user (default
                false)
              type: boolean
            name:
              description: The name of the user like First Last
              type: string
            team_bim_id:
              description: The team id to add the user to on the project
              type: integer
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit a user in a project
      tags:
      - Users
  /v2/workspaces/{workspaceId}/projects/{projectId}/wbs:
    delete:
      description: Delete a single WBS item by ID. Requires X-Horizon-Product header
        for Firestore-based deletion. Cannot delete WBS items that have children.
      operationId: v2_deleteWBS
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Project identifier
        in: path
        name: projectId
        required: true
        type: integer
      - description: WBS item ID to delete
        in: query
        name: wbsId
        required: true
        type: string
      - description: Required header for Firestore-based endpoints
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: true
        type: string
      responses:
        200:
          description: WBS item deleted successfully
        400:
          description: Bad Request - WBS has children or invalid parameters
        401:
          description: Unauthorized
        404:
          description: WBS item not found
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Delete a WBS item
      tags:
      - WBS
      x-min-permissions: isProjectManager
    get:
      operationId: v2_getWBS
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get WBS
      tags:
      - Resources
    patch:
      operationId: v2_patchWBS
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            parent_wbs_id:
              description: The parent WBS id
              type: integer
            wbs_name:
              description: The name of the wbs
              type: string
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit a WBS
      tags:
      - WBS
      x-min-permissions: isProjectManager
    post:
      operationId: v2_postWBS
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: projectId
        required: true
        type: integer
      - in: body
        name: body
        required: true
        schema:
          properties:
            parent_wbs_id:
              description: The parent WBS id
              type: integer
            wbs_name:
              description: The name of the wbs
              type: string
          required:
          - wbs_name
          type: object
      responses:
        200:
          description: Successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Create a WBS
      tags:
      - WBS
      x-min-permissions: isProjectManager
  /v2/workspaces/{workspaceId}/reports/cost-forecast/projects:
    get:
      description: Returns cost forecast data with budget variance for all projects
        in workspace
      operationId: v2_getCostForecastProjects
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: List of cost forecast projects
          schema:
            properties:
              data:
                items:
                  properties:
                    contractValue:
                      type: number
                    costToComplete:
                      type: number
                    costToDate:
                      type: number
                    currentBudget:
                      type: number
                    forecastFinal:
                      type: number
                    id:
                      type: string
                    percentComplete:
                      type: number
                    projectName:
                      type: string
                    status:
                      type: string
                    variance:
                      type: number
                  type: object
                type: array
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get cost forecast projects list
      tags:
      - Reports
  /v2/workspaces/{workspaceId}/reports/cost-forecast/summary:
    get:
      description: Returns aggregated cost-to-complete forecast metrics with budget
        variance across all projects
      operationId: v2_getCostForecastSummary
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: Cost forecast summary data
          schema:
            properties:
              data:
                properties:
                  costToComplete:
                    type: number
                  costToCompletePercentage:
                    type: number
                  forecastVariance:
                    type: number
                  forecastVariancePercentage:
                    type: number
                  totalCostToDate:
                    type: number
                  totalCostToDateBudget:
                    type: number
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get cost forecast summary metrics for workspace
      tags:
      - Reports
  /v2/workspaces/{workspaceId}/reports/wip/projects:
    get:
      description: Returns Work in Progress data for all projects in workspace
      operationId: v2_getWIPProjects
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: List of WIP projects
          schema:
            properties:
              data:
                items:
                  properties:
                    certifiedPercentage:
                      type: number
                    certifiedToDate:
                      type: number
                    claimedPercentage:
                      type: number
                    claimedToDate:
                      type: number
                    contractValue:
                      type: number
                    costToComplete:
                      type: number
                    costToDate:
                      type: number
                    forecastFinal:
                      type: number
                    forecastMargin:
                      type: number
                    forecastMarginPercentage:
                      type: number
                    id:
                      type: string
                    percentageComplete:
                      type: number
                    projectName:
                      type: string
                  type: object
                type: array
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get WIP projects list
      tags:
      - Reports
  /v2/workspaces/{workspaceId}/reports/wip/summary:
    get:
      description: Returns Work in Progress summary metrics aggregated across all
        projects in workspace
      operationId: v2_getWIPSummary
      parameters:
      - description: Workspace ID
        in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: WIP summary data
          schema:
            properties:
              data:
                properties:
                  activeProjects:
                    type: integer
                  certifiedPercentage:
                    type: number
                  claimedPercentage:
                    type: number
                  costToComplete:
                    type: number
                  costToCompletePercentage:
                    type: number
                  totalCertified:
                    type: number
                  totalClaimed:
                    type: number
                  totalContractValue:
                    type: number
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Get WIP summary metrics for workspace
      tags:
      - Reports
  /v2/workspaces/{workspaceId}/resources:
    get:
      description: Retrieves resources for a specific workspace. Supports both legacy
        (MySQL/BigQuery) and Firestore implementations via X-Horizon-Product header.
      operationId: v2_getWorkspaceResources
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      - description: Optional header to enable Firestore-based implementation with
          enhanced features
        enum:
        - 'true'
        in: header
        name: X-Horizon-Product
        required: false
        type: string
      - description: Search query for resource name, type, or description (Firestore
          only)
        in: query
        name: q
        required: false
        type: string
      - description: Filter by resource type
        in: query
        name: resource_type
        required: false
        type: string
      - description: Filter by project ID
        in: query
        name: project_id
        required: false
        type: integer
      - default: 100
        description: Maximum number of resources to return (Firestore only)
        in: query
        maximum: 1000
        minimum: 1
        name: limit
        required: false
        type: integer
      - default: 0
        description: Number of resources to skip for pagination (Firestore only)
        in: query
        minimum: 0
        name: offset
        required: false
        type: integer
      responses:
        200:
          description: Resources retrieved successfully
        400:
          description: Invalid request parameters
        401:
          description: Unauthorized
        500:
          description: Internal server error
      security:
      - JWT_v2: []
      summary: Get resources for workspace
      tags:
      - Resources
  /v2/workspaces/{workspaceId}/roles:
    get:
      description: Retrieve all roles for the specified workspace
      operationId: v2_listWorkspaceRoles
      parameters:
      - description: Workspace identifier
        in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: List of roles
          schema:
            properties:
              data:
                properties:
                  items:
                    items:
                      properties:
                        createdAt:
                          description: Creation timestamp
                          type: string
                        createdBy:
                          description: User who created the role
                          type: string
                        description:
                          description: Role description
                          type: string
                        features:
                          description: Features and permissions
                          items:
                            type: object
                          type: array
                        id:
                          description: Role ID
                          type: string
                        name:
                          description: Role name
                          type: string
                        updatedAt:
                          description: Last update timestamp
                          type: string
                        workspaceId:
                          description: Workspace ID
                          type: string
                      type: object
                    type: array
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: List roles for workspace
      tags:
      - Roles
    post:
      operationId: v2_createWorkspaceRole
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Role description
              type: string
            features:
              description: Features and permissions
              items:
                type: object
              type: array
            name:
              description: Role name
              type: string
          required:
          - name
          type: object
      responses:
        201:
          description: Role created
          schema:
            properties:
              data:
                properties:
                  createdBy:
                    description: User who created the role
                    type: string
                  description:
                    description: Role description
                    type: string
                  features:
                    description: Features and permissions
                    items:
                      type: object
                    type: array
                  id:
                    description: Role ID
                    type: string
                  name:
                    description: Role name
                    type: string
                  workspaceId:
                    description: Workspace ID
                    type: string
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Create a new role
      tags:
      - Roles
  /v2/workspaces/{workspaceId}/roles/{roleId}:
    delete:
      operationId: v2_deleteWorkspaceRole
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: roleId
        required: true
        type: string
      responses:
        200:
          description: Deleted
          schema:
            properties:
              data:
                properties:
                  deleted:
                    description: Deletion status
                    type: boolean
                  id:
                    description: Deleted role ID
                    type: string
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Delete role
      tags:
      - Roles
    get:
      operationId: v2_getWorkspaceRole
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: roleId
        required: true
        type: string
      responses:
        200:
          description: Role details
          schema:
            properties:
              data:
                properties:
                  createdAt:
                    description: Creation timestamp
                    type: string
                  createdBy:
                    description: User who created the role
                    type: string
                  description:
                    description: Role description
                    type: string
                  features:
                    description: Features and permissions
                    items:
                      type: object
                    type: array
                  id:
                    description: Role ID
                    type: string
                  name:
                    description: Role name
                    type: string
                  updatedAt:
                    description: Last update timestamp
                    type: string
                  workspaceId:
                    description: Workspace ID
                    type: string
                type: object
              ok:
                type: boolean
            type: object
        404:
          description: Role not found
      security:
      - JWT_v2: []
      summary: Get role by ID
      tags:
      - Roles
    patch:
      operationId: v2_updateWorkspaceRole
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: roleId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            description:
              description: Role description
              type: string
            features:
              description: Features and permissions
              items:
                type: object
              type: array
            name:
              description: Role name
              type: string
          type: object
      responses:
        200:
          description: Updated role
          schema:
            properties:
              data:
                properties:
                  createdAt:
                    description: Creation timestamp
                    type: string
                  createdBy:
                    description: User who created the role
                    type: string
                  description:
                    description: Role description
                    type: string
                  features:
                    description: Features and permissions
                    items:
                      type: object
                    type: array
                  id:
                    description: Role ID
                    type: string
                  name:
                    description: Role name
                    type: string
                  updatedAt:
                    description: Last update timestamp
                    type: string
                  workspaceId:
                    description: Workspace ID
                    type: string
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Update role
      tags:
      - Roles
  /v2/workspaces/{workspaceId}/tokens/{tokenId}:
    get:
      operationId: v2_getWorkpaceToken
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: tokenId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get a token for a workspace
      tags:
      - Tokens
  /v2/workspaces/{workspaceId}/users:
    get:
      description: Returns all users and user details for a workspace
      operationId: v2_getWorkspaceUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Get users in a workspaces
      tags:
      - Users
    post:
      description: Creates user if not already exista and invites to workspace
      operationId: v2_postWorkspaceUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              description: The email of the user
              type: string
            isWorkspaceDashboardViewer:
              description: bool indicating whether the user is a workspace viewer
                (default false)
              type: boolean
            isWorkspaceManager:
              description: bool indicating whether the user is a workspace manager
                (default false)
              type: boolean
            name:
              description: The name of the user like First Last
              type: string
            projects:
              description: array of project to add the user to in workspace
              items:
                properties:
                  isProjectManager:
                    description: bool indicating whether the user is a project manager
                      (default false)
                    type: boolean
                  isProjectViewer:
                    description: bool indicating whether the user is a project viewer
                      (default false)
                    type: boolean
                  isRevitUser:
                    description: bool indicating whether the user is a revit user
                      (default false)
                    type: boolean
                  team_bim_id:
                    description: The team id to add the user to on the project
                    type: integer
                required:
                - team_bim_id
                type: object
              type: array
          required:
          - email
          - name
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Invite user to a workspace
      tags:
      - Users
  /v2/workspaces/{workspaceId}/users/email:
    post:
      description: Resends invite notification to an existing user in the workspace
      operationId: v2_postWorkspaceUsersEmail
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            email:
              description: The email of the user to resend invite to
              type: string
          required:
          - email
          type: object
      responses:
        200:
          description: Invite notification resent successfully
          schema:
            properties:
              data:
                properties:
                  kinde_id:
                    description: The Kinde ID of the user
                    type: string
                  message:
                    description: Additional message about the resend operation
                    type: string
                type: object
              message:
                description: Success message
                type: string
            type: object
        400:
          description: Bad Request - Invalid email, user not found, or user doesn't
            have workspace access
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Resend invite email to user in workspace
      tags:
      - Users
  /v2/workspaces/{workspaceId}/users/{userId}:
    patch:
      description: Edit workspace-level attributes of a user
      operationId: v2_patchWorkspaceUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: userId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            isWorkspaceDashboardViewer:
              description: bool indicating whether the user isWorkspaceDashboardViewer
                (default false)
              type: boolean
            isWorkspaceManager:
              description: bool indicating whether the user isWorkspaceManager (default
                false)
              type: boolean
          type: object
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Edit a user in a workspace
      tags:
      - Users
    post:
      operationId: v2_postWorkspaceUserId
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: A successful response
        401:
          description: Unauthorized
        500:
          description: Internal Server Error
      security:
      - JWT_v2: []
      summary: Resend invite email to user in workspace
      tags:
      - Users
  /v2/workspaces/{workspaceId}/users_hz:
    get:
      description: Returns extended Horizon user records for the workspace (role assignment,
        department, status, etc.)
      operationId: v2_listHorizonUsers
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      responses:
        200:
          description: List of Horizon users
          schema:
            properties:
              data:
                properties:
                  items:
                    items:
                      properties:
                        department:
                          type: string
                        email:
                          type: string
                        full_name:
                          type: string
                        id:
                          description: Horizon user ID (typically kinde_id)
                          type: string
                        notes:
                          type: string
                        phone:
                          type: string
                        position:
                          type: string
                        require_2fa:
                          type: boolean
                        role_id:
                          type: string
                        status:
                          type: string
                      type: object
                    type: array
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: List Horizon users (extended user records) for a workspace
      tags:
      - Horizon Users
    post:
      operationId: v2_createHorizonUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          properties:
            department:
              type: string
            email:
              type: string
            full_name:
              type: string
            id:
              description: Kinde user id (or unique user id) for the record
              type: string
            notes:
              type: string
            phone:
              type: string
            position:
              type: string
            require_2fa:
              type: boolean
            role_id:
              type: string
            status:
              type: string
          type: object
      responses:
        201:
          description: Horizon user created
          schema:
            properties:
              data:
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Create a Horizon user record
      tags:
      - Horizon Users
  /v2/workspaces/{workspaceId}/users_hz/{userId}:
    delete:
      operationId: v2_deleteHorizonUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: Deleted
          schema:
            properties:
              data:
                properties:
                  deleted:
                    type: boolean
                  id:
                    type: string
                type: object
              ok:
                type: boolean
            type: object
      security:
      - JWT_v2: []
      summary: Delete (soft delete) Horizon user record
      tags:
      - Horizon Users
    get:
      operationId: v2_getHorizonUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: userId
        required: true
        type: string
      responses:
        200:
          description: Horizon user record
          schema:
            properties:
              data:
                type: object
              ok:
                type: boolean
            type: object
        404:
          description: Not found
      security:
      - JWT_v2: []
      summary: Get Horizon user record by ID
      tags:
      - Horizon Users
    patch:
      operationId: v2_updateHorizonUser
      parameters:
      - in: path
        name: workspaceId
        required: true
        type: string
      - in: path
        name: userId
        required: true
        type: string
      - in: body
        name: body
        required: true
        schema:
          description: Partial fields to update
          type: object
      responses:
        200:
          description: Updated Horizon user
      security:
      - JWT_v2: []
      summary: Update Horizon user record
      tags:
      - Horizon Users
schemes:
- https
securityDefinitions:
  JWT_v2:
    authorizationUrl: ''
    flow: implicit
    type: oauth2
swagger: '2.0'
